# å‰‘æŒ‡offer

## é˜Ÿåˆ—æˆ–æ¡Ÿä»¥O(1)å®ç°æ±‚maxå’Œmin

é¢˜ç›®:![](./image/å‰‘æŒ‡offer30-59.png)

å½“æ¶‰åŠåˆ°é˜Ÿåˆ—æˆ–è€…æ¡Ÿå®ç°maxå’Œminçš„O(1)æ—¶,ä¸€å®šéœ€è¦å€ŸåŠ©è¾…åŠ©å˜é‡
1. æ¡Ÿ: ä½¿ç”¨**è¾…åŠ©æ¡Ÿ**
	1.1. åªå‹å…¥æ¯”å½“å‰è¾…åŠ©æ¡Ÿtopå¤§çš„æ•°,åå‘å¼¹å‡º
2. é˜Ÿåˆ—queue: ä½¿ç”¨**è¾…åŠ©åŒç«¯é˜Ÿåˆ—deque**
	2.1. ä¸queueå‹å…¥é¡ºåºä¸€è‡´,ä»åå¾€å‰æ’å…¥
	2.2. å½“å‹å…¥æ•°æ®ä¸æ¯”backæ•°æ®å¤§æ—¶,ç›´æ¥å‹å…¥
	2.3. å½“æ¯”backæ•°æ®å¤§æ—¶,å¾ªç¯å¼¹å‡ºback,ç›´åˆ°backå¤§äºç­‰äºå‹å…¥æ•°æ®,æˆ–è€…dequeä¸ºç©ºæ—¶,å†å‹å…¥

- ä½¿ç”¨åœºæ™¯
  - æ»‘åŠ¨çª—ä¸æ–­çš„ç§»åŠ¨ï¼Œå¹¶æ±‚å„ä¸ªæ»‘åŠ¨çª—çš„æœ€å¤§å€¼

## å¿«é€Ÿå¹‚çš„æ±‚è§£æ–¹æ³•

æš‚æ—¶ä¸ç†è§£Leecodeçš„è§£æï¼Œåé¢å†ä»”ç»†å­¦ä¹ 

## äºŒåˆ†æ³•ç¤ºä¾‹

```cpp
/**
*   äºŒåˆ†æ³•æŸ¥æ‰¾æ•°ç»„ä¸­ï¼ŒæŸä¸ªæ•°çš„å³è¾¹ç•Œ, è¿”å›è¾¹ç•Œ
*/
int binary_search(vector<int>& nums, int target){
    // åˆå§‹åŒ–æœç´¢è¾¹ç•Œ
    int i = 0, j = nums.size() - 1;
    while(i < j){
        // åˆ¤æ–­ä¸­é—´ä½ç½®,å‘ä¸‹å–æ•´
        int mid = (i + j) / 2;
        if(nums[mid] <= target) // ä¿è¯æœç´¢èŒƒå›´å†…çš„æ•°éƒ½å¤§äºç›®æ ‡å€¼
            i = mid + 1;
        else
            j = mid - 1;
    }
    // æ­¤æ—¶ï¼Œå¿…å®ši=j + 1
    return i;
}
```

## ä½è¿ç®—è¡¨ç¤ºåŠ æ³•

é‡ç‚¹å­¦ä¹ ï¼šå‰‘æŒ‡offer65

> å†™ä¸€ä¸ªå‡½æ•°ï¼Œæ±‚ä¸¤ä¸ªæ•´æ•°ä¹‹å’Œï¼Œè¦æ±‚åœ¨å‡½æ•°ä½“å†…ä¸å¾—ä½¿ç”¨ â€œ+â€ã€â€œ-â€ã€â€œ*â€ã€â€œ/â€ å››åˆ™è¿ç®—ç¬¦å·ã€‚

```cpp
class Solution {
public:
    // å‚è€ƒè§£æç†è§£ä½è¿ç®—
    /** åŠ æ³•=å¼‚æˆ–+(ä¸ä¸”<<1)
    *
    */
    int add(int a, int b) {
        while(b != 0){
            //C++ä¸­è´Ÿæ•°ä¸æ”¯æŒå·¦ç§»ä½ï¼Œå› ä¸ºç»“æœæ˜¯ä¸å®šçš„
            int c = (unsigned int)(a & b) << 1; // è¿›ä½å’Œï¼Œå½“æ— è¿›ä½æ—¶cå°±ä¸º0ï¼Œè·³å‡ºå¾ªç¯
            a ^= b; // å¼‚æˆ–ç­‰åŒäºæ²¡æœ‰è¿›ä½çš„åŠ æ³•
            b = c; 
        }
        return a;
    }
};
```

## çº¦ç‘Ÿå¤«ç¯é—®é¢˜

[å‰‘æŒ‡ Offer 62. åœ†åœˆä¸­æœ€åå‰©ä¸‹çš„æ•°å­—](https://leetcode-cn.com/problems/yuan-quan-zhong-zui-hou-sheng-xia-de-shu-zi-lcof/)

å‡è®¾dp[n]ä¸º[n, m]é—®é¢˜å‰©ä¸‹çš„æœ€åä¸€ä¸ªæ•°ï¼Œå…¶ä¸­åˆå§‹åŒ–æ¡ä»¶dp[1]=0
$$
\begin{array}{rl}
dp[n]: &0,1,2,...,n-1 \\
& t,t+1,t+2,...,0,1,2,...,t-2\\
dp[n-1]:&0,1,2,...,n-2 \\
\end{array}.
$$
å¦‚ä¸Šï¼š

1. ç¬¬ä¸€è¡Œä¸ºdp[n]æ—¶å¯¹åº”çš„å¾…åˆ é™¤æ•°ç»„
2. åˆ é™¤æ•°$(m-1)\%n$åï¼Œå¹¶æŠŠåä¸€ä¸ªæ•°$t=m\%n$ç§»åŠ¨åˆ°å¼€å¤´ï¼Œå¾—åˆ°æ–°çš„é˜Ÿåˆ—ï¼Œä¹Ÿå°±æ˜¯ç¬¬äºŒè¡Œ
3. ç¬¬ä¸‰è¡Œæ˜¯dp[n-1]æ—¶å¯¹åº”çš„å¾…åˆ é™¤æ•°ç»„ï¼Œå°†ç¬¬äºŒè¡Œn-1ä¸ªæ•°ï¼Œä¸dp[n-1]æ—¶çš„åæ ‡è¿›è¡Œå¯¹æ¯”ï¼Œå¯ä»¥å¾—åˆ°dp[n-1]åˆ°dp[n]åŒä¸€ç´¢å¼•ä¸‹æ•°å€¼çš„å¯¹åº”å…³ç³»ã€‚

$$
\begin{aligned}{}
dp[n]&=(dp[n-1]+t)\%n \\
&=(dp[n-1]+m)\%n
\end{aligned}
$$

è‡³æ­¤æ‰¾åˆ°äº†åˆå§‹çŠ¶æ€dp[1]=0ï¼ŒçŠ¶æ€è½¬ç§»å…¬å¼ï¼Œå› æ­¤å¯ä»¥å†™å‡ºç¨‹åºå¦‚ä¸‹

```C++
class Solution {
public:
    int lastRemaining(int n, int m) {
        int ret = 0;
        for(int i=2; i<=n; i++){
            ret = (ret + m) % i;
        }
        return ret;
    }
};
```

## åŒºé—´åˆå¹¶é—®é¢˜

[56. åˆå¹¶åŒºé—´](https://leetcode-cn.com/problems/merge-intervals/)

[æˆ‘çš„é¢˜è§£](https://leetcode-cn.com/problems/merge-intervals/solution/56-he-bing-qu-jian-by-shou-hu-w9-guqn/)

[ğŸ¤·â€â™€ï¸å¿…é¡»ç§’æ‡‚åŠ›æ‰£åŒºé—´é¢˜ç›®ï¼šé‡å åŒºé—´ã€åˆå¹¶åŒºé—´ã€æ’å…¥åŒºé—´](https://mp.weixin.qq.com/s/ioUlNa4ZToCrun3qb4y4Ow)ï¼ˆæ€»ç»“äº†æ‰€æœ‰çš„åŒºé—´é¢˜å‹ï¼‰

## é“¾è¡¨é—®é¢˜æ€»ç»“ï¼ˆç¯ï¼Œä¸­é—´å…ƒç´ ï¼Œé“¾è¡¨æ’åºï¼‰

[ä¸€æ–‡æå®šå¸¸è§çš„é“¾è¡¨é—®é¢˜ (æ¬¢è¿äº¤æµ](https://leetcode-cn.com/problems/linked-list-cycle/solution/yi-wen-gao-ding-chang-jian-de-lian-biao-wen-ti-h-2/)

**é“¾è¡¨æ’åºï¼šå½’å¹¶æ’åº**

[148. æ’åºé“¾è¡¨](https://leetcode-cn.com/problems/sort-list/solution/148-pai-xu-lian-biao-by-shou-hu-w9-pnj3/)ï¼ˆæˆ‘çš„é¢˜è§£ï¼‰

**æŸ¥æ‰¾å…¥ç¯ç»“ç‚¹**

åˆ¤æ–­æ˜¯å¦æœ‰ç¯+æŸ¥æ‰¾å…¥ç¯ç‚¹

[142. ç¯å½¢é“¾è¡¨ II](https://leetcode-cn.com/problems/linked-list-cycle-ii/solution/142-huan-xing-lian-biao-ii-by-shou-hu-w9-n15q/)ï¼ˆæˆ‘çš„é¢˜è§£ï¼‰

## è®¡ç®—å™¨

å®ç°å¸¦æ‹¬å·çš„åŠ å‡ä¹˜é™¤æ“ä½œï¼ˆå­—èŠ‚ï¼‰

[224. åŸºæœ¬è®¡ç®—å™¨](https://leetcode-cn.com/problems/basic-calculator/solution/224-ji-ben-ji-suan-qi-by-shou-hu-w9-hns1/)ï¼ˆæˆ‘çš„é¢˜è§£ï¼‰

## æ’åˆ—ç»„åˆï¼ˆå›æº¯ç®—æ³•ï¼‰

[C++ æ€»ç»“äº†å›æº¯é—®é¢˜ç±»å‹ å¸¦ä½ ææ‡‚å›æº¯ç®—æ³•(å¤§é‡ä¾‹é¢˜)](https://leetcode-cn.com/problems/subsets/solution/c-zong-jie-liao-hui-su-wen-ti-lei-xing-dai-ni-gao-/)

1. ç”»å‡ºé€’å½’æ ‘ï¼Œæ ¹æ®æ ‘å¯»æ‰¾çŠ¶æ€å˜é‡ï¼ˆDFSå‡½æ•°çš„ä¼ å…¥å‚æ•°ï¼‰
2. å¯»æ‰¾é€’å½’æ¡ä»¶

- **æ’åˆ—ï¼Œ**å¦‚æœé€‰è¿‡çš„ä¸å¯ä»¥å†é€‰ï¼Œåº”è¯¥ä½¿ç”¨`vector<bool>used`è®°å½•éå†è¿‡çš„ç‚¹ï¼Œé˜²æ­¢ä¸‹æ¬¡ç»§ç»­éå†
- **ç»„åˆï¼Œ**å¦‚æœå­˜åœ¨æœ‰é¡ºåºçš„æœç´¢ï¼Œåº”è¯¥ä½¿ç”¨`start`æ ‡è®°æœç´¢æ•°ç»„çš„å¼€å§‹ä½ç½®ï¼Œé¿å…é‡å¤æœç´¢

# å¿…å¤‡ä»£ç 

## å­—ç¬¦ä¸²åˆ†å‰²ä¸ºæ•°ç»„

```cpp
vector<string> split(string &str, const string &pattern)
{
    vector<string> res;
    int pos;
    str += pattern;
    int sz = str.size();
    for (int i = 0; i < sz; i++)
    { // iæŒ‡å‘æŸ¥æ‰¾èµ·å§‹ä½ç½®
        pos = str.find(pattern, i);
        string s = str.substr(i, pos - i);
        res.push_back(s);
        i = pos + pattern.size() - 1; // æ›´æ–°iæŒ‡å‘ä¸‹ä¸€ä¸ªä½ç½®
    }
    return res;
}
```



# é¢˜å‹æ€»ç»“

## é€’å½’

#### [70. çˆ¬æ¥¼æ¢¯](https://leetcode-cn.com/problems/climbing-stairs/)

```cpp
class Solution {
public:
    int climbStairs(int n) {
        vector<int> dp(n+1, 0);
        dp[0] = dp[1] = 1;
        for(int i=2; i<=n; i++){
            dp[i] = dp[i-1] + dp[i-2];
        }
        return dp[n];
    }
};
```

#### [112. è·¯å¾„æ€»å’Œ](https://leetcode-cn.com/problems/path-sum/)

```cpp
/**
 * Definition for a binary tree node.
 * struct TreeNode {
 *     int val;
 *     TreeNode *left;
 *     TreeNode *right;
 *     TreeNode() : val(0), left(nullptr), right(nullptr) {}
 *     TreeNode(int x) : val(x), left(nullptr), right(nullptr) {}
 *     TreeNode(int x, TreeNode *left, TreeNode *right) : val(x), left(left), right(right) {}
 * };
 */
class Solution
{
public:
    /* åˆ¤æ–­å½“å‰ç»“ç‚¹æ˜¯å¦æ˜¯å¶å­ç»“ç‚¹ï¼š
        å¶å­ç»“ç‚¹+targetSum=root->valï¼štrue
        å…¶ä½™ä¸ºfalse
    */
    bool hasPathSum(TreeNode *root, int targetSum)
    {
        if (root == nullptr)
            return false;
        if (root->left == nullptr && root->right == nullptr && targetSum == root->val)
        {
            return true;
        }
        return hasPathSum(root->left, targetSum - root->val) || hasPathSum(root->right, targetSum - root->val);
    }
};

ä½œè€…ï¼šshou-hu-w9
é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/path-sum/solution/112-lu-jing-zong-he-by-shou-hu-w9-3xl6/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```

#### [509. æ–æ³¢é‚£å¥‘æ•°](https://leetcode-cn.com/problems/fibonacci-number/)

```cpp
class Solution {
public:
    int fib(int n) {
        if(n <= 1) return n;
        int dp[n+1];
        dp[0]=0; dp[1]=1;
        for(int i=2; i<=n; i++){
            dp[i] = dp[i-1] + dp[i-2];
        }
        return dp[n];
    }
};
```

#### [695. å²›å±¿çš„æœ€å¤§é¢ç§¯](https://leetcode-cn.com/problems/max-area-of-island/)

é€’å½’ï¼šæ²‰å²›ç®—æ³•
å¯ä»¥è§£å†³çš„é—®é¢˜æœ‰ï¼š

1. æ¯ä¸ªå²›å±¿çš„é¢ç§¯
2. å²›å±¿çš„æ•°é‡ï¼ˆè®¡ç®—å®Œé¢ç§¯åï¼Œåªæœ‰å²›å±¿é¢ç§¯ä¸ä¸º0å°±è®¤ä¸ºæ˜¯ä¸€ä¸ªå²›å±¿ï¼‰
3. è¢«åŒ…å›´çš„åŒºåŸŸï¼ˆç¬¬130é¢˜ï¼‰

```cpp
class Solution {
public:
    /*  æ±‚å‡ºæ¯ä¸ªå²›å±¿çš„é¢ç§¯-->å²›å±¿çš„é¢ç§¯ä½¿ç”¨é€’å½’æ±‚è§£
        å½“å‰ç‚¹æ‰€åœ¨å²›å±¿çš„é¢ç§¯ = å‘¨å›´ç‚¹æ‰€åœ¨å²›å±¿é¢ç§¯ ä¹‹å’Œ + 1ï¼ˆ1å°±æ˜¯å½“å‰ç‚¹çš„é¢ç§¯ï¼‰
            ä¸ºäº†ä¿è¯å½“å‰ç‚¹ä¸å½±å“å‘¨å›´ç‚¹é¢ç§¯çš„è®¡ç®—ï¼Œéå†åéœ€è¦å°†1å˜ä¸º0ï¼Œä¹Ÿå°±æ˜¯æ²‰å²›æ–¹æ³•ã€‚
    */
    int maxAreaOfIsland(vector<vector<int>>& grid) {
        rows = grid.size();
        cols = grid[0].size();
        int res = 0;
        for(int i=0; i<rows; i++){
            for(int j=0; j<cols; j++){
                res = max(res, dfs(grid, i, j));
            }
        }
        return res;
    }
    int dfs(vector<vector<int>>& grid, int x, int y){
        if(x < 0 || x >= rows || y < 0 || y >= cols || grid[x][y] == 0) // éå†åˆ°æ°´å°±ç›´æ¥è¿”å›ï¼Œé¢ç§¯ä¸º0
            return 0;
        grid[x][y] = 0; // æ²‰å²›ï¼Œé˜²æ­¢åç»­é€’å½’é‡æ–°éå†åˆ°è¯¥ç‚¹
        int res = 1;
        res += dfs(grid, x+1, y);
        res += dfs(grid, x-1, y);
        res += dfs(grid, x, y-1);
        res += dfs(grid, x, y+1);
        return res;
    }
private:
    int rows;
    int cols;
};

ä½œè€…ï¼šshou-hu-w9
é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/max-area-of-island/solution/695-dao-yu-de-zui-da-mian-ji-by-shou-hu-etct6/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```

#### [130. è¢«å›´ç»•çš„åŒºåŸŸ](https://leetcode-cn.com/problems/surrounded-regions/)

é€’å½’ï¼šæ²‰å²›ç®—æ³•ï¼ˆå’Œ695ä¸€ä¸ªæ€è·¯ï¼Œåªä¸è¿‡è¿™é‡Œåªéœ€è¦è®¡ç®—è¾¹ç¼˜ä½ç½®çš„è¿é€šåŸŸï¼‰

å¹¶æŸ¥é›†è§£æ³•è¯·çœ‹ä¸‹é¢ã€Šå¹¶æŸ¥é›†ä¸€èŠ‚ã€‹

```cpp
class Solution {
public:
    /*  æŸ¥æ‰¾å‡ºè¾¹ç¼˜ä½ç½®çš„è¿é€šåŸŸï¼Œæ ‡è®°ä½¿å…¶ä¸å˜å³å¯
        æ‰€ä»¥å†™å‡ºä¸€ä¸ªæŸ¥æ‰¾è¿é€šåŸŸçš„å‡½æ•°å³å¯(æ²‰å²›ç®—æ³•å³å¯)
    */
    void solve(vector<vector<char>>& board) {
        rows = board.size();
        cols = board[0].size();
        for(int i=0; i<rows; i++){
            for(int j=0; j<cols; j++){
                // åªå¯¹è¾¹ç¼˜ä½ç½®æŸ¥æ‰¾è¿é€šåŸŸ
                if(i==0 || j==0 || i==rows-1 || j==cols-1){
                    if(board[i][j] == 'O')
                        dfs(board, i, j);
                }
            }
        }
        // æŒ‰ç…§è¦æ±‚ä¿®æ”¹æ ‡å¿—ä½
        for(int i=0; i<rows; i++){
            for(int j=0; j<cols; j++){
                if(board[i][j] == 'O')
                    board[i][j] = 'X';
                else if(board[i][j] == '#')
                    board[i][j] = 'O';
            }
        }
    }

    void dfs(vector<vector<char>>& board, int x, int y){
        if(x < 0 || x >= rows || y < 0 || y >= cols || board[x][y] == 'X' || board[x][y] == '#') // éå†åˆ°Xå°±ç›´æ¥è¿”å›
            return;
        board[x][y] = '#'; // è¿›è¡Œæ ‡è®°
        dfs(board, x+1, y);
        dfs(board, x-1, y);
        dfs(board, x, y-1);
        dfs(board, x, y+1);
        return;
    }
private:
    int rows;
    int cols;
};

ä½œè€…ï¼šshou-hu-w9
é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/surrounded-regions/solution/130-bei-wei-rao-de-qu-yu-by-shou-hu-w9-jnfp/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```



#### [79. å•è¯æœç´¢](https://leetcode-cn.com/problems/word-search/)

```cpp
class Solution {
public:
    /*  éå†é—®é¢˜ï¼šé€’å½’+å›æº¯
        ç”»å‡ºé€’å½’æ ‘ï¼ŒçŠ¶æ€éå†ä¸ºï¼š
            1. å½“å‰éå†çš„èµ·ç‚¹ä½ç½®xy
            2. å½“å‰å¾…æŸ¥å­—ç¬¦çš„ä½ç½®begin
            3. å·²ç»æ·»åŠ åˆ°è·¯å¾„ä¸­çš„å•å…ƒæ ¼
        å›æº¯ï¼šå½“å‰å¾…æ£€æµ‹çš„æ–¹å‘ï¼ˆä¸Šä¸‹å·¦å³ï¼‰
        è¿”å›ï¼šæ˜¯å¦å­˜åœ¨
    */
    bool exist(vector<vector<char>>& board, string word) {
        m = board.size();
        n = board[0].size();
        len = word.size();
        for(int i = 0; i < m; i++){
            for(int j = 0; j < n; j++){
                vector<vector<bool>> visited(m, vector<bool>(n, false));
                if(dfs(board, word, i, j, 0, visited)){
                    return true;
                }
            }
        }
        return false;
    }
private:
    vector<vector<int>> DIRECTION{{1,0},{0,-1},{-1,0},{0,1}}; // æœç´¢æ–¹å‘
    int m, n, len;
    bool dfs(vector<vector<char>>& board, string& word, int x, int y, int begin, vector<vector<bool>>& visited){
        // é€€å‡ºæ¡ä»¶*****
        if(begin == len - 1){
            return board[x][y] == word[begin]; // å¦‚æœæœ€åä¸€ä¸ªå­—ç¬¦ç›¸åŒï¼Œå°±é€€å‡º
        }
        // é€’å½’æ¡ä»¶
        if(board[x][y] == word[begin]){ // åŒ¹é…æˆåŠŸï¼Œè¿›å…¥ä¸‹ä¸ªé€’å½’
            visited[x][y] = true;
            for(int i=0; i<4; i++){
                int new_x = x + DIRECTION[i][0];
                int new_y = y + DIRECTION[i][1];
                // å¦‚æœå½“å‰ä½ç½®æœªè¢«éå†ï¼Œä¸”ä¸‹ä¸€ä¸ªä½ç½®æ²¡æœ‰è¶…å‡ºè¾¹ç•Œå°±è¿›è¡Œé€’å½’æœç´¢
                if(new_x >= 0 && new_x < m && new_y >= 0 && new_y < n && !visited[new_x][new_y]){
                    // æ‰¾åˆ°äº†å°±ç›´æ¥è¿”å›ï¼Œä¸åœ¨éå†å…¶ä»–ä½ç½®******
                    if(dfs(board, word, new_x, new_y, begin+1, visited)){
                        return true;
                    }
                }
            }
            visited[x][y] = false; // å›æº¯
        }
        return false; // å¦‚æœæ²¡æœ‰æ‰¾åˆ°å°±è¿”å›false
    }
};
```



## åˆ†æ²»

é€’å½’æ€æƒ³ï¼Œå°†é—®é¢˜é€æ¸åŒ–ä¸ºå¤šä¸ªå­é—®é¢˜ï¼Œä¸€çº§ä¸€çº§çš„æœç´¢å³å¯ã€‚

<font color='red'>å½¢å‚å¿…å®šåŒ…å«æœç´¢èŒƒå›´ã€‚</font>

#### [LCP 23. é­”æœ¯æ’åˆ—](https://leetcode-cn.com/problems/er94lq/)â€”â€”æœªåš

#### [169. å¤šæ•°å…ƒç´ ](https://leetcode-cn.com/problems/majority-element/)

å­¦ä¹ åˆ†æ²»æ€æƒ³å¯ä»¥ç”¨ä¸‹é¢çš„åˆ†æ²»ï¼Œä½†å»ºè®®ç”¨æ‘©å°”æŠ•ç¥¨ã€‚

```cpp
class Solution
{
public:
    /*  åˆ†æ²»
    å¦‚æœæ•° a æ˜¯æ•°ç»„ nums çš„ä¼—æ•°ï¼Œå¦‚æœæˆ‘ä»¬å°† nums åˆ†æˆä¸¤éƒ¨åˆ†ï¼Œé‚£ä¹ˆ a å¿…å®šæ˜¯è‡³å°‘ä¸€éƒ¨åˆ†çš„ä¼—æ•°ã€‚
    å› æ­¤ï¼Œæ¯æ¬¡å°†æ•°æ®åˆ†ä¸ºå·¦å³ä¸¤éƒ¨åˆ†ï¼ˆéœ€è¦æ ‡è®°å·¦å³åŒºé—´ï¼‰ï¼Œåˆ†åˆ«è®¡ç®—å„è‡ªçš„ä¼—æ•°
        å¦‚æœå·¦å³ä¼—æ•°ç›¸åŒï¼Œåˆ™ä¼—æ•°å°±æ˜¯è¿™ä¸ª
        ä¸åŒï¼Œå°±æŸ¥æ‰¾è°å‡ºç°çš„æ¬¡æ•°å¤šï¼Œå°±æ˜¯è°
    */
    int majorityElement(vector<int> &nums)
    {
        return recur(nums, 0, nums.size()-1);
    }

private:
    int recur(vector<int> &nums, int left, int right)
    {
        if (left == right) // åªæœ‰ä¸€ä¸ªå…ƒç´ ï¼Œè‡ªç„¶è€Œç„¶è¯¥æ•°å°±æ˜¯ä¼—æ•°
            return nums[left];
        int mid = left + (right - left) / 2;
        int left_majority = recur(nums, left, mid);
        int right_majority = recur(nums, mid + 1, right);
        if (left_majority == right_majority)
            return left_majority;
        if (countInRange(nums, left_majority, left, mid) > countInRange(nums, right_majority, mid + 1, right))
        {
            return left_majority;
        }
        else
        {
            return right_majority;
        }
    }
    // è®¡ç®—ç›®æ ‡å…ƒç´ çš„æ•°é‡
    int countInRange(vector<int> &nums, int target, int left, int right)
    {
        int res = 0;
        for (int num : nums)
        {
            if (num == target)
                res++;
        }
        return res;
    }
};

```

æ‘©å°”æŠ•ç¥¨æ–¹æ³•

```cpp
class Solution {
public:
    int majorityElement(vector<int>& nums) {
        int candidate = -1;
        int count = 0;
        for (int num : nums) {
            if (num == candidate)
                ++count;
            else if (--count < 0) {
                candidate = num;
                count = 1;
            }
        }
        return candidate;
    }
};

ä½œè€…ï¼šLeetCode-Solution
é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/majority-element/solution/duo-shu-yuan-su-by-leetcode-solution/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```

#### [240. æœç´¢äºŒç»´çŸ©é˜µ II](https://leetcode-cn.com/problems/search-a-2d-matrix-ii/)

```cpp
class Solution {
public:
    /*  BFS æ¯”ä½œäºŒå‰æœç´¢æ ‘ï¼Œç„¶åä½¿ç”¨BFSæŸ¥æ‰¾å³å¯
    å°†å·¦ä¸‹è§’ä½œä¸ºæ ¹èŠ‚ç‚¹ï¼Œå¯ä»¥å‘ç°å…¶ä¸Šæ–¹å…¨æ˜¯å°ï¼Œå³æ–¹å…¨æ˜¯å¤§ï¼Œå°±æ˜¯ä¸€ä¸ªäºŒå‰æœç´¢æ ‘ï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨BFSçš„æ–¹æ³•ï¼Œä¸€çº§ä¸€çº§å¾€ä¸‹æ‰¾å³å¯
    */
    bool searchMatrix(vector<vector<int>>& matrix, int target) {
        int rows = matrix.size();
        int cols = matrix[0].size();
        int r = rows -1; // æŒ‡å‘æ ¹èŠ‚ç‚¹ï¼ˆå·¦ä¸‹è§’ï¼‰
        int c = 0;
        while(c < cols && r >= 0){
            if(matrix[r][c] > target)
                r--;
            else if(matrix[r][c] < target)
                c++;
            else    
                return true;
        }
        return false;
    }
};

ä½œè€…ï¼šshou-hu-w9
é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/search-a-2d-matrix-ii/solution/240-sou-suo-er-wei-ju-zhen-ii-by-shou-hu-xjcr/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```

#### [95. ä¸åŒçš„äºŒå‰æœç´¢æ ‘ II](https://leetcode-cn.com/problems/unique-binary-search-trees-ii/)

```cpp
/**
 * Definition for a binary tree node.
 * struct TreeNode {
 *     int val;
 *     TreeNode *left;
 *     TreeNode *right;
 *     TreeNode() : val(0), left(nullptr), right(nullptr) {}
 *     TreeNode(int x) : val(x), left(nullptr), right(nullptr) {}
 *     TreeNode(int x, TreeNode *left, TreeNode *right) : val(x), left(left), right(right) {}
 * };
 */
class Solution {
public:
    /*  è¦ç»™å‡ºæ‰€æœ‰çš„ç»„åˆç»“æœï¼Œè€Œä¸æ˜¯æ€»çš„ç»„åˆæ•°ï¼Œæ‰€ä»¥è¦ä½¿ç”¨é€’å½’çš„æ€è·¯
    å› æ­¤ï¼Œå¯»æ‰¾æ–¹æ³•å°†å¤§é—®é¢˜é€çº§åˆ’ä¸ºç›¸åŒçš„å­é—®é¢˜ã€‚
    æ€è·¯ï¼š
        ä¸€ä¸ªæ ‘çš„ç§ç±»æ˜¯ç”±å…¶å·¦å³å­æ ‘çš„ç§ç±»å†³å®šï¼Œè€Œå·¦å³å­æ ‘åˆå¯è§†ä¸ºä¸€ä¸ªæ ‘ï¼Œä»è€Œå¯ä»¥åˆ†åˆ«è®¡ç®—å·¦å³å­æ ‘çš„ç§ç±»ï¼Œç„¶ååˆå¹¶äºŒè€…å¾—åˆ°æœ¬æ¬¡æ•°çš„ç»“æœ-->åˆ†æ²»æ€æƒ³
        äºŒå‰æœç´¢æ ‘çš„ç‰¹ç‚¹ï¼šroot>left, root<rightï¼Œæ‰€ä»¥å¦‚æœå½“å‰ç»“ç‚¹ä¸ºiï¼Œé‚£ä¹ˆå·¦æ ‘çš„èŒƒå›´å°±æ˜¯[min,i-1]ï¼Œå³æ ‘ä¸º[i+1,max]
        1. æ ¹æ®å½“å‰ç»“ç‚¹çš„å–å€¼èŒƒå›´ï¼Œæ„å»ºæŒ‡å®šèŒƒå›´çš„æœç´¢æ ‘-->ä½¿ç”¨first/endæ ‡è®°äºŒå‰æœç´¢æ ‘çš„èŒƒå›´
        2. é€’å½’æ„å»ºå‡ºå·¦å³å­æ ‘ï¼ˆæ‰€æœ‰å¯èƒ½çš„ç»“æœï¼Œæ‰€ä»¥æ˜¯ä¸ªæ•°ç»„ï¼‰
        3. ç©·ä¸¾æ±‚å‡ºè¯¥ä½ç½®çš„è®¡ç®—ç»“æœ
    */
    vector<TreeNode*> generateTrees(int n) {
        return generateTrees(1, n);
    }
    vector<TreeNode*> generateTrees(int first, int end) {
        vector<TreeNode*> res;
        if(first > end){
            return {nullptr};
        }
        for(int i=first; i<= end; i++){
            vector<TreeNode*> left = generateTrees(first, i-1);
            vector<TreeNode*> right = generateTrees(i+1, end);
            for(auto l:left){
                for(auto r:right){
                    TreeNode* cur = new TreeNode(i);
                    cur->left = l;
                    cur->right = r;
                    res.emplace_back(cur);
                }
            }
        }
        return res;
    }
};
```



## å•è°ƒæ ˆ

å•è°ƒ**é€’å¢æ ˆ**çš„æ€§è´¨ï¼š

å…ƒç´ å‡ºæ ˆæ—¶ï¼Œ

- å‡ºæ ˆå…ƒç´ **åé¢çš„**ç¬¬ä¸€ä¸ª<font color='red'>å°äº</font>ä»–çš„å€¼æ˜¯å…¥æ ˆå…ƒç´ ï¼ˆå³ä¾§è¾¹ç•Œï¼‰
- å‡ºæ ˆå…ƒç´ **å‰é¢çš„**ç¬¬ä¸€ä¸ª<font color='red'>å°äº</font>ä»–çš„å€¼æ˜¯æ–°æ ˆé¡¶å…ƒç´ ï¼ˆå·¦ä¾§è¾¹ç•Œï¼‰

å•è°ƒ**é€’å‡æ ˆ**çš„æ€§è´¨ï¼š

å…ƒç´ å‡ºæ ˆæ—¶ï¼Œ

- å‡ºæ ˆå…ƒç´ **åé¢çš„**ç¬¬ä¸€ä¸ª<font color='red'>å¤§äº</font>ä»–çš„å€¼æ˜¯å…¥æ ˆå…ƒç´ ï¼ˆå³ä¾§è¾¹ç•Œï¼‰
- å‡ºæ ˆå…ƒç´ **å‰é¢çš„**ç¬¬ä¸€ä¸ª<font color='red'>å¤§äº</font>ä»–çš„å€¼æ˜¯æ–°æ ˆé¡¶å…ƒç´ ï¼ˆå·¦ä¾§è¾¹ç•Œï¼‰

1. é€šå¸¸æ ˆå†…å‹å…¥çš„æ˜¯ç´¢å¼•ï¼Œè€Œç´¢å¼•å¤„çš„å€¼åªä½œä¸ºå‹æ ˆçš„æ¡ä»¶
2. éœ€è¦åŒæ—¶è®¾å®šä¸€ä¸ªresï¼Œç”¨äºåœ¨å‡ºæ ˆæ—¶è·å–å¯¹åº”çš„å¤„ç†ç»“æœï¼ˆç»“åˆä»¥ä¸‹é¢˜ç›®ç†è§£ï¼‰

æ³¨æ„ï¼š

- å•è°ƒé€’å¢æ ˆï¼Œå¯»æ‰¾å·¦å³ç¬¬ä¸€ä¸ªå°äºå…¶çš„å€¼ï¼Œä¸€èˆ¬**éœ€è¦åœ¨ä¸¤ä¾§æ·»åŠ è¾…åŠ©çš„0**ï¼Œé˜²æ­¢å·¦å³ä¸¤ä¾§çš„ç›®æ ‡æ‰¾ä¸åˆ°å°äºå…¶çš„å€¼ã€‚
- å•è°ƒé€’å‡æ ˆï¼Œå¯»æ‰¾å·¦å³ç¬¬ä¸€ä¸ªå¤§çš„å€¼ï¼Œä¸€èˆ¬éœ€è¦**åœ¨whileå†…éƒ¨åˆ¤æ–­æ˜¯å¦åˆ°è¾¾è¾¹ç¼˜**ï¼Œæ¯”å¦‚æ¥é›¨æ°´é—®é¢˜ã€‚

#### [84. æŸ±çŠ¶å›¾ä¸­æœ€å¤§çš„çŸ©å½¢](https://leetcode-cn.com/problems/largest-rectangle-in-histogram/)

ä½¿ç”¨å•è°ƒé€’å¢æ ˆï¼Œå¯»æ‰¾æ¯ä¸ªä½ç½®çš„å·¦å³ä¸¤ä¾§å°äºå…¶çš„ä½ç½®

```cpp
class Solution {
public:
    /*  è§£é¢˜æ€è·¯ï¼š
    å¯¹äºæ¯ä¸€ä¸ªç´¢å¼•ï¼Œæ‰¾å‡ºå…¶å·¦å³è¾¹ç•Œï¼ˆå³å·¦å³ç¬¬ä¸€ä¸ªé«˜åº¦å°äºå…¶çš„ç´¢å¼•ï¼‰ï¼Œç„¶åè¯¥é«˜åº¦*è¾¹ç•Œå·®å°±æ˜¯è¯¥ç´¢å¼•å¯¹åº”çš„é«˜åº¦
    æ•… éœ€è¦éå†æ¯ä¸€ä¸ªç´¢å¼•ï¼Œå¹¶å¾—åˆ°æ¯ä¸ªç´¢å¼•å¯¹åº”çš„çŸ©å½¢é¢ç§¯ï¼Œå¹¶å–å‡ºå…¶ä¸­çš„æœ€å¤§å€¼ã€‚
    - å¯»æ‰¾å·¦å³è¾¹ç•Œçš„æ–¹æ³•æœ‰ï¼š
    1. å‘å·¦å³éå†ï¼Œå¯»æ‰¾å„è‡ªç¬¬ä¸€ä¸ªå°äºå…¶é«˜åº¦çš„ç´¢å¼•ï¼Œæ—¶é—´å¤æ‚åº¦n*n
    2. ä½¿ç”¨å•è°ƒé€’å¢æ ˆï¼Œå…¶æ€§è´¨ä¸ºï¼šå…ƒç´ å‡ºæ ˆæ—¶ï¼Œ
        - è¯´æ˜å‡ºæ ˆå…ƒç´ åé¢çš„ç¬¬ä¸€ä¸ªå°äºä»–çš„å€¼æ˜¯å…¥æ ˆå…ƒç´ ï¼ˆå³ä¾§è¾¹ç•Œï¼‰
        - è¯´æ˜å‡ºæ ˆå…ƒç´ å‰é¢çš„ç¬¬ä¸€ä¸ªå°äºä»–çš„å€¼æ˜¯æ–°æ ˆé¡¶å…ƒç´ ï¼ˆå·¦ä¾§è¾¹ç•Œï¼‰
        å› æ­¤ï¼Œåœ¨å‡ºæ ˆçš„è¿‡ç¨‹ä¸­ï¼Œå°±å¯ä»¥è®¡ç®—å‡ºå‡ºæ ˆå…ƒç´ çš„å·¦å³è¾¹ç•Œï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºn
        - ç”±äºéœ€è¦çš„æ˜¯å·¦å³è¾¹ç•Œï¼Œå› æ­¤æ ˆå†…å…ƒç´ å°±æ˜¯ç´¢å¼•ï¼Œè€Œå‹æ ˆæ¡ä»¶å°±æ˜¯å¯¹åº”ç´¢å¼•çš„é«˜åº¦
        - å¯¹äºä¸¤ä¾§å…ƒç´ ï¼Œç”±äºå…¶å„è‡ªä¸å­˜åœ¨å·¦å³å°äºå…¶é«˜åº¦çš„ç´¢å¼•ï¼Œæ‰€ä»¥ç›´æ¥åœ¨ä¸¤ä¾§æ·»åŠ ä¸€ä¸ªé«˜åº¦ä¸º0çš„ç´¢å¼•å³å¯
    */
    int largestRectangleArea(vector<int>& heights) {
        heights.insert(heights.begin(), 0); // æ·»åŠ å·¦å³è¾…åŠ©é«˜åº¦â€”â€”ç‹¬æœ‰çš„
        heights.emplace_back(0);
        // ä»¥ä¸Šä¸ºè¾¹ç•Œè¿›è¡Œç‰¹æ®Šå¤„ç†
        int res = 0;
        stack<int> st;
        for(int i=0; i < heights.size(); i++){
            // å‡ºæ ˆä»¥æœç´¢å·¦å³è¾¹ç•Œ
            while (!st.empty() && heights[st.top()] > heights[i])
            {
                int cur = st.top(); // å‡ºæ ˆçš„å…ƒç´ 
                st.pop();
                int left = st.top(); // æœç´¢å·¦å³è¾¹ç•Œ
                int right = i;
                res = max(res, (right - left - 1) * heights[cur]);
            }
            // æ­¤æ—¶è¯´æ˜ï¼Œæ ˆé¡¶å…ƒç´ ä¸€å®šæ¯”height[i]å°
            st.push(i);
        }
        return res;
    }
};

ä½œè€…ï¼šshou-hu-w9
é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/largest-rectangle-in-histogram/solution/84-zhu-zhuang-tu-zhong-zui-da-de-ju-xing-mmqp/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```

#### [85. æœ€å¤§çŸ©å½¢](https://leetcode-cn.com/problems/maximal-rectangle/)

<img src="https://raw.githubusercontent.com/xn1997/picgo/master/1626684722-zTHnhH-image.png" alt="image.png" style="zoom:50%;" />

```cpp
class Solution
{
public:
    /*  è§£é¢˜æ€è·¯ï¼š
    å¯¹äºæ¯ä¸€ä¸ªç´¢å¼•ï¼Œæ‰¾å‡ºå…¶å·¦å³è¾¹ç•Œï¼ˆå³å·¦å³ç¬¬ä¸€ä¸ªé«˜åº¦å°äºå…¶çš„ç´¢å¼•ï¼‰ï¼Œç„¶åè¯¥é«˜åº¦*è¾¹ç•Œå·®å°±æ˜¯è¯¥ç´¢å¼•å¯¹åº”çš„é«˜åº¦
    æ•… éœ€è¦éå†æ¯ä¸€ä¸ªç´¢å¼•ï¼Œå¹¶å¾—åˆ°æ¯ä¸ªç´¢å¼•å¯¹åº”çš„çŸ©å½¢é¢ç§¯ï¼Œå¹¶å–å‡ºå…¶ä¸­çš„æœ€å¤§å€¼ã€‚
    - å¯»æ‰¾å·¦å³è¾¹ç•Œçš„æ–¹æ³•æœ‰ï¼š
    1. å‘å·¦å³éå†ï¼Œå¯»æ‰¾å„è‡ªç¬¬ä¸€ä¸ªå°äºå…¶é«˜åº¦çš„ç´¢å¼•ï¼Œæ—¶é—´å¤æ‚åº¦n*n
    2. ä½¿ç”¨å•è°ƒé€’å¢æ ˆï¼Œå…¶æ€§è´¨ä¸ºï¼šå…ƒç´ å‡ºæ ˆæ—¶ï¼Œ
        - è¯´æ˜å‡ºæ ˆå…ƒç´ åé¢çš„ç¬¬ä¸€ä¸ªå°äºä»–çš„å€¼æ˜¯å…¥æ ˆå…ƒç´ ï¼ˆå³ä¾§è¾¹ç•Œï¼‰
        - è¯´æ˜å‡ºæ ˆå…ƒç´ å‰é¢çš„ç¬¬ä¸€ä¸ªå°äºä»–çš„å€¼æ˜¯æ–°æ ˆé¡¶å…ƒç´ ï¼ˆå·¦ä¾§è¾¹ç•Œï¼‰
        å› æ­¤ï¼Œåœ¨å‡ºæ ˆçš„è¿‡ç¨‹ä¸­ï¼Œå°±å¯ä»¥è®¡ç®—å‡ºå‡ºæ ˆå…ƒç´ çš„å·¦å³è¾¹ç•Œï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºn
        - ç”±äºéœ€è¦çš„æ˜¯å·¦å³è¾¹ç•Œï¼Œå› æ­¤æ ˆå†…å…ƒç´ å°±æ˜¯ç´¢å¼•ï¼Œè€Œå‹æ ˆæ¡ä»¶å°±æ˜¯æ„Ÿè§‰ç´¢å¼•çš„é«˜åº¦
        - å¯¹äºä¸¤ä¾§å…ƒç´ ï¼Œç”±äºå…¶å„è‡ªä¸å­˜åœ¨å·¦å³å°äºå…¶é«˜åº¦çš„ç´¢å¼•ï¼Œæ‰€ä»¥ç›´æ¥åœ¨ä¸¤ä¾§æ·»åŠ ä¸€ä¸ªé«˜åº¦ä¸º0çš„ç´¢å¼•å³å¯
    */
    int largestRectangleArea(vector<int> &heights)
    {
        heights.insert(heights.begin(), 0);
        heights.emplace_back(0);
        // ä»¥ä¸Šä¸ºè¾¹ç•Œè¿›è¡Œç‰¹æ®Šå¤„ç†
        int res = 0;
        stack<int> st;
        for (int i = 0; i < heights.size(); i++)
        {
            // å‡ºæ ˆä»¥æœç´¢å·¦å³è¾¹ç•Œ
            while (!st.empty() && heights[st.top()] > heights[i])
            {
                int cur = st.top(); // å‡ºæ ˆçš„å…ƒç´ 
                st.pop();
                int left = st.top(); // æœç´¢å·¦å³è¾¹ç•Œ
                int right = i;
                res = max(res, (right - left - 1) * heights[cur]);
            }
            // æ­¤æ—¶è¯´æ˜ï¼Œæ ˆé¡¶å…ƒç´ ä¸€å®šæ¯”height[i]å°
            st.push(i);
        }
        // æ•°æ®æ¢å¤åŸçŠ¶
        heights.erase(heights.begin());
        heights.erase(heights.end()-1);
        return res;
    }
    int maximalRectangle(vector<vector<char>> &matrix)
    {
        if(matrix.size() == 0) return 0;
        int res;
        int rows = matrix.size();
        int cols = matrix[0].size();
        vector<int> heights(cols, 0); // è®°å½•æ¯å±‚çš„é«˜åº¦
        // é€å±‚è®¡ç®—1çš„é«˜åº¦
        for (int i = 0; i < rows; i++)
        {
            for (int j = 0; j < cols; j++)
            {
                if (matrix[i][j] == '1')
                    heights[j] += 1;
                else
                    heights[j] = 0;
            }
            res = max(res, largestRectangleArea(heights));
        }
        return res;
    }
};

ä½œè€…ï¼šshou-hu-w9
é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/maximal-rectangle/solution/85-zui-da-ju-xing-by-shou-hu-w9-610w/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```

#### [739. æ¯æ—¥æ¸©åº¦](https://leetcode-cn.com/problems/daily-temperatures/)

```cpp
class Solution {
public:
    /*  å¯»æ‰¾å³ä¾§ç¬¬ä¸€ä¸ªæ¯”å…¶å¤§çš„å…ƒç´ ç´¢å¼•
        å•è°ƒé€’å‡æ ˆçš„æ€§è´¨ï¼š
        - å‡ºæ ˆå…ƒç´ åé¢çš„ç¬¬ä¸€ä¸ªå¤§äºä»–çš„å€¼æ˜¯å…¥æ ˆå…ƒç´ ï¼ˆå³ä¾§è¾¹ç•Œï¼‰
        - å‡ºæ ˆå…ƒç´ å‰é¢çš„ç¬¬ä¸€ä¸ªå¤§äºä»–çš„å€¼æ˜¯æ–°æ ˆé¡¶å…ƒç´ ï¼ˆå·¦ä¾§è¾¹ç•Œï¼‰
    */
    vector<int> dailyTemperatures(vector<int>& temperatures) {
        vector<int> res(temperatures.size(), 0);
        stack<int> st;
        // éå†å‹æ ˆ
        for(int i=0; i<temperatures.size(); i++){
            while (!st.empty() && temperatures[st.top()] < temperatures[i])
            {
                int cur = st.top(); // å¾…æ›´æ–°çš„å¤©
                st.pop();
                int right = i; // å³ä¾§ç¬¬ä¸€ä¸ªå¤§äºå…¶çš„å¤©
                res[cur] = right - cur;
            }
            st.push(i);
        }
        return res;
    }
};

ä½œè€…ï¼šshou-hu-w9
é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/daily-temperatures/solution/739-mei-ri-wen-du-by-shou-hu-w9-y5jj/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```

#### [503. ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´  II](https://leetcode-cn.com/problems/next-greater-element-ii/)

```cpp
class Solution
{
public:
    /*  å¯»æ‰¾ç¬¬ä¸€ä¸ªæ¯”å…¶æ›´å¤§çš„æ•°
        å•è°ƒé€’å‡æ ˆçš„æ€§è´¨ï¼š
            å‡ºæ ˆå…ƒç´ å³ä¾§ç¬¬ä¸€ä¸ªæ¯”èµ·å¤§çš„å€¼å°±æ˜¯å…¥æ ˆå…ƒç´ 
        æ ˆå†…è®°å½•ç´¢å¼•
        è¿”å›å€¼æ ¹æ®å…¥æ ˆå‡ºæ ˆè®°å½•å¯¹åº”çš„è¿”å›å€¼
        - ç”±äºæ˜¯å¾ªç¯æ•°ç»„ï¼Œå› æ­¤å¯ä»¥ç›´æ¥æŠŠæ•°ç»„å¤åˆ¶ä¸€éå³å¯ï¼ˆè¿™é‡Œç›´æ¥å¯¹ç´¢å¼•å–æ¨¡å³å¯ï¼‰
    */
    vector<int> nextGreaterElements(vector<int> &nums)
    {
        int sz = nums.size();
        vector<int> res(sz, -1);
        stack<int> st;
        for (int i = 0; i < 2 * sz - 1; i++)
        {
            while (!st.empty() && nums[st.top()] < nums[i % sz])
            {
                int cur = st.top(); // å¾…æ›´æ–°çš„ä½ç½®
                st.pop();
                int right = i % sz; // ç¬¬ä¸€ä¸ªæ¯”å…¶å¤§çš„æ•°ä½ç½®
                res[cur] = nums[right];
            }
            st.push(i % sz);
        }
        return res;
    }
};

ä½œè€…ï¼šshou-hu-w9
é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/next-greater-element-ii/solution/503-xia-yi-ge-geng-da-yuan-su-ii-by-shou-p0sb/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```

#### [42. **æ¥é›¨æ°´**](https://leetcode-cn.com/problems/trapping-rain-water/)

ä½¿ç”¨å•è°ƒé€’å‡æ ˆï¼šå¯»æ‰¾å·¦å³ç¬¬ä¸€ä¸ªå¤§äºå½“å‰ä½ç½®çš„ç´¢å¼•ï¼Œä»è€Œè®¡ç®—å‡ºå½“å‰ä½ç½®å¯¹åº”çš„æ°´çš„é«˜åº¦ã€‚
ï¼ˆå•è°ƒé€’å‡æ ˆä¸éœ€è¦å‘ä¸¤ä¾§æ·»åŠ è¾…åŠ©æ•°å­—ï¼Œä½†å¯èƒ½éœ€è¦åœ¨whileå†…éƒ¨åˆ¤æ–­æ˜¯å¦åˆ°è¾¾è¾¹ç¼˜ï¼‰

```cpp
class Solution {
public:
    /**
     * å¯»æ‰¾æ¯ä¸ªä½ç½®å·¦å³ç¬¬ä¸€ä¸ªæ¯”ä»–å¤§çš„ä½ç½®ï¼Œç„¶åç”±é«˜åº¦å·®åŠå®½åº¦è®¡ç®—é¢ç§¯
    */
    int trap(vector<int>& height)
    {
        int res = 0;
        stack<int> st;
        for (int i = 0; i < height.size(); ++i) {
            while (!st.empty() && height[st.top()] < height[i]) {
                int cur = st.top();
                st.pop();
                if (st.empty())
                    break; // å½“èµ°åˆ°è¾¹ç¼˜æ—¶ï¼Œä¸è®¡ç®—é¢ç§¯â€”â€”è¿™ä¸€å—æ˜¯ç‹¬æœ‰çš„
                int left = st.top();
                int right = i;
                int h = min(height[left], height[right]) - height[cur];
                int w = right - left - 1;
                res += h * w;
            }
            st.push(i);
        }
        return res;
    }
};

ä½œè€…ï¼šshou-hu-w9
é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/trapping-rain-water/solution/42-jie-yu-shui-by-shou-hu-w9-10y4/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```



## å¹¶æŸ¥é›†

å¹¶æŸ¥é›†çš„å›ºå®šå†™æ³•ã€‚å‚è€ƒé“¾æ¥ï¼š[[Python/C++/Java] å¤šå›¾è¯¦è§£å¹¶æŸ¥é›†](https://leetcode-cn.com/problems/number-of-provinces/solution/python-duo-tu-xiang-jie-bing-cha-ji-by-m-vjdr/)

**å¹¶æŸ¥é›†çš„ä¸‰ä¸ªç»“æ„**ï¼ˆåˆ†åˆ«å®ç°è¿™ä¸‰ä¸ªå‡½æ•°å³å¯ï¼‰ï¼š
é›†ï¼šç”±å­—å…¸ç»„æˆçš„æ•°æ®ç»“æ„ï¼Œåªè®°å½•çˆ¶èŠ‚ç‚¹ï¼ˆè¿™ä¸å•é“¾è¡¨æ­£å¥½ç›¸åï¼‰â€”â€”<font color='red'>å¦‚æœé”®ä¸ºvectorå¿…é¡»ä½¿ç”¨mapï¼Œä½¿ç”¨unordered_mapä¼šæŠ¥é”™ã€‚</font>
å¹¶ï¼šä¸åŒé›†çš„åˆå¹¶
æŸ¥ï¼šæ ¹æ®ç»“ç‚¹æŸ¥æ‰¾æ•°çš„æ ¹èŠ‚ç‚¹ï¼Œä»è€Œåˆ¤æ–­ä¸¤ä¸ªç»“ç‚¹æ˜¯å¦å±äºä¸€ä¸ªé›†
æœ€åå†æ·»åŠ ä¸€ä¸ªaddå‡½æ•°ï¼Œç”¨äºåˆ›å»ºæ–°çš„é›†ã€‚æ·»åŠ ä¸€ä¸ªç§æœ‰å˜é‡ç”¨äºè®°å½•é›†çš„æ•°ç›®ã€‚

**ä½¿ç”¨åœºæ™¯ï¼šæŸ¥æ‰¾è¿é€šåŸŸçš„æ•°é‡ã€‚**

ä½¿ç”¨æµç¨‹ï¼šï¼ˆå‚è€ƒ200é¢˜ï¼‰
<font color='orange'>å…ˆåˆå§‹åŒ–å‡ºæ‰€æœ‰å¯èƒ½çš„é›†åˆ</font>ã€‚å¦‚æŠŠæ‰€æœ‰1çš„ä½ç½®éƒ½è®¾ç½®ä¸ºä¸€ä¸ªé›†
<font color='orange'>å†æ ¹æ®æ¡ä»¶è¿›è¡Œåˆå¹¶</font>ã€‚æŠŠç›¸é‚»çš„1çš„é›†åˆå¹¶

```cpp
class UnionFind
{
public:
    // ï¼ˆæŸ¥ï¼‰æŸ¥æ‰¾æ ¹èŠ‚ç‚¹+è·¯å¾„å‹ç¼©
    int find(int x)
    {
        int root = x;
        // é€çº§æ‰¾åˆ°æ ¹èŠ‚ç‚¹
        while (father[root] != -1)
        {
            root = father[root];
        }
        // æ­¤æ—¶rootä¸ºæ ¹èŠ‚ç‚¹
        // é€çº§å‹ç¼©è·¯å¾„ä»¥æé«˜åç»­çš„æœç´¢é€Ÿåº¦(å…·ä½“çœ‹å›¾è§£ï¼Œå°±ç›¸å½“äºæ˜¯é“¾è¡¨çš„æ›¿æ¢è€Œå·²)
        while (x != root) // å¿…é¡»æ˜¯xä¸èƒ½æ˜¯father[x]ï¼Œå½“findçš„è¾“å…¥å°±æ˜¯rootæ—¶å³å¯å‘ç°ä¸èƒ½æ˜¯father[x]
        {
            int original_father = father[x];
            father[x] = root;
            x = original_father;
        }
        return root;
    }
    // ï¼ˆå¹¶ï¼‰åˆå¹¶ä¸¤ä¸ªæ ‘
    void merge(int x, int y)
    {
        int root_x = find(x);
        int root_y = find(y);
        if (root_x != root_y)
        {
            father[root_x] = root_y;
            num_of_sets--;
        }
    }
    // æ·»åŠ æ–°çš„æ ‘
    void add(int x)
    {
        if (father.count(x) == 0)
        {
            father[x] = -1;
            num_of_sets++;
        }
    }
    int get_num_of_sets()
    {
        return num_of_sets;
    }

private:
    // ï¼ˆé›†ï¼‰ä½¿ç”¨å­—å…¸è®°å½•çˆ¶èŠ‚ç‚¹ï¼šå½“å‰ç»“ç‚¹-çˆ¶èŠ‚ç‚¹
    unordered_map<int, int> father;
    int num_of_sets = 0; // è®°å½•æ•°çš„æ•°ç›®
};
```



#### [547. çœä»½æ•°é‡](https://leetcode-cn.com/problems/number-of-provinces/)

```cpp
class Solution
{
public:
    /*  åªéœ€æŸ¥æ‰¾ä¸‹ä¸‰è§’å°±å¯ä»¥äº†ï¼Œä¸Šä¸‰è§’ä¸éœ€è¦æŸ¥æ‰¾ï¼Œå†…å®¹ä¸€æ ·
    ä½¿ç”¨å¹¶æŸ¥é›†ï¼š
        1. 
    */
    int findCircleNum(vector<vector<int>> &isConnected)
    {
        UnionFind uf;
        for (int i = 0; i < isConnected.size(); i++)
        {
            uf.add(i); // åˆ›å»ºæ–°æ ‘
            for (int j = 0; j < i; j++)
            { // åˆ¤æ–­æ–°æ ‘ä¸è€æ ‘ç›´æ¥æ˜¯å¦åº”è¯¥åˆå¹¶
                if (isConnected[i][j] == 1)
                {
                    uf.merge(i, j);
                }
            }
        }
        return uf.get_num_of_sets();
    }
};


ä½œè€…ï¼šshou-hu-w9
é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/number-of-provinces/solution/547-sheng-fen-shu-liang-by-shou-hu-w9-z0wo/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```

#### [200. å²›å±¿æ•°é‡](https://leetcode-cn.com/problems/number-of-islands/)

```cpp
class Solution
{
public:
    int numIslands(vector<vector<char>> &grid)
    {
        int rows = grid.size();
        int cols = grid[0].size();
        UionFind uf;
        // 1. é¦–å…ˆåˆå§‹åŒ–æ‰€æœ‰1éƒ½ä¸ºä¸€ä¸ªé›†åˆ
        for (int i = 0; i < rows; i++)
        {
            for (int j = 0; j < cols; j++)
            {
                if (grid[i][j] == '1')
                {
                    uf.add(i * cols + j);
                }
            }
        }
        // 2. å¯¹æ‰€æœ‰çš„é›†åˆè¿›è¡Œåˆå¹¶ï¼ˆç›¸é‚»çš„1éƒ½å¯ä»¥è¿›è¡Œåˆå¹¶ï¼‰
        for (int i = 0; i < rows; i++)
        {
            for (int j = 0; j < cols; j++)
            {
                if (grid[i][j] == '1')
                {
                    int cur_root = i * cols + j;
                    if (i - 1 >= 0 && grid[i - 1][j] == '1')
                        uf.merge(cur_root, (i - 1) * cols + j);
                    if (i + 1 < rows && grid[i + 1][j] == '1')
                        uf.merge(cur_root, (i + 1) * cols + j);
                    if (j - 1 >= 0 && grid[i][j - 1] == '1')
                        uf.merge(cur_root, i * cols + j - 1);
                    if (j + 1 < cols && grid[i][j + 1] == '1')
                        uf.merge(cur_root, i * cols + j + 1);
                }
            }
        }
        return uf.get_num_of_set();
    }
};

ä½œè€…ï¼šshou-hu-w9
é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/number-of-islands/solution/200-dao-yu-shu-liang-by-shou-hu-w9-pziz/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```

#### [684. å†—ä½™è¿æ¥](https://leetcode-cn.com/problems/redundant-connection/)

```cpp
class Solution
{
public:
    /*  å°†ç›¸äº’è¿æ¥çš„ç»“ç‚¹è§†ä¸ºè¿é€š
        1. åˆå§‹åŒ–æ‰€æœ‰ç»“ç‚¹ä¸ºä¸è¿é€šçš„å•ç‹¬çš„é›†
        2. æ ¹æ®è¾¹å¯¹ä¸åŒçš„é›†è¿›è¡Œåˆå¹¶
        3. å¦‚æœè¾¹çš„ä¸¤ä¸ªç»“ç‚¹åœ¨åŒä¸€ä¸ªé›†å†…ï¼Œé‚£å°±ç›´æ¥è¿”å›è¿™ä¸ªå¤šä½™çš„è¾¹
    */
    vector<int> findRedundantConnection(vector<vector<int>> &edges)
    {
        UionFind uf;
        for (int i = 0; i < edges.size(); i++)
        {
            uf.add(i);
        }
        for (int i = 0; i < edges.size(); i++)
        {
            vector<int> edge = edges[i];
            if (uf.find(edge[0]) != uf.find(edge[1]))
            {
                uf.merge(edge[0], edge[1]);
            }
            else
            {
                return edge;
            }
        }
        return vector<int>{};
    }
};

ä½œè€…ï¼šshou-hu-w9
é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/redundant-connection/solution/684-rong-yu-lian-jie-by-shou-hu-w9-6v72/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```

#### [130. è¢«å›´ç»•çš„åŒºåŸŸ](https://leetcode-cn.com/problems/surrounded-regions/)

æ•ˆç‡ä¸å¦‚DFSï¼Œæœ‰æ—¶é—´å­¦ä¸€å­¦DFS

```cpp
class UionFind {
private:
    unordered_map<int, int> father;

public:
    int find(int x)
    {
        int root = x;
        while (father[root] != -1) {
            root = father[root];
        }
        while (x != root) {
            int origin_father = father[x];
            father[x] = root;
            x = origin_father;
        }
        return root;
    }
    void merge(int x, int y)
    {
        int root_x = find(x);
        int root_y = find(y);
        if (root_x != root_y) {
            father[root_x] = root_y;
        }
    }
    void add(int x)
    {
        if (father.count(x) == 0) {
            father[x] = -1;
        }
    }
};
class Solution {
public:
    /**
     * æŸ¥æ‰¾è¿é€šåŸŸé—®é¢˜ï¼Œæ€è€ƒä½¿ç”¨å¹¶æŸ¥é›†ï¼Œæ ‡è®°å‡ºæ‰€æœ‰è¿é€šä½ç½®ï¼Œ
     * åŒæ—¶å°†æ‰€æœ‰çš„é è¿‘è¾¹ç¼˜çš„è¿é€šåŸŸæ ‡è®°ä¸ºä¸€ç±»ï¼Œç„¶åå¯¹é™¤äº†è¯¥ç±»çš„ä½ç½®éƒ½å˜ä¸ºX
    */
    void solve(vector<vector<char>>& board)
    {
        rows = board.size();
        cols = board[0].size();
        // åˆå§‹åŒ–å¹¶æŸ¥é›†â€”â€”åŒæ—¶å®šä¹‰ä¸€ä¸ªè¾¹ç¼˜æ ‡è®°ï¼Œå°†æ‰€æœ‰é è¿‘è¾¹ç¼˜çš„éƒ½å½’åˆ°è¯¥æ ‡è®°
        UionFind uf;
        int edge = cols * rows;
        for (int i = 0; i < rows; ++i) {
            for (int j = 0; j < cols; ++j) {
                if (board[i][j] == 'O')
                    uf.add(i * cols + j);
            }
        }
        uf.add(edge);
        // åˆå¹¶è¿é€šåŸŸ
        for (int i = 0; i < rows; ++i) {
            for (int j = 0; j < cols; ++j) {
                if (board[i][j] == 'O') {
                    if (i == 0 || j == 0 || i == rows - 1 || j == cols - 1) // è¾¹ç¼˜çš„ç»Ÿä¸€åˆå¹¶åˆ°ä¸€ä¸ªç»“ç‚¹
                        uf.merge(node(i, j), edge);
                    if (i - 1 >= 0 && board[i - 1][j] == 'O')
                        uf.merge(node(i, j), node(i - 1, j));
                    if (i + 1 < rows && board[i + 1][j] == 'O')
                        uf.merge(node(i, j), node(i + 1, j));
                    if (j - 1 >= 0 && board[i][j - 1] == 'O')
                        uf.merge(node(i, j), node(i, j - 1));
                    if (j + 1 < cols && board[i][j + 1] == 'O')
                        uf.merge(node(i, j), node(i, j + 1));
                }
            }
        }
        // æ ¹æ®è¿é€šåŸŸä¿®æ”¹åŸçŸ©é˜µ
        for (int i = 0; i < rows; ++i) {
            for (int j = 0; j < cols; ++j) {
                if (board[i][j] == 'O' && uf.find(node(i, j)) != uf.find(edge))
                    board[i][j] = 'X';
            }
        }
    }

private:
    int rows, cols;
    // ç”¨äºå°†äºŒç»´åæ ‡å˜ä¸ºæ ‡è®°
    int node(int i, int j)
    {
        return i * cols + j;
    }
};

ä½œè€…ï¼šshou-hu-w9
é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/surrounded-regions/solution/130-bei-wei-rao-de-qu-yu-by-shou-hu-w9-ngpp/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```



## æ»‘åŠ¨çª—å£(åŒæŒ‡é’ˆ)

æ¶‰åŠåˆ°è¿ç»­å­æ•°ç»„é—®é¢˜ï¼Œå°±ä½¿ç”¨æ»‘åŠ¨çª—å£ï¼ˆåŒæŒ‡é’ˆï¼‰

ä½¿ç”¨**ä¸¤ä¸ªå¾ªç¯**æ„æˆï¼š
å¤–ä¾§å¾ªç¯(for)ä¸æ–­å‘å³ç§»åŠ¨å³ä¾§è¾¹ç•Œrightã€‚
å†…ä¾§å¾ªç¯(while)æ ¹æ®<font color='red'>çª—å£çš„é™åˆ¶æ¡ä»¶</font>ç§»åŠ¨å·¦ä¾§è¾¹ç•Œï¼ŒåŒæ—¶è®°å½•è¿”å›å€¼ã€‚

æ¨¡æ¿å¦‚ä¸‹ï¼š

```cpp
int longestOnes(vector<int> &nums)
{
    int res = 0;                // ä¿å­˜æœ€å¤§çš„æ»¡è¶³é¢˜ç›®è¦æ±‚çš„ å­æ•°ç»„/å­ä¸² é•¿åº¦
    int left = 0, right = 0;    //åŒæŒ‡é’ˆï¼Œè¡¨ç¤ºå½“å‰éå†çš„åŒºé—´[left, right]ï¼Œé—­åŒºé—´
    int sum = 0;                //ç”¨äºç»Ÿè®¡ å­æ•°ç»„/å­åŒºé—´ æ˜¯å¦æœ‰æ•ˆï¼Œæ ¹æ®é¢˜ç›®å¯èƒ½ä¼šæ”¹æˆæ±‚å’Œ/è®¡æ•°
    while (right < nums.size()) // å½“å³è¾¹çš„æŒ‡é’ˆæ²¡æœ‰æœç´¢åˆ° æ•°ç»„/å­—ç¬¦ä¸² çš„ç»“å°¾
    {
        sum += nums[right];
        while (åŒºé—´[left, right] ä¸ç¬¦åˆé¢˜æ„) // çª—å£çš„é™åˆ¶æ¡ä»¶
        {                      // æ­¤æ—¶éœ€è¦ä¸€ç›´ç§»åŠ¨å·¦æŒ‡é’ˆï¼Œç›´è‡³æ‰¾åˆ°ä¸€ä¸ªç¬¦åˆé¢˜æ„çš„åŒºé—´
            sum -= nums[left]; // ç§»åŠ¨å·¦æŒ‡é’ˆå‰éœ€è¦ä»counterä¸­å‡å°‘leftä½ç½®å­—ç¬¦çš„æ±‚å’Œ/è®¡æ•°
            left += 1;         // çœŸæ­£çš„ç§»åŠ¨å·¦æŒ‡é’ˆï¼Œæ³¨æ„ä¸èƒ½è·Ÿä¸Šé¢ä¸€è¡Œä»£ç å†™å
        }
        // åˆ° while ç»“æŸæ—¶ï¼Œæˆ‘ä»¬æ‰¾åˆ°äº†ä¸€ä¸ªç¬¦åˆé¢˜æ„è¦æ±‚çš„ å­æ•°ç»„/å­ä¸²
        res = max(res, right - left + 1); // éœ€è¦æ›´æ–°ç»“æœ
        right += 1;                       // ç§»åŠ¨å³æŒ‡é’ˆï¼Œå»æ¢ç´¢æ–°çš„åŒºé—´
    }
    return res;
}
```



#### [209. é•¿åº¦æœ€å°çš„å­æ•°ç»„](https://leetcode-cn.com/problems/minimum-size-subarray-sum/)

```cpp
class Solution
{
public:
    /*  æ¶‰åŠåˆ°è¿ç»­å­æ•°ç»„é—®é¢˜ï¼Œå°±ä½¿ç”¨æ»‘åŠ¨çª—å£ï¼ˆåŒæŒ‡é’ˆï¼‰
    */
    int minSubArrayLen(int target, vector<int> &nums)
    {
        int res = INT_MAX; // å±€éƒ¨å˜é‡ä¸ä¼šåˆå§‹åŒ–
        int left = 0, right = 0;
        int sum = 0;
        for(;right<nums.size();right++) // å¤–ä¾§å¾ªç¯ä¸æ–­ä½¿rightå¢åŠ 
        {
            sum += nums[right]; // å°†ç§»åŠ¨åçš„rightæ·»åŠ åˆ°sumä¸­â€”â€”****ä¸ä¸€å®šåœ¨è¿™ä¸ªä½ç½®ï¼Œæ ¹æ®å…·ä½“æƒ…å†µå†™****
            // æ ¹æ®sumå¯¹leftè¿›è¡Œè°ƒæ•´ï¼ŒåŒæ—¶è®¡ç®—res
            while(sum >= target){
                res = min(res, right - left + 1);
                sum -= nums[left];
                left++;
            }
        }
        return res != INT_MAX ? res : 0;
    }
};

ä½œè€…ï¼šshou-hu-w9
é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/minimum-size-subarray-sum/solution/209-chang-du-zui-xiao-de-zi-shu-zu-by-sh-p2z0/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```

#### [3. æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²](https://leetcode-cn.com/problems/longest-substring-without-repeating-characters/)

ç™¾åº¦ä¸€é¢é¢˜

```cpp
class Solution
{
public:
    /*  æ»‘åŠ¨çª—å£æ³•ï¼š
        å³ä¾§ç´¢å¼•ä¸æ–­å¢åŠ 
        1. å¦‚æœä¸å­˜åœ¨å½“å‰å€¼ï¼Œå°±ç›´æ¥å‹å…¥
        2. å¦‚æœå­˜åœ¨å½“å‰å€¼ï¼Œå°±æŠŠå·¦ä¾§å…ƒç´ é€ä¸ªåˆ é™¤ï¼Œå†å‹å…¥
        æ³¨æ„ï¼š
            ä¸é‡å¤ï¼Œæ‰€ä»¥ä½¿ç”¨å“ˆå¸Œé›†åˆï¼ˆunordered_setï¼‰æ¥è®°å½•æ»‘çª—å†…çš„å­—ç¬¦
            åˆ é™¤å·¦ä¾§æ‰€æœ‰å…ƒç´ ï¼ŒæŒ‰ç…§å‹å…¥é¡ºåºåˆ é™¤ï¼Œç›´åˆ°åˆ é™¤æ‰å½“å‰å€¼ï¼ˆå…·ä½“å®ç°çœ‹ä»£ç ï¼‰
    */
    int lengthOfLongestSubstring(string s)
    {
        int res = 0;
        int left = 0, right = 0;
        unordered_set<char> occ; // è®°å½•æ»‘çª—å†…çš„å­—ç¬¦ä¸²
        for (; right < s.size(); right++)
        {
            // å­˜åœ¨å½“å‰å¾…æ’å…¥çš„å­—ç¬¦ï¼Œå°±ä¸åœçš„ç¼©å‡å·¦ä¾§è¾¹ç•Œ
            while (occ.find(s[right]) != occ.end())
            {
                occ.erase(s[left]);  // ç”±äºsetæ— é‡å¤å€¼ï¼Œé‚£ä¹ˆè¿™å¥ç­‰åŒäºåˆ é™¤occçš„æœ€å·¦ä¾§å‡½æ•°
                // occ.erase(occ.begin());  // ä¸å¯ä»¥ä½¿ç”¨è¿™å±€ï¼Œå› ä¸ºocc.insertå¹¶ä¸æ˜¯æ’å…¥æœ«å°¾ã€‚ã€‚ã€‚
                left++;
            }
            occ.insert(s[right]);
            res = max(res, right - left + 1);
        }
        return res;
    }
};

ä½œè€…ï¼šshou-hu-w9
é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/longest-substring-without-repeating-characters/solution/3-wu-zhong-fu-zi-fu-de-zui-chang-zi-chua-x86r/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```

#### [1004. æœ€å¤§è¿ç»­1çš„ä¸ªæ•° III](https://leetcode-cn.com/problems/max-consecutive-ones-iii/)

```cpp
class Solution
{
public:
    /*  å°†é—®é¢˜è½¬åŒ–ä¸ºï¼š
            æŸ¥æ‰¾ä¸€ä¸ªæœ€é•¿å­ä¸²ï¼Œè¯¥æ•°ç»„æœ€å¤šå…è®¸æœ‰Kä¸ª0
    */
    int longestOnes(vector<int> &nums, int k)
    {
        int res = 0;
        int left = 0, right = 0;
        int zeros = 0; // è®°å½•0çš„æ•°é‡
        for (; right < nums.size(); right++)
        {
            if (nums[right] == 0)
            {
                zeros++;
            }
            while (zeros > k)
            { // ä»å·¦å¾€å³åˆ é™¤å¤šä½™çš„0ï¼Œç›´åˆ°0æ»¡è¶³è¦æ±‚
                if (nums[left] == 0)
                {
                    zeros--;
                }
                left++;
            }
            res = max(res, right - left + 1);
        }
        return res;
    }
};

ä½œè€…ï¼šshou-hu-w9
é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/max-consecutive-ones-iii/solution/1004-zui-da-lian-xu-1de-ge-shu-iii-by-sh-3qqm/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```

#### [1208. å°½å¯èƒ½ä½¿å­—ç¬¦ä¸²ç›¸ç­‰](https://leetcode-cn.com/problems/get-equal-substrings-within-budget/)

```cpp
class Solution {
public:
    /*  ç”±äºæ¶‰åŠè¿ç»­çš„å­å­—ç¬¦ä¸²ï¼Œæ‰€ä»¥ä½¿ç”¨æ»‘åŠ¨çª—
        æ»‘çª—æ¡ä»¶ï¼š
            å†…éƒ¨å­—ç¬¦ä¸²çš„è½¬æ¢é¢„ç®—å°äºæœ€å¤§é¢„ç®—
    */
    int equalSubstring(string s, string t, int maxCost) {
        int left=0, right=0;
        int res = 0;
        int cost = 0; // æ»‘åŠ¨çª—å†…çš„é¢„ç®—
        for(; right<s.size(); right++){
            cost += abs(s[right]-t[right]);
            while(cost > maxCost){ // é¢„ç®—è¿‡å¤§ï¼Œå°±ç¼©å°å·¦ä¾§çš„å€¼
                cost -= abs(s[left]-t[left]);
                left++;
            }
            res = max(res, right - left + 1);
        }
        return res;
    }
};

ä½œè€…ï¼šshou-hu-w9
é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/get-equal-substrings-within-budget/solution/1208-jin-ke-neng-shi-zi-fu-chuan-xiang-d-smf5/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```

#### [26. åˆ é™¤æœ‰åºæ•°ç»„ä¸­çš„é‡å¤é¡¹](https://leetcode-cn.com/problems/remove-duplicates-from-sorted-array/)

æ‰€æœ‰åˆ é™¤ç›¸é‚»é‡å¤å…ƒç´ çš„é¢˜ï¼Œéƒ½ä½¿ç”¨è¿™ç§åŒæŒ‡é’ˆæ–¹æ³•ã€‚

```cpp
class Solution {
public:
    /*  åŒæŒ‡é’ˆï¼Œåˆ†åˆ«æŒ‡å‘é‡å¤å…ƒç´ çš„ä¸¤ä¾§ä½ç½®
    */
    int removeDuplicates(vector<int>& nums) {
        if(nums.size()==0) return 0;
        int p = 0, q = 1;
        while(q < nums.size()){
            if(nums[p] == nums[q]){
                q++;
            }else{
                nums[p+1] = nums[q];
                p++;
                q++;
            }
        }
        return p+1;
    }
};
```

#### [76. æœ€å°è¦†ç›–å­ä¸²](https://leetcode-cn.com/problems/minimum-window-substring/)

ç›®å‰ä¼šè¶…æ—¶ï¼Œå»ºè®®çœ‹ä¸‹é¢é“¾æ¥æ€è€ƒå‡å°‘æ—¶é—´å¤æ‚åº¦

[ç®€ç®€å•å•ï¼Œéå¸¸å®¹æ˜“ç†è§£çš„æ»‘åŠ¨çª—å£æ€æƒ³](https://leetcode-cn.com/problems/minimum-window-substring/solution/tong-su-qie-xiang-xi-de-miao-shu-hua-dong-chuang-k/)

```cpp
class Solution {
public:
    /*  å¯»æ‰¾å­ä¸²å¿…å®šä½¿ç”¨ï¼šåŒæŒ‡é’ˆæ»‘åŠ¨çª—å£æ³•â€”â€”>éœ€è¦ç¡®å®šå·¦å³è¾¹ç•Œå†…éƒ¨çš„ä¸œè¥¿æ˜¯ä»€ä¹ˆæ„ä¹‰+åˆé€‚è°ƒæ•´å·¦å³è¾¹ç•Œ
        1. lå’Œrå†…éƒ¨è¡¨ç¤ºï¼Œè¯¥å­ä¸²æ˜¯å¦åŒ…å«äº†å…¨éƒ¨çš„å­—ç¬¦
        2. ä¸»åŠ¨è°ƒæ•´rï¼Œå¦‚æœå­ä¸²ä¸åŒ…å«å…¨éƒ¨å­—ç¬¦ï¼Œr++
        3. å¦‚æœåŒ…å«äº†å…¨éƒ¨å­—ç¬¦ä¸²ï¼Œå°±å¼€å§‹l++ï¼Œç›´åˆ°ä¸åŒ…å«äº†ï¼Œæ­¤æ—¶è®°å½•è¯¥å­ä¸²çš„é•¿åº¦ã€‚
        è‡³æ­¤æ‰¾åˆ°äº†ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„å­ä¸²ï¼Œç„¶ål++ï¼Œç»§ç»­é‡å¤ä»¥ä¸Šæ­¥éª¤ï¼Œå¯»æ‰¾ä¸‹ä¸€ä¸ªå­ä¸²
        è¾…åŠ©å‡½æ•°ï¼š
            éœ€è¦åˆ¤æ–­æ˜¯å¦åŒ…å«äº†å…¨éƒ¨å­—ç¬¦çš„å‡½æ•°
                ç”¨ä¸€ä¸ªmapè®°å½•å½“å‰å­—ç¬¦éœ€è¦å‡ ä¸ªï¼Œ
                    å¦‚æœå¤§äº0å°±è¯´æ˜è¿˜éœ€è¦å¤šä¸ªï¼Œ
                    =0è¯´æ˜åˆšåˆšå¥½ï¼Œ
                    <0è¯´æ˜å­ä¸²ä¸­è¯¥å­—ç¬¦æœ‰å¤šä½™çš„ã€‚
                    å¦‚æœå…¨éƒ¨å­—ç¬¦éƒ½å°äºç­‰äº0ï¼Œè¯´æ˜è¯¥å­ä¸²ç¬¦åˆæ¡ä»¶
    */
    string minWindow(string s, string t) {
        int left = 0, right = 0;
        int lens = s.size();
        vector<int> str{0,INT_MAX}; // è®°å½•æœ€é•¿å­ä¸²å¯¹åº”çš„ç´¢å¼•
        for(auto x : t){ // åˆå§‹åŒ–æ¯ä¸ªå­—ç¬¦çš„æ‰€éœ€æ•°é‡
            need[x] += 1;
        }
        for(; right < lens; right++){
            need[s[right]]--;
            if(isSubstr(t)){ // å¦‚æœå­ä¸²æ»¡è¶³è¦æ±‚ï¼Œå°±ç¼©å‡å·¦è¾¹ç•Œ
                while(isSubstr(t)){
                    need[s[left]]++;
                    left++;
                }
                if(right-left+1 < str[1]-str[0]) // ä¿å­˜æœ€çŸ­çš„å­ä¸²
                    str = {left, right};
            }
        }
        if(str[0] == 0 && str[1] == INT_MAX)
            return "";
        else
            return s.substr(str[0], str[1]-str[0]+1);
    }
    bool isSubstr(string t){
        bool res = true;
        for(auto x : t){
            if(need[x] > 0){
                res = false;
                break;
            }
        }
        return res;
    }
private:
    unordered_map<char, int> need;
};
```



## å‰ç¼€å’Œ

#### [724. å¯»æ‰¾æ•°ç»„çš„ä¸­å¿ƒä¸‹æ ‡](https://leetcode-cn.com/problems/find-pivot-index/)

![image-20210722162839559](https://raw.githubusercontent.com/xn1997/picgo/master/image-20210722162839559.png)

```cpp
class Solution {
public:
    int pivotIndex(vector<int>& nums) {
        int sum = 0;
        int total = accumulate(nums.begin(), nums.end(), 0);
        for(int i=0; i<nums.size(); i++){
            if(total - sum - nums[i] == sum){ // åˆ¤æ–­å½“å‰ä½ç½®æ˜¯å¦æ˜¯ä¸­å¿ƒä¸‹æ ‡ï¼ˆè¿™ä¸ªè°ƒèŠ‚æ˜¯æ ¹æ®å…¬å¼è®¡ç®—å¾—åˆ°çš„ï¼‰
                return i;
            }
            sum += nums[i]; // è®¡ç®—å‰ç¼€å’Œ
        }
        return -1;
    }
};

ä½œè€…ï¼šshou-hu-w9
é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/find-pivot-index/solution/724-xun-zhao-shu-zu-de-zhongxinxiabia-3tkt/æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚560ã€437ã€1248å·®åˆ†[1094. æ‹¼è½¦](https://leetcode-cn.com/problems/car-pooling/)
```

```cpp
class Solution {
public:
    bool carPooling(vector<vector<int>>& trips, int capacity) {
        vector<int> delta(1001); // è®°å½•æ¯ä¸ªç«™ç‚¹å‡€ä¸Šä¸‹ä¹˜å®¢æ•°
        // æ›´æ–°æ¯ä¸ªç«™ç‚¹å‡€ä¸Šä¸‹ä¹˜å®¢æ•°
        for(int i=0; i<trips.size(); i++){
            delta[trips[i][1]] += trips[i][0]; // ä¸Šè½¦æ‰€ä»¥è¦å¢åŠ äºº
            delta[trips[i][2]] -= trips[i][0]; // ä¸‹è½¦æ‰€ä»¥è¦å‡å°‘äºº
        }
        // è®¡ç®—æ¯ä¸ªæ¯ä¸ªç«™ç‚¹è½¦ä¸Šçš„ä¹˜å®¢æ•°é‡
        int cur = 0;
        for(int i=0; i<delta.size(); i++){
            cur += delta[i];
            if(cur > capacity) return false;
        }
        return true;
    }
};

ä½œè€…ï¼šshou-hu-w9
é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/car-pooling/solution/1094-pin-che-by-shou-hu-w9-zw2g/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```

#### [974. å’Œå¯è¢« K æ•´é™¤çš„å­æ•°ç»„](https://leetcode-cn.com/problems/subarray-sums-divisible-by-k/)

```cpp
class Solution {
public:
    /*
    preS[i]ï¼š0åˆ°içš„å‰ç¼€å’Œ
    iåˆ°jä¹‹é—´æ•°ç»„çš„å’Œä¸º preS[j] - preS[i-1]
    å­æ•°ç»„å¯è¢«kæ•´é™¤--->(preS[j]-preS[i-1])%k=0 ---> preS[j]%k == preS[i-1]%k
    
    è‡³æ­¤ï¼Œé¢˜ç›®å¯ä»¥è½¬åŒ–ä¸ºpreS[i]%kç›¸ç­‰çš„æ•°å¯¹å…±æœ‰å¤šå°‘ç»„
    æ•…ï¼Œåˆ›å»ºä¸€ä¸ªå“ˆå¸Œè¡¨è®°å½•preSä¸­å…ƒç´ å‡ºç°çš„æ¬¡æ•°ï¼Œç„¶åè®¡ç®—ç»„æ•°å³å¯ï¼ˆå³ç»„åˆé—®é¢˜C_k^2ï¼‰

    æ³¨æ„ï¼Œå¯¹äºpreSçš„0å…ƒç´ ï¼Œè¿˜éœ€è¦å•ç‹¬åŠ ä¸Š0çš„ä¸ªæ•°
    */
    int subarraysDivByK(vector<int>& nums, int k) {
        int len = nums.size();
        vector<int> preS(len, 0);
        preS[0] = nums[0] % k; preS[0] = preS[0] < 0 ? preS[0]+k : preS[0];
        for(int i=1; i<len; i++){
            preS[i] = (preS[i-1] + nums[i]) % k;
            if(preS[i] < 0) preS[i] = preS[i] + k;
        }
        unordered_map<int, int> mp;
        for(auto x : preS){
            mp[x]++;
        }
        int res = 0;
        for(auto it : mp){
            res += helper(it.second);
        }

        res += mp[0];
        return res;
    }
    // è®¡ç®—xçš„ç»„åˆæ•°C_x^2
    int helper(int x){
        if(x == 1) return 0;
        return x * (x-1) / 2;
    }
};
```

#### [560. å’Œä¸º K çš„å­æ•°ç»„](https://leetcode-cn.com/problems/subarray-sum-equals-k/)

```cpp
class Solution {
public:
    /*
    preS[i]ï¼šå‰iä¸ªæ•°çš„æ€»å’Œï¼ˆå‰ç¼€å’Œï¼‰
    iåˆ°jçš„æ€»å’Œ=preS[j]-preS[i-1]=k
    å› æ­¤ï¼Œé—®é¢˜å¯ä»¥è½¬åŒ–ä¸ºï¼šå‰ç¼€å’Œä¹‹å·®ä¸ºkçš„ç»„åˆæ•°
    ä¼˜åŒ–æ±‚è§£è¿‡ç¨‹ï¼šä½¿ç”¨hashmapè®°å½•preSä¸­æ¯ä¸ªå€¼å‡ºç°çš„æ¬¡æ•°ï¼Œå¦‚æœpreS[i]-kå­˜åœ¨ï¼Œé‚£å°±è¯´æ˜å­˜åœ¨å¤šå°‘ä¸ªæ•°å¯ä»¥ä¸iç»„æˆkã€‚
    */
    int subarraySum(vector<int>& nums, int k) {
        vector<int> preS(nums.size()+1, 0);
        unordered_map<int, int> mp{{0,1}}; // åˆå§‹åŒ–ä¿è¯0~iå¯å­˜åœ¨ï¼Œå¿…é¡»æœ‰
        int res = 0;
        for(int i=1; i<=nums.size(); i++){
            preS[i] = preS[i-1] + nums[i-1];
            if(mp.count(preS[i]-k) != 0){
                res += mp[preS[i]-k];
            }
            mp[preS[i]]++;
        }
        return res;
    }
};
```



æ‹“æ‰‘æ’åºï¼šLeetCode210
å­—ç¬¦ä¸²ï¼šLeetCode5ã€20ã€43ã€93

## äºŒåˆ†æŸ¥æ‰¾

#### äºŒåˆ†æ¨¡æ¿ï¼ˆæ‹‰ä¸æ‹‰ä¸œï¼‰

1. ç»Ÿä¸€ä½¿ç”¨<=
2. ç»Ÿä¸€ä½¿ç”¨mid-1ï¼Œmid+1
3. åœ¨ç›¸ç­‰æ—¶ï¼Œ
   1. æŸ¥å€¼ç›´æ¥è¿”å›nums[mid]ï¼Œ
   2. å·¦ä¾§è¾¹ç•Œï¼ˆå°äºç›®æ ‡å€¼çš„æ•°é‡ï¼š<font color='red'>ç¬¬ä¸€ä¸ªå¤§äºç­‰äºtargetçš„æ•°</font>ï¼‰r=mid-1ï¼Œåˆ¤æ–­læ˜¯å¦è¶Šç•Œ>nums.size()-1?<font color='red'>è¿”å›l</font>
   3. å³ä¾§è¾¹ç•Œï¼ˆå°äºç­‰äºç›®æ ‡å€¼çš„æ•°é‡-1ï¼š<font color='red'>ç¬¬ä¸€ä¸ªå°äºç­‰äºtargetçš„æ•°</font>ï¼‰l=mid+1ï¼Œåˆ¤æ–­ræ˜¯å¦è¶Šç•Œ<0?<font color='red'>è¿”å›r</font>

å·¦ä¾§è¾¹ç•Œå®šä¹‰ã€‚
å¦‚æœæœç´¢ç›®æ ‡å€¼ä¸º2ï¼Œé‚£ä¹ˆå·¦ä¾§è¾¹ç•Œå°±æ˜¯1ï¼Œå³ä¾§è¾¹ç•Œä¸º3
å¦‚æœæœç´¢ç›®æ ‡å€¼ä¸º3ï¼Œé‚£ä¹ˆå·¦ä¾§è¾¹ç•Œå°±æ˜¯4ï¼Œå³ä¾§è¾¹ç•Œä¸º3

| nums  | 1    | 2    | 2    | 2    | 5    | 6    |
| ----- | ---- | ---- | ---- | ---- | ---- | ---- |
| index | 0    | 1    | 2    | 3    | 4    | 5    |

```cpp
int binary_search(int[] nums, int target) {
    int left = 0, right = nums.length - 1; 
    while(left <= right) {
        int mid = left + (right - left) / 2;
        if (nums[mid] < target) {
            left = mid + 1;
        } else if (nums[mid] > target) {
            right = mid - 1; 
        } else if(nums[mid] == target) {
            // ç›´æ¥è¿”å›
            return mid;
        }
    }
    // ç›´æ¥è¿”å›
    return -1;
}

int left_bound(int[] nums, int target) {
    int left = 0, right = nums.length - 1;
    while (left <= right) {
        int mid = left + (right - left) / 2;
        if (nums[mid] < target) {
            left = mid + 1;
        } else if (nums[mid] > target) {
            right = mid - 1;
        } else if (nums[mid] == target) {
            // åˆ«è¿”å›ï¼Œé”å®šå·¦ä¾§è¾¹ç•Œ
            right = mid - 1;
        }
    }
    // æœ€åè¦æ£€æŸ¥ left è¶Šç•Œçš„æƒ…å†µ
    if (left >= nums.length || nums[left] != target)
        return -1;
    return left;
}


int right_bound(int[] nums, int target) {
    int left = 0, right = nums.length - 1;
    while (left <= right) {
        int mid = left + (right - left) / 2;
        if (nums[mid] < target) {
            left = mid + 1;
        } else if (nums[mid] > target) {
            right = mid - 1;
        } else if (nums[mid] == target) {
            // åˆ«è¿”å›ï¼Œé”å®šå³ä¾§è¾¹ç•Œ
            left = mid + 1;
        }
    }
    // æœ€åè¦æ£€æŸ¥ right è¶Šç•Œçš„æƒ…å†µ
    if (right < 0 || nums[right] != target)
        return -1;
    return right;
}
```

#### [74. æœç´¢äºŒç»´çŸ©é˜µ](https://leetcode-cn.com/problems/search-a-2d-matrix/)

```cpp
class Solution
{
public:
    /*  ä¸¤æ¬¡äºŒåˆ†æŸ¥æ‰¾
        äºŒåˆ†æ³•æ‰¾å‡ºå°äºç­‰äºtargetçš„ç¬¬ä¸€ä¸ªå€¼
    */
    bool searchMatrix(const vector<vector<int>> &matrix, int target)
    {
        int row = matrix.size();
        int col = matrix[0].size();
        // åˆ—å·¦ä¾§åŒºé—´äºŒåˆ†æŸ¥æ‰¾
        int t = 0, b = row - 1;
        while (t <= b)
        {
            int mid = t + (b - t) / 2;
            if (matrix[mid][0] > target)
                b = mid - 1;
            else if (matrix[mid][0] < target)
                t = mid + 1;
            else
                b = mid - 1;
        }
        /*  è¶Šç•Œè¯´æ˜æ‰€æœ‰æ•°éƒ½å°äºtarget
            æ²¡æœ‰æ‰¾åˆ°targetï¼Œè¯´æ˜æ­¤æ—¶tå¤„çš„å€¼å¤§äºtarget
            ä¸¤ç§æƒ…å†µéƒ½åº”è¯¥-1
        */
        if(t >= row || matrix[t][0] != target)
            t--;
        if(t < 0) // <0è¯´æ˜ä¸å¯èƒ½å­˜åœ¨targetï¼Œéƒ½æ¯”targetå¤§
            return false;
        // è¡ŒäºŒåˆ†æŸ¥æ‰¾
        int l = 0, r = col - 1;
        while (l <= r)
        {
            int mid = l + (r - l) / 2;
            if (matrix[t][mid] > target)
                r = mid - 1;
            else if (matrix[t][mid] < target)
                l = mid + 1;
            else
                r = mid - 1;
        }
        if(l >= col || matrix[t][l] != target)
            l--;
        if (matrix[t][l] == target)
            return true;
        else
            return false;
    }
};

ä½œè€…ï¼šshou-hu-w9
é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/search-a-2d-matrix/solution/74-sou-suo-er-wei-ju-zhen-by-shou-hu-w9-6aon/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```

#### [33. æœç´¢æ—‹è½¬æ’åºæ•°ç»„](https://leetcode-cn.com/problems/search-in-rotated-sorted-array/)***

**é‡ç‚¹æ€è€ƒä¸€ä¸‹è¿™ä¸ªæƒ…å†µä¸ºä»€ä¹ˆæ˜¯åˆç†çš„**
ç”»ä¸ªå›¾å°±æ‡‚äº†

```cpp
class Solution {
public:
    /*  äºŒåˆ†æ³•æ€è·¯ï¼Œå·¦å³æœ‰åºï¼Œæ•´ä½“æ— åºï¼Œå› æ­¤åˆ†æ®µè®¨è®ºå³å¯
        1.  n[mid] >= n[left]ï¼Œè¯´æ˜midåœ¨å·¦æ®µ
            1.1 target < n[mid] && target > n[left], è¯´æ˜targetåœ¨midå·¦ä¾§ï¼šå¦åˆ™å°±æ˜¯midå³ä¾§
        2. n[mid] < n[left]ï¼Œè¯´æ˜midåœ¨å³ä¾§
            2.1` target > n[mid] && target < n[right]ï¼Œè¯´æ˜targetåœ¨midå³ä¾§ï¼šå¦åˆ™å°±æ˜¯midå·¦ä¾§
    */
    int search(vector<int>& nums, int target) {
        int left=0, right = nums.size()-1, mid=0;
        while(left <= right){
            mid = (left + right) / 2;
            if(nums[mid] == target) return mid;

            if(nums[mid] >= nums[left]){    // midåœ¨å·¦ä¾§
                if(target < nums[mid] && target >= nums[left]) // targetåœ¨midå·¦ä¾§
                    right = mid - 1;
                else
                    left = mid + 1;
            }
            else{   // midåœ¨å³ä¾§
                if(target > nums[mid] && target <= nums[right])    // targetåœ¨midå³ä¾§
                    left = mid + 1;
                else
                    right = mid - 1;
            }
        }
        return -1;
    }
};

ä½œè€…ï¼šshou-hu-w9
é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/search-in-rotated-sorted-array/solution/33-sou-suo-xuan-zhuan-pai-xu-shu-zu-by-s-i68f/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```

#### [34. åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½®](https://leetcode-cn.com/problems/find-first-and-last-position-of-element-in-sorted-array/)

```cpp
// äºŒåˆ†æŸ¥æ‰¾
class Solution {
public:
    vector<int> searchRange(vector<int>& nums, int target)
    {
        vector<int> res { -1, -1 };
        // æŸ¥æ‰¾å·¦ä¾§ä½ç½®
        int left = 0, right = nums.size() - 1;
        while (left <= right) {
            int mid = left + (right - left) / 2;
            if (nums[mid] < target) {
                left = mid + 1;
            } else if (nums[mid] > target) {
                right = mid - 1;
            } else {
                right = mid - 1;
            }
        }
        if (left >= nums.size() || nums[left] != target)
            res[0] = -1;
        else
            res[0] = left;
        // æŸ¥æ‰¾å³ä¾§ä½ç½®
        left = 0, right = nums.size() - 1;
        while (left <= right) {
            int mid = left + (right - left) / 2;
            if (nums[mid] < target) {
                left = mid + 1;
            } else if (nums[mid] > target) {
                right = mid - 1;
            } else {
                left = mid + 1;
            }
        }
        if (right < 0 || nums[right] != target)
            res[1] = -1;
        else
            res[1] = right;
        return res;
    }
};

ä½œè€…ï¼šshou-hu-w9
é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/find-first-and-last-position-of-element-in-sorted-array/solution/34-zai-pai-xu-shu-zu-zhong-cha-zhao-yuan-uqu0/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```



## BFS

#### [529. æ‰«é›·æ¸¸æˆ](https://leetcode-cn.com/problems/minesweeper/)

å®šä¹‰é€’å½’å‡½æ•° dfs(x, y) è¡¨ç¤ºå½“å‰åœ¨ (x,y) ç‚¹ï¼Œæ‰§è¡Œæ‰«é›·è§„åˆ™çš„æƒ…å†µï¼Œæˆ‘ä»¬åªè¦æŒ‰ç…§ä¸Šé¢ç†å‡ºæ¥çš„æƒ…å†µæ¥è¿›è¡Œæ¨¡æ‹Ÿå³å¯ï¼Œåœ¨$cnt$ ä¸ºé›¶çš„æ—¶å€™ï¼Œå¯¹å½“å‰ç‚¹ç›¸é‚»çš„æœªæŒ–å‡ºçš„æ–¹å—è°ƒç”¨é€’å½’å‡½æ•°ï¼Œå¦åˆ™å°†å…¶æ”¹ä¸ºæ•°å­—ï¼Œç»“æŸé€’å½’ã€‚

```cpp
class Solution {
public:
    int dir_x[8] = { 0, 1, 0, -1, 1, 1, -1, -1 };
    int dir_y[8] = { 1, 0, -1, 0, 1, -1, 1, -1 };

    void dfs(vector<vector<char>>& board, int x, int y)
    {
        int cnt = 0;
        for (int i = 0; i < 8; ++i) {
            int tx = x + dir_x[i];
            int ty = y + dir_y[i];
            if (tx < 0 || tx >= board.size() || ty < 0 || ty >= board[0].size()) {
                continue;
            }
            // ä¸ç”¨åˆ¤æ–­ Mï¼Œå› ä¸ºå¦‚æœæœ‰ M çš„è¯æ¸¸æˆå·²ç»ç»“æŸäº†
            cnt += board[tx][ty] == 'M';
        }
        if (cnt > 0) {
            // è§„åˆ™ 3
            board[x][y] = cnt + '0';
        } else {
            // è§„åˆ™ 2
            board[x][y] = 'B';
            for (int i = 0; i < 8; ++i) {
                int tx = x + dir_x[i];
                int ty = y + dir_y[i];
                // åªæœ‰å½“å‰å­—ç¬¦ç¡®å®šä¸º'E'æ—¶æ‰èƒ½ç»§ç»­è¿›è¡Œé€’å½’ï¼ˆæŒ‰è§„åˆ™2å†³å®šçš„ï¼‰
                if (tx < 0 || tx >= board.size() || ty < 0 || ty >= board[0].size() || board[tx][ty] != 'E') {
                    continue;
                }
                dfs(board, tx, ty);
            }
        }
    }

    vector<vector<char>> updateBoard(vector<vector<char>>& board, vector<int>& click)
    {
        int x = click[0], y = click[1];
        if (board[x][y] == 'M') {
            // è§„åˆ™ 1
            board[x][y] = 'X';
        } else {
            dfs(board, x, y);
        }
        return board;
    }
};

ä½œè€…ï¼šshou-hu-w9
é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/minesweeper/solution/529-sao-lei-you-xi-by-shou-hu-w9-xbyy/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```



## LeetCode127ã€815

## DFS&å›æº¯ï¼šï¼šLeetCode934ã€685ã€1102ã€531ã€533ã€113ã€332ã€337

## åŠ¨æ€è§„åˆ’

#### [å‰‘æŒ‡ Offer 14- I. å‰ªç»³å­](https://leetcode-cn.com/problems/jian-sheng-zi-lcof/)

```cpp
class Solution {
public:
    /*   dp[i]ï¼šé•¿åº¦ä¸ºiçš„ç»³å­çš„æœ€å¤§ä¹˜ç§¯
        dp[i] = max(dp[i], dp[j][dp[i-j]])
    */
    int cuttingRope(int n) {
        vector<int> dp(n+1, 0);
        // ç‰¹æ®Šæƒ…å†µä¸‹çš„å¤„ç†ï¼ˆmå¿…é¡»å¤§äº1ï¼‰
        if(n == 2) return 1;
        if(n == 3) return 2;
        // æ™®é€šæƒ…å†µä¸‹çš„åˆå§‹åŒ–ï¼ˆå¯ä»¥åˆ‡ä¹Ÿå¯ä»¥ä¸åˆ‡ï¼‰
        for(int i=0; i<=n && i<=3; i++){
            dp[i] = i;
        }
        for(int i=4; i<=n; i++){
            for(int j=2; j <= i/2; j++){
                dp[i] = max(dp[i], dp[j]*dp[i-j]);
            }
        }
        return dp[n];
    }
};

ä½œè€…ï¼šshou-hu-w9
é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/jian-sheng-zi-lcof/solution/jian-zhi-offer-14-i-jian-sheng-zi-by-sho-dll1/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```



#### [121. ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº](https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock/)

```cpp
class Solution {
public:
    int maxProfit(vector<int>& prices) {
        // çŠ¶æ€ï¼šç¬¬iå¤©ï¼Œç›®å‰æœ‰æ²¡æœ‰æŒè‚¡{0,1}
        // dp[i][j]ï¼šç¬¬iå¤©çŠ¶æ€ä¸ºjæƒ…å†µä¸‹ï¼Œå‰©ä½™çš„é’±æ•°
        // dp[i][0] = dp[i-1][0], dp[i-1][1] + prices[i] 
        // dp[i][1] = max(dp[i-1][1], - prices[i])
        vector<vector<int>> dp(prices.size(), vector<int>(2,0));
        dp[0][0] = 0;
        dp[0][1] = -prices[0];
        for(int i=1; i<prices.size(); ++i){
            /*åªæœ‰ä¸Šä¸€å¤©æœ‰è‚¡ç¥¨æ‰èƒ½æ›´æ–°ä»Šå¤©ä¹Ÿæœ‰è‚¡ç¥¨çš„æƒ…å†µï¼Œå¦‚æœä½¿ç”¨ä¸Šä¸€å¤©ä¸æŒæœ‰è‚¡ç¥¨çš„ç»“æœï¼Œç”±äºä¸Šä¸€å¤©ä¸æŒæœ‰è‚¡ç¥¨ä¼šè¢«æ›´æ–°ä¸ä¸º0ï¼Œå°±ä¼šå‡ºé”™*/
            // ä¸æŒæœ‰è‚¡ç¥¨ï¼ˆå–å‡ºï¼‰==ä¸Šä¸€å¤©ä¸æŒæœ‰è‚¡ç¥¨èµšçš„é’±ï¼Œ ä¸Šä¸€å¤©æŒæœ‰è‚¡ç¥¨+ä»Šå¤©å–å‡ºçš„é’±=ä»Šå¤©å–èµšçš„é’±
            dp[i][0] = max(dp[i-1][0], dp[i-1][1] + prices[i]);
            // æŒæœ‰è‚¡ç¥¨==ä¸Šä¸€å¤©æŒæœ‰è‚¡ç¥¨èµšçš„é’±ï¼Œ ä¸Šä¸€å¤©ä¸æŒæœ‰è‚¡ç¥¨-ä»Šå¤©ä¹°å…¥èµšï¼ˆèµ”ï¼‰çš„é’±
            dp[i][1] = max(dp[i-1][1], - prices[i]);
        }
        return dp[prices.size()-1][0];
    }
};

ä½œè€…ï¼šshou-hu-w9
é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock/solution/121-mai-mai-gu-piao-de-zui-jia-shi-ji-by-tp8h/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```

#### [122. ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº II](https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-ii/)

```cpp
class Solution {
public:
    int maxProfit(vector<int>& prices) {
        // çŠ¶æ€ï¼šç¬¬iå¤©ï¼Œç›®å‰æœ‰æ²¡æœ‰æŒè‚¡{0,1}
        // dp[i][j]ï¼šç¬¬iå¤©çŠ¶æ€ä¸ºjæƒ…å†µä¸‹ï¼Œå‰©ä½™çš„é’±æ•°
        // dp[i][0] = dp[i-1][0], dp[i-1][1] + prices[i] 
        // dp[i][1] = max(dp[i-1][1], dp[i-1][0] - prices[i])  å’Œ121åªæœ‰è¿™ä¸€ä¸ªåœ°æ–¹ä¸ä¸€æ ·
        vector<vector<int>> dp(prices.size(), vector<int>(2,0));
        dp[0][0] = 0;
        dp[0][1] = -prices[0];
        for(int i=1; i<prices.size(); ++i){
            /*åªæœ‰ä¸Šä¸€å¤©æœ‰è‚¡ç¥¨æ‰èƒ½æ›´æ–°ä»Šå¤©ä¹Ÿæœ‰è‚¡ç¥¨çš„æƒ…å†µï¼Œå¦‚æœä½¿ç”¨ä¸Šä¸€å¤©ä¸æŒæœ‰è‚¡ç¥¨çš„ç»“æœï¼Œç”±äºä¸Šä¸€å¤©ä¸æŒæœ‰è‚¡ç¥¨ä¼šè¢«æ›´æ–°ä¸ä¸º0ï¼Œå°±ä¼šå‡ºé”™*/
            // ä¸æŒæœ‰è‚¡ç¥¨ï¼ˆå–å‡ºï¼‰==ä¸Šä¸€å¤©ä¸æŒæœ‰è‚¡ç¥¨èµšçš„é’±ï¼Œ ä¸Šä¸€å¤©æŒæœ‰è‚¡ç¥¨+ä»Šå¤©å–å‡ºçš„é’±=ä»Šå¤©å–èµšçš„é’±
            dp[i][0] = max(dp[i-1][0], dp[i-1][1] + prices[i]);
            // æŒæœ‰è‚¡ç¥¨==ä¸Šä¸€å¤©æŒæœ‰è‚¡ç¥¨èµšçš„é’±ï¼Œ ä¸Šä¸€å¤©ä¸æŒæœ‰è‚¡ç¥¨-ä»Šå¤©ä¹°å…¥èµšï¼ˆèµ”ï¼‰çš„é’±
            dp[i][1] = max(dp[i-1][1], dp[i-1][0] - prices[i]);
        }
        return dp[prices.size()-1][0];
    }
};
```

#### [123. ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº III](https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-iii/)

```cpp
class Solution {
public:
    /*
    çŠ¶æ€å®šä¹‰ï¼š
        0: ä¸æŒè‚¡   
        1: æŒè‚¡
        0ï¼Œ1ï¼Œ2: å·²ç»å–å‡ºè¿‡å‡ æ¬¡è‚¡ç¥¨ï¼ŒåŒ…æ‹¬ä»Šå¤©çš„
    çŠ¶æ€è½¬ç§»ï¼š
        dp[i][0][0]=0
            æœªæŒè‚¡ï¼Œæœªå–å‡ºè¿‡è‚¡ç¥¨ï¼šè¯´æ˜ä»æœªè¿›è¡Œè¿‡ä¹°å–ï¼Œåˆ©æ¶¦ä¸º0
        dp[i][0][1]=max(dp[i-1][1][0]+prices[i],dp[i-1][0][1])
            æœªæŒè‚¡ï¼Œå–å‡ºè¿‡1æ¬¡è‚¡ç¥¨ï¼šå¯èƒ½æ˜¯ä»Šå¤©å–å‡ºï¼Œä¹Ÿå¯èƒ½æ˜¯ä¹‹å‰å–çš„ï¼ˆæ˜¨å¤©ä¹ŸæœªæŒè‚¡ä¸”å–å‡ºè¿‡ï¼‰
        dp[i][0][2]=max(dp[i-1][1][1]+prices[i],dp[i-1][0][2])
            æœªæŒè‚¡ï¼Œå–å‡ºè¿‡2æ¬¡è‚¡ç¥¨:å¯èƒ½æ˜¯ä»Šå¤©å–å‡ºï¼Œä¹Ÿå¯èƒ½æ˜¯ä¹‹å‰å–çš„ï¼ˆæ˜¨å¤©ä¹ŸæœªæŒè‚¡ä¸”å–å‡ºè¿‡ï¼‰
        dp[i][1][0]=max(dp[i-1][0][0]-prices[i],dp[i-1][1][0])
            æŒè‚¡ï¼Œæœªå–å‡ºè¿‡è‚¡ç¥¨ï¼šå¯èƒ½æ˜¯ä»Šå¤©ä¹°çš„ï¼Œä¹Ÿå¯èƒ½æ˜¯ä¹‹å‰ä¹°çš„ï¼ˆæ˜¨å¤©ä¹ŸæŒè‚¡ï¼‰
        dp[i][1][1]=max(dp[i-1][0][1]-prices[i],dp[i-1][1][1])
            æŒè‚¡ï¼Œå–å‡ºè¿‡1æ¬¡è‚¡ç¥¨ï¼šå¯èƒ½æ˜¯ä»Šå¤©ä¹°çš„ï¼Œä¹Ÿå¯èƒ½æ˜¯ä¹‹å‰ä¹°çš„ï¼ˆæ˜¨å¤©ä¹ŸæŒè‚¡ï¼‰
        dp[i][1][2]=float('-inf')
            æŒè‚¡ï¼Œå–å‡ºè¿‡2æ¬¡è‚¡ç¥¨ï¼šæœ€å¤šäº¤æ˜“2æ¬¡ï¼Œè¿™ç§æƒ…å†µä¸å­˜åœ¨
    */
    int maxProfit(vector<int>& prices) {
        // å¿…é¡»åˆå§‹åŒ–ä¸ºINT_MINï¼Œç¡®ä¿è¿™äº›ä¸å¯èƒ½æ•°æ®ä¸ä¼šå½±å“æœ€ç»ˆçš„ç»“æœ
        vector<vector<int>> dp(2, vector<int>(3, INT_MIN));
        dp[0][0] = 0;
        dp[1][0] = -prices[0];
        // å…¶ä»–æƒ…å†µéƒ½ä¸å­˜åœ¨ï¼Œä¸å†è¿›è¡Œåˆå§‹åŒ–
        for(int i=1; i<prices.size(); ++i){
            dp[0][0] = 0;
            dp[0][1] = max(dp[0][1], dp[1][0] + prices[i]);
            dp[0][2] = max(dp[0][2], dp[1][1] + prices[i]);
            dp[1][0] = max(dp[1][0], dp[0][0] - prices[i]);
            dp[1][1] = max(dp[1][1], dp[0][1] - prices[i]);
            dp[1][2] = INT_MIN;
        }
        // æœ€åä¸å®šæ˜¯å–å‡ºä¸¤æ¬¡ï¼Œæœ‰å¯èƒ½ä¸å–å’Œå–å‡ºä¸€æ¬¡æ˜¯æœ€å¤§æ”¶ç›Š
        return max(max(dp[0][1], dp[0][2]), dp[0][0]);
    }
};

ä½œè€…ï¼šshou-hu-w9
é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-iii/solution/123-mai-mai-gu-piao-de-zui-jia-shi-ji-ii-e94x/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```

#### [213. æ‰“å®¶åŠ«èˆ II](https://leetcode-cn.com/problems/house-robber-ii/)

```cpp
class Solution {
public:
    // å°†å¾ªç¯é—®é¢˜ï¼Œè½¬æ¢ä¸ºä¸¤ä¸ªæ— ç¯é—®é¢˜
    int rob(vector<int>& nums) {
        if(nums.size()==1) return nums[0];
        return max(myRob(nums, 0, nums.size()-2), // ç¬¬ä¸€é—´å·ï¼Œæœ€åä¸€é—´ä¸èƒ½å·
                myRob(nums, 1, nums.size()-1));   // ç¬¬ä¸€é—´ä¸å·ï¼Œæœ€åä¸€é—´å·ä¸å·éƒ½å¯ä»¥
    }
    // start,endç¡®å®šæœç´¢èŒƒå›´ï¼ŒæŒ‡å®šè¦æœç´¢å“ªå‡ ä¸ªæˆ¿é—´
    int myRob(vector<int>& nums, int first, int last){
        vector<int> dp(nums.size(), 0); // dp[i]ï¼šå‰ié—´æˆ¿å­è¢«å·çš„æœ€é«˜é‡‘é¢
        /*  ç¬¬ié—´è¢«å·ï¼Œ dp[i] = dp[i-2] + nums[i]
            ç¬¬ié—´æ²¡è¢«å· dp[i] = dp[i-1]
        */
        // if(first == last) return nums[first]; // åªæœ‰ä¸€é—´æˆ¿
        // dp[first] = nums[first];
        // dp[first+1] = max(nums[first], nums[first+1]);
        int pre1 = 0, pre2 = 0;
        for(int i=first; i <= last; i++){
            // dp[i] = max(dp[i-1], dp[i-2] + nums[i]);
            int cur = max(pre1, pre2 + nums[i]);
            pre2 = pre1;
            pre1 = cur;
        }
        return pre1;
        // return dp[last];
    }
};

ä½œè€…ï¼šshou-hu-w9
é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/house-robber-ii/solution/213-da-jia-jie-she-ii-by-shou-hu-w9-q885/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```

#### [62. ä¸åŒè·¯å¾„](https://leetcode-cn.com/problems/unique-paths/)

```cpp
class Solution {
public:
    int uniquePaths(int m, int n) {
        // i,jç½‘ç»œåˆ°å³ä¸‹è§’æœ‰å¤šå°‘ç§è·¯å¾„
        vector<vector<int>> dp(m, vector<int>(n, 1)); // dp[0][...]=dp[...][0]=1
        for(int i=1; i<m; i++){
            for(int j=1; j<n; j++){
                dp[i][j] = dp[i-1][j] + dp[i][j-1];
            }
        }
        return dp[m-1][n-1];
    }
};

ä½œè€…ï¼šshou-hu-w9
é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/unique-paths/solution/62-bu-tong-lu-jing-by-shou-hu-w9-89r3/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```

#### [63. ä¸åŒè·¯å¾„ II](https://leetcode-cn.com/problems/unique-paths-ii/)

```cpp
class Solution {
public:
    // ç›¸æ¯”62åªæ˜¯å¢åŠ äº†ä¸€ä¸ªå¯¹äºéšœç¢çš„å•ç‹¬å¤„ç†
    int uniquePathsWithObstacles(vector<vector<int>>& obstacleGrid) {
        int M=obstacleGrid.size();
        int N=obstacleGrid[0].size();
        vector<vector<int>> dp(M, vector<int>(N, 1));
        // åˆå§‹åŒ–dp[...][0],dp[0][...] åªæœ‰ä¸€æ¡è·¯å¾„ï¼Œä¸”ä¸­é—´ä¸€æ—¦å‡ºç°éšœç¢ï¼Œåˆ™åç»­è·¯å¾„æ•°å…¨éƒ¨ä¸º0
        bool have_obstacle = false;
        for(int i=0; i<M; i++){
            if(have_obstacle || obstacleGrid[i][0]){
                have_obstacle = true;
                dp[i][0] = 0;
            }
        }
        have_obstacle = false;
        for(int i=0; i<N; i++){
            if(have_obstacle || obstacleGrid[0][i]){
                have_obstacle = true;
                dp[0][i] = 0;
            }
        }
        // çŠ¶æ€è½¬ç§»
        for(int i=1; i<M; i++){
            for(int j=1; j<N; j++){
                if(obstacleGrid[i][j] == 1) // å¦‚æœè¯¥å¤„æœ‰éšœç¢ï¼Œç›´æ¥å°†è¯¥å¤„çš„è·¯å¾„æ•°ç½®ä¸º0
                    dp[i][j] = 0;
                else // æ— éšœç¢æ—¶ï¼Œç­‰äºå‘¨å›´è·¯å¾„ä¹‹å’Œ
                    dp[i][j] = dp[i-1][j] + dp[i][j-1];
            }
        }
        return dp[M-1][N-1];
    }
};

ä½œè€…ï¼šshou-hu-w9
é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/unique-paths-ii/solution/63-bu-tong-lu-jing-ii-by-shou-hu-w9-xxb4/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```

#### [139. å•è¯æ‹†åˆ†](https://leetcode-cn.com/problems/word-break/)

```cpp
class Solution {
public:
    /*  åŠ¨æ€è§„åˆ’
        æ³¨æ„ï¼šåŠ¨æ€è§„åˆ’ä¸ä¸€å®šæ¯æ¬¡éƒ½æ˜¯dp[n]=dp[n-?]ï¼Œè¿™é‡Œå°±æ˜¯æ ¹æ®dp[n]å»æ›´æ–°dp[n+?]
    */
    bool wordBreak(string& s, vector<string>& wordDict)
    {
        vector<bool> dp(s.size() + 1, false); // è¡¨ç¤º s çš„å‰ i ä½**æ˜¯å¦**å¯ä»¥ç”¨ wordDictwordDict ä¸­çš„å•è¯è¡¨ç¤º
        dp[0] = true;
        // å¤–å¾ªç¯ï¼šéå†æ¯ä¸€ä¸ªç´¢å¼•ä½ç½®
        for (int i = 0; i < s.size(); i++) {
            if (!dp[i])
                continue;
            /* å†…å¾ªç¯ï¼šçŠ¶æ€è½¬ç§»ï¼ˆä»å½“å‰ä½ç½®å¼€å§‹ï¼Œåˆ¤æ–­è¯¥ä½ç½®æ˜¯å¦æ˜¯æŸä¸ªå•è¯çš„èµ·å§‹ä½ç½®ï¼‰
                    å¦‚æœå½“å‰ä½ç½®å­˜åœ¨ä¸€ä¸ªåœ¨å­—å…¸é‡Œçš„æ•°ï¼Œå°±æŠŠå¯¹åº”ä½ç½®ç½®true
            */
            for (auto& word : wordDict)
                if (word.size() + i <= s.size() && s.substr(i, word.size()) == word)
                    dp[i + word.size()] = true;
        }
        return dp[s.size()];
    }
};

ä½œè€…ï¼šshou-hu-w9
é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/word-break/solution/139-dan-ci-chai-fen-by-shou-hu-w9-a878/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```

#### [2140. è§£å†³æ™ºåŠ›é—®é¢˜](https://leetcode-cn.com/problems/solving-questions-with-brainpower/)***

å­—èŠ‚ç¬”è¯•é¢˜

```cpp
class Solution {
public:
    /* åå‘é€’å½’
    dp[i]ï¼šiåˆ°n-1çš„æœ€é«˜åˆ†æ•°
    iä¸åšï¼šdp[i] = dp[i+1]
    iåšäº†ï¼šdp[i] = dp[i+skip+1] + w[i] è¿™é‡Œçš„i+skip+1å¿…é¡»ä¸èƒ½è¶Šç•Œ
    */
    long long mostPoints(vector<vector<int>>& questions) {
        int n = questions.size();
        vector<long long> dp(n, 0);
        dp[n-1] = questions[n-1][0];
        for(int i=n-2; i>=0; i--){
            int skip = questions[i][1]; // å½“å‰ä½ç½®è§£å†³åéœ€è¦è·³è¿‡çš„æ­¥æ•°
            if(i+skip+1 < n)
                dp[i] = max(dp[i+1], dp[i+skip+1]+questions[i][0]);
            else
                dp[i] = max(dp[i+1], static_cast<long long>(questions[i][0]));
        }
        return dp[0];
    }
};
```



#### [300. æœ€é•¿é€’å¢å­åºåˆ—](https://leetcode-cn.com/problems/longest-increasing-subsequence/)***

$O(N^2)$çš„åŠ¨æ€è§„åˆ’è§£æ³•ï¼Œå¥½ç†è§£

```cpp
class Solution {
public:
    int lengthOfLIS(vector<int>& nums) {
        // dp[i]ï¼šä»¥nums[i]ç»“å°¾çš„æœ€é•¿ä¸¥æ ¼é€’å¢å­åºåˆ—çš„é•¿åº¦
        int N = nums.size();
        vector<int> dp(N, 1); // æ‰€æœ‰å…ƒç´ ç½® 1ï¼Œå«ä¹‰æ˜¯æ¯ä¸ªå…ƒç´ éƒ½è‡³å°‘å¯ä»¥å•ç‹¬æˆä¸ºå­åºåˆ—ï¼Œæ­¤æ—¶é•¿åº¦éƒ½ä¸º 1
        // dp[i]ä¸ºdpå‰i-1ä¸ªä¸­çš„æœ€å¤§å€¼ï¼ˆå¦‚æœèƒ½æ¥ä¸Š+1ï¼Œå¦åˆ™ç»´æŒåŸå€¼ï¼‰
        for(int i=0; i<N; ++i){
            // å†…å¾ªç¯ï¼Œè¿›è¡Œé€ä¸ªçŠ¶æ€è½¬ç§»
            for(int j=0; j<i; ++j){
                if(nums[i] > nums[j]){
                    dp[i] = max(dp[i], dp[j] + 1);
                }
            }
        }
        return *max_element(dp.begin(), dp.end());
    }
};

ä½œè€…ï¼šshou-hu-w9
é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/longest-increasing-subsequence/solution/300-zui-chang-di-zeng-zi-xu-lie-by-shou-pm134/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```

$O(nlogn)$
åŠ¨æ€è§„åˆ’+äºŒåˆ†æ³•ä¼˜åŒ–
ï¼ˆç”±äºä¼ ç»ŸDPï¼Œå†…å¾ªç¯æš´åŠ›æ¯”å¤§å°ï¼Œè‡ªç„¶è€Œç„¶æƒ³åˆ°ä½¿ç”¨äºŒåˆ†æ³•åŠ é€ŸæŸ¥æ‰¾è¿‡ç¨‹ï¼›äºŒåˆ†æ³•åˆéœ€è¦ä¸€ä¸ªé€’å¢çš„åºåˆ—ï¼›
å› æ­¤ï¼Œå¼•å‡ºå¦‚ä½•é‡æ–°å®šä¹‰çŠ¶æ€å˜é‡ï¼Œæ¥å®ç°ä¸€ä¸ªé€’å¢çš„åºåˆ—ï¼ŒåŒæ—¶è¿˜èƒ½å®¹æ˜“è®¡ç®—å‡ºæœ€é•¿å­åºåˆ—çš„é•¿åº¦ï¼‰

```cpp
class Solution {
public:
    /*  DP
        tails[i]: é•¿åº¦ä¸ºi+1çš„æœ€é•¿é€’å¢å­åºåˆ—çš„å°¾éƒ¨å€¼ã€‚ï¼ˆå¿…å®šæ˜¯é€’å¢åºåˆ—ï¼‰
        ç”¨lenè®°å½•å½“å‰æœ€é•¿çš„é€’å¢å­åºåˆ—é•¿åº¦
        éå†nums,
            å¦‚æœnums[j]æ˜¯tailsä¸­æœ€å¤§çš„å°±ç›´æ¥æ·»åŠ åˆ°åé¢ï¼Œ
            å¦‚æœtails[i-1] <= x <= tails[i]ï¼Œé‚£ä¹ˆæ›´æ–° tails[i] = x
        å…·ä½“è¿˜æ˜¯çœ‹Kç¥çš„è§£æ
    */
    int lengthOfLIS(vector<int>& nums) {
        vector<int> tails(nums.size(), 0);
        int len = 0;
        for(int num : nums){
            // äºŒåˆ†æŸ¥æ‰¾numåœ¨tailsä¸­çš„ä½ç½®
            int l=0, r=len;
            while(l < r){
                int mid = (l+r)/2;
                if(tails[mid] < num) l = mid + 1;
                else r = mid;
            }
            // æ­¤æ—¶tails[l] >= numï¼Œçœ‹lçš„æ”¹å˜æ¡ä»¶å¯ä»¥çŸ¥é“**
            tails[l] = num;
            if(l == len) len++; // è¯´æ˜æ­¤æ—¶tailså†…æ²¡æœ‰æ¯”ä»–å¤§çš„ï¼Œéœ€è¦æ‰©å±•å­åºåˆ—é•¿åº¦
        }
        return len;
    }
};

ä½œè€…ï¼šshou-hu-w9
é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/longest-increasing-subsequence/solution/300-zui-chang-di-zeng-zi-xu-lie-by-shou-zzcb8/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```

#### [646. æœ€é•¿æ•°å¯¹é“¾](https://leetcode-cn.com/problems/maximum-length-of-pair-chain/)

```cpp
class Solution {
public:
    // è¿™é‡Œæ•°æ®æ˜¯æ— åºçš„ï¼Œæ‰€ä»¥éœ€è¦è¿›è¡Œæ’åºï¼Œå˜æˆæœ€é•¿é€’å¢å­åºåˆ—é—®é¢˜
    int findLongestChain(vector<vector<int>>& pairs) {
        sort(pairs.begin(), pairs.end(), [](vector<int> x, vector<int> y)->bool{return x[0] < y[0];});
        vector<int> dp(pairs.size(), 1);
        for(int i=0; i<pairs.size(); ++i){
            for(int j=0; j<i; ++j){
                if(pairs[j][1] < pairs[i][0])
                    dp[i] = max(dp[i], dp[j]+1);
            }
        }
        return *max_element(dp.begin(), dp.end());
    }
};
```



#### [72. ç¼–è¾‘è·ç¦»](https://leetcode-cn.com/problems/edit-distance/)***

$dp[i][j] $ä»£è¡¨ word1 åˆ° i ä½ç½®è½¬æ¢æˆ word2 åˆ° j ä½ç½®éœ€è¦æœ€å°‘æ­¥æ•°

æ‰€ä»¥ï¼Œ

å½“ $word1[i] == word2[j]ï¼Œdp[i][j] = dp[i-1][j-1]$ï¼›

å½“ $word1[i] != word2[j]ï¼Œdp[i][j] = min(dp[i-1][j-1], dp[i-1][j], dp[i][j-1]) + 1$

å…¶ä¸­ï¼Œ$dp[i-1][j-1]$ è¡¨ç¤ºæ›¿æ¢æ“ä½œï¼Œ$dp[i-1][j] $è¡¨ç¤ºåˆ é™¤æ“ä½œï¼Œ$dp[i][j-1] $è¡¨ç¤ºæ’å…¥æ“ä½œã€‚

æ³¨æ„ï¼Œé’ˆå¯¹ç¬¬ä¸€è¡Œï¼Œç¬¬ä¸€åˆ—è¦å•ç‹¬è€ƒè™‘ï¼Œæˆ‘ä»¬å¼•å…¥ '' ä¸‹å›¾æ‰€ç¤ºï¼š

<img src="https://pic.leetcode-cn.com/76574ab7ff2877d63b80a2d4f8496fab3c441065552edc562f62d5809e75e97e-Snipaste_2019-05-29_15-28-02.png" alt="Snipaste_2019-05-29_15-28-02.png" style="zoom:50%;" />

ç¬¬ä¸€è¡Œï¼Œæ˜¯ word1 ä¸ºç©ºå˜æˆ word2 æœ€å°‘æ­¥æ•°ï¼Œå°±æ˜¯æ’å…¥æ“ä½œ

ç¬¬ä¸€åˆ—ï¼Œæ˜¯ word2 ä¸ºç©ºï¼Œéœ€è¦çš„æœ€å°‘æ­¥æ•°ï¼Œå°±æ˜¯åˆ é™¤æ“ä½œ

```c++
class Solution {
public:
    /*
        dp[i][j] ä»£è¡¨ word1 åˆ° i ä½ç½®è½¬æ¢æˆ word2 åˆ° j ä½ç½®éœ€è¦æœ€å°‘æ­¥æ•°
        æ‰€ä»¥ï¼Œ
        å½“ word1[i] == word2[j]ï¼Œdp[i][j] = dp[i-1][j-1]ï¼›
        å½“ word1[i] != word2[j]ï¼Œdp[i][j] = min(dp[i-1][j-1], dp[i-1][j], dp[i][j-1]) + 1
        å…¶ä¸­ï¼Œdp[i-1][j-1] è¡¨ç¤ºæ›¿æ¢æ“ä½œï¼Œdp[i-1][j] è¡¨ç¤ºåˆ é™¤æ“ä½œï¼Œdp[i][j-1] è¡¨ç¤ºæ’å…¥æ“ä½œã€‚
    */
    int minDistance(string word1, string word2) {
        int n1 = word1.size();
        int n2 = word2.size();
        vector<vector<int>> dp(n1+1, vector<int>(n2+1, 0));
        // ç¬¬ä¸€è¡Œ
        for (int j = 1; j <= n2; j++) 
            dp[0][j] = dp[0][j - 1] + 1;
        // ç¬¬ä¸€åˆ—
        for (int i = 1; i <= n1; i++) 
            dp[i][0] = dp[i - 1][0] + 1;

        for (int i = 1; i <= n1; i++) {
            for (int j = 1; j <= n2; j++) {
                if (word1[i - 1] == word2[j - 1]) 
                    dp[i][j] = dp[i - 1][j - 1];
                else 
                    dp[i][j] = min(min(dp[i - 1][j - 1], dp[i][j - 1]), dp[i - 1][j]) + 1;
            }
        }
        return dp[n1][n2];  
    }
};

ä½œè€…ï¼šshou-hu-w9
é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/edit-distance/solution/72-bian-ji-ju-chi-by-shou-hu-w9-g0y2/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```

å¯¹â€œ$dp[i-1][j-1] $è¡¨ç¤ºæ›¿æ¢æ“ä½œï¼Œ$dp[i-1][j] $è¡¨ç¤ºåˆ é™¤æ“ä½œï¼Œ$dp[i][j-1] $è¡¨ç¤ºæ’å…¥æ“ä½œã€‚â€çš„è¡¥å……ç†è§£ï¼š

ä»¥ word1 ä¸º "horse"ï¼Œword2 ä¸º "ros"ï¼Œä¸” $dp[5][3] $ä¸ºä¾‹ï¼Œå³è¦å°† word1çš„å‰ 5 ä¸ªå­—ç¬¦è½¬æ¢ä¸º word2çš„å‰ 3 ä¸ªå­—ç¬¦ï¼Œä¹Ÿå°±æ˜¯å°† horse è½¬æ¢ä¸º rosï¼Œå› æ­¤æœ‰ï¼š

(1) $dp[i-1][j-1]$ï¼Œå³å…ˆå°† word1 çš„å‰ 4 ä¸ªå­—ç¬¦ hors è½¬æ¢ä¸º word2 çš„å‰ 2 ä¸ªå­—ç¬¦ roï¼Œç„¶åå°†ç¬¬äº”ä¸ªå­—ç¬¦ word1[4]ï¼ˆå› ä¸ºä¸‹æ ‡åŸºæ•°ä»¥ 0 å¼€å§‹ï¼‰ ç”± e æ›¿æ¢ä¸º sï¼ˆå³æ›¿æ¢ä¸º word2 çš„ç¬¬ä¸‰ä¸ªå­—ç¬¦ï¼Œword2[2]ï¼‰

(2)$ dp[i$][j-1]ï¼Œå³å…ˆå°† word1 çš„å‰ 5 ä¸ªå­—ç¬¦ horse è½¬æ¢ä¸º word2 çš„å‰ 2 ä¸ªå­—ç¬¦ roï¼Œç„¶ååœ¨æœ«å°¾è¡¥å……ä¸€ä¸ª sï¼Œå³æ’å…¥æ“ä½œ

(3) $dp[i-1$][j]ï¼Œå³å…ˆå°† word1 çš„å‰ 4 ä¸ªå­—ç¬¦ hors è½¬æ¢ä¸º word2 çš„å‰ 3 ä¸ªå­—ç¬¦ rosï¼Œç„¶ååˆ é™¤ word1 çš„ç¬¬ 5 ä¸ªå­—ç¬¦

#### [1143. æœ€é•¿å…¬å…±å­åºåˆ—](https://leetcode-cn.com/problems/longest-common-subsequence/)

å’Œ72ç¼–è¾‘è·ç¦»åªå·®äº†ä¸€ä¸ª+1

```cpp
class Solution {
public:
	/*	åŠ¨æ€è§„åˆ’ï¼šåˆ¤æ–­ä¸¤ä¸ªå­—ç¬¦ä¸²å­ä¸²çš„æœ€é•¿å…¬å…±å­åºåˆ—
	*	åŒæŒ‡é’ˆåˆ¤æ–­å­—ç¬¦æ˜¯å¦ç›¸ç­‰
	*/
	int longestCommonSubsequence(string text1, string text2) {
		int n1 = text1.size(), n2 = text2.size();
		// dp[i][j]ï¼šs1çš„å‰iä¸ªå­—ç¬¦å’Œs2çš„å‰jä¸ªå­—ç¬¦ çš„æœ€é•¿å…¬å…±å­ä¸²çš„é•¿åº¦
		vector<vector<int>> dp(n1 + 1, vector<int>(n2 + 1, 0));
		// dp[...][0]=dp[0][...]=0
		for (int i = 1; i <= n1; ++i) {
			for (int j = 1; j <= n2; ++j) {
				if (text1[i-1] == text2[j-1]) { // ç¬¬iä¸ªå­—ç¬¦åŒ¹é…æˆåŠŸï¼ˆ0ç´¢å¼•å¯¹åº”ç¬¬1ä¸ªå­—ç¬¦ï¼‰
					dp[i][j] = 1 + dp[i - 1][j - 1];
				}
				else { // åŒ¹é…å¤±è´¥ï¼Œå°±è¿˜æ˜¯åŸæ¥çš„é•¿åº¦
					dp[i][j] = max(dp[i - 1][j], dp[i][j - 1]); // å»æ‰dp[i-1][j-1]æ˜¯å› ä¸ºæ±‚æœ€å¤§å€¼ï¼Œè€Œä»–è‚¯å®šå°äºmax()å†…çš„ä¸¤ä¸ª
				}
			}
		}
		return dp[n1][n2];
	}
};

ä½œè€…ï¼šshou-hu-w9
é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/longest-common-subsequence/solution/1143-zui-chang-gong-gong-zi-xu-lie-by-sh-ftua/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```



**361ã€1230è¿™ä¸¤ä¸ªæ˜¯ä¼šå‘˜é¢˜**

#### [152. ä¹˜ç§¯æœ€å¤§å­æ•°ç»„](https://leetcode-cn.com/problems/maximum-product-subarray/)

momentaäºŒé¢

```cpp
class Solution {
public:
    /*  åŠ¨æ€è§„åˆ’
        ç›¸æ¯”æœ€å¤§å­—ä¸²é—®é¢˜ï¼Œè¿™é‡Œç”±äºè´Ÿæ•°çš„å­˜åœ¨ï¼Œå¯¼è‡´æœ€å°å€¼å¯èƒ½å˜æˆæœ€å¤§å€¼ï¼Œæœ€å¤§å€¼å˜æˆæœ€å°å€¼
        å› æ­¤éœ€è¦ä¸¤ä¸ªdpæ•°ç»„ï¼Œåˆ†åˆ«è®°å½•--ä»¥ç¬¬iä¸ªå…ƒç´ ç»“å°¾--çš„æœ€å¤§/æœ€å°çš„è¿ç»­å­æ•°ç»„å’Œ
        çŠ¶æ€è½¬ç§»ï¼š
            1. æ­£æ•°ï¼Œé€‰æ‹©å½“å‰å€¼æˆ–è€…ä¹˜ä»¥ä»¥å‰çš„å€¼
            2. è´Ÿæ•°ï¼Œæœ€å¤§å€¼ä¸æœ€å°å€¼ç›¸äº’è€ƒè™‘
    */
    int maxProduct1(vector<int>& nums) {
        vector<int> dp_max(nums.size(), 0);
        vector<int> dp_min(nums.size(), 0);
        dp_max[0] = dp_min[0] = nums[0];
        for(int i = 1; i < nums.size(); i++){
            if(nums[i] >= 0){ // é€‰æœ€å¤§æœ€å°å€¼
                dp_max[i] = max(dp_max[i-1] * nums[i], nums[i]);
                dp_min[i] = min(dp_min[i-1] * nums[i], nums[i]);
            }else{  // äº’ç›¸è€ƒè™‘æœ€å¤§æœ€å°å€¼
                dp_max[i] = max(max(dp_max[i-1] * nums[i], nums[i]), dp_min[i-1] * nums[i]);
                dp_min[i] = min(min(dp_max[i-1] * nums[i], nums[i]), dp_min[i-1] * nums[i]);
            }
        }
        return *max_element(dp_max.begin(), dp_max.end());
    }
    /*  ä¼˜åŒ–
        å¯ä»¥å‘ç°ä¸éœ€è¦åˆ¤æ–­æ•°å­—æ­£è´Ÿï¼Œç»Ÿä¸€ä½¿ç”¨<0æ—¶çš„çŠ¶æ€è½¬ç§»æ–¹ç¨‹å³å¯
        ç”±äºdp[i]åªå’Œdp[i-1]ç›¸å…³ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç©ºé—´å¤æ‚åº¦å˜ä¸ºO(1)
    */
    int maxProduct(vector<int>& nums) {
        int i_max, i_min, res;
        res = i_max = i_min = nums[0];
        for(int i = 1; i < nums.size(); i++){
            int temp_i_max = i_max;
            i_max = max(max(i_max * nums[i], nums[i]), i_min * nums[i]);
            i_min = min(min(temp_i_max * nums[i], nums[i]), i_min * nums[i]);
            res = max(i_max, res);
        }
        return res;
    }
};

ä½œè€…ï¼šshou-hu-w9
é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/maximum-product-subarray/solution/152-cheng-ji-zui-da-zi-shu-zu-by-shou-hu-c7tv/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```

#### [376. æ‘†åŠ¨åºåˆ—](https://leetcode-cn.com/problems/wiggle-subsequence/)

```cpp
class Solution {
public:
    /* å‚è€ƒï¼šhttps://leetcode-cn.com/problems/wiggle-subsequence/solution/tan-xin-si-lu-qing-xi-er-zheng-que-de-ti-jie-by-lg/
    up[i]ï¼šnum[0:i]æœ€åä¸¤ä¸ªå­—ç¬¦ä¸ºä¸Šå‡æƒ…å†µæ—¶ï¼Œå¯¹åº”çš„æœ€é•¿å­åºåˆ—çš„é•¿åº¦
    down[i]ï¼šnum[0:i]æœ€åä¸¤ä¸ªå­—ç¬¦ä¸ºä¸‹é™æƒ…å†µæ—¶ï¼Œå¯¹åº”çš„æœ€é•¿å­åºåˆ—çš„é•¿åº¦
    1ã€num[i] > num[i-1]
        up[i] = down[i-1] + 1
        down[i] = down[i-1]
    2ã€<åŒä¸Š
    3ã€==æ—¶ï¼Œéƒ½ä¸å˜
    */
    int wiggleMaxLength(vector<int>& nums) {
        int lens = nums.size();
        vector<int> up(lens, 1), down(lens, 1);
        for(int i=1; i<lens; i++){
            if(nums[i] > nums[i-1]){
                up[i] = down[i-1] + 1;
                down[i] = down[i-1];
            }
            else if(nums[i] < nums[i-1]){
                down[i] = up[i-1] + 1;
                up[i] = up[i-1];
            }
            else{
                down[i] = down[i-1];
                up[i] = up[i-1];
            }
        }
        return max(down[lens-1], up[lens-1]);
    }
};

ä½œè€…ï¼šshou-hu-w9
é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/wiggle-subsequence/solution/376-bai-dong-xu-lie-by-shou-hu-w9-dmvm/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```

#### [518. é›¶é’±å…‘æ¢ II](https://leetcode-cn.com/problems/coin-change-2/)

æ›´å¤šèƒŒåŒ…é—®é¢˜è¯¦ç»†å¯çœ‹[](G:\åšæœäº‘åŒæ­¥æ–‡ä»¶å¤¹\163é‚®ç®±åˆå¹¶\NoteBook\ç®—æ³•åŸºç¡€\æ€»ç»“\æ•°æ®ç»“æ„ä¸ç®—æ³•\)

```cpp
class Solution {
public:
    /*  å®Œå…¨èƒŒåŒ…é—®é¢˜
    dp[i][j]ï¼šå‰iä¸ªï¼Œç»„æˆjçš„ï¼Œç»„åˆæ•°
        dp[i][j] = 
            dp[i-1][j] + # ä¸é€‰coins[i-1]
            dp[i][j-coins[i-1]] # é€‰coins[i-1]ï¼ˆåªæœ‰è¿™é‡Œå’Œ0-1èƒŒåŒ…ä¸åŒï¼Œè¿™é‡Œæ˜¯iè€Œ0-1èƒŒåŒ…æ˜¯i-1ï¼Œå› ä¸ºå¯é‡å¤æ‰€ä»¥æ˜¯iä¸æ˜¯i-1ï¼‰
    ä¼˜åŒ–ï¼š
        dp[j] = dp[j] + # ç”±äºæ²¡æœ‰ä½¿ç”¨ä¹‹å‰çš„æ•°æ®ï¼Œæ‰€ä»¥è¿™é‡Œæ­£åºå€’åºéƒ½ä¸€æ ·
            dp[j-coins[i]] # ç”±äºè¿™ä¸ªç”¨çš„iï¼Œæ‰€ä»¥è¦æ˜¯æ­£åºï¼Œå’Œ0-1èƒŒåŒ…çš„å€’åºåŸç†ä¸€è‡´
    */
    int change(int amount, vector<int>& coins) {
        vector<vector<int>> dp(coins.size()+1, vector<int>(amount+1, 0));
        dp[0][0] = 1;
        for(int i=1; i<=coins.size(); i++){
            for(int j=0; j<= amount; j++){
                if(j-coins[i-1] >= 0)
                    dp[i][j] = dp[i-1][j] + dp[i][j-coins[i-1]];
                else
                    dp[i][j] = dp[i-1][j];
            }
        }
        return dp[coins.size()][amount];
    }
};
```

#### [377. ç»„åˆæ€»å’Œ â…£](https://leetcode-cn.com/problems/combination-sum-iv/)

```cpp
using ULL =  unsigned long long;
class Solution {
public:
    /*
    ä¸å®Œå…¨èƒŒåŒ…ä¸åŒçš„æ˜¯è¿™é‡Œçš„ç»„åˆæœ‰*é¡ºåº*
    dp[i][j]ï¼šé•¿åº¦ä¸ºiçš„æ•°ç»„ï¼Œä½•ä¸ºtargetçš„ï¼Œç§ç±»æ•°ï¼ˆè¿™é‡ŒiæŒ‡é•¿åº¦ï¼Œè€Œä¸æ˜¯æ•°ç»„çš„å‰iä¸ªæ•°ï¼‰
    æ ¹æ®ç¬¬iä¸ªæ•°çš„ç§ç±»ä¸åŒï¼Œå†™å‡ºçŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š
        dp[i][j] += dp[i-1][j-x] xä¸ºæ•°ç»„ä¸­çš„æ•°
    æœ€ç»ˆç»“æœæ˜¯æ‰€æœ‰çš„å’Œä¸ºjçš„ç§ç±»å’Œï¼Œå³dp[i][target]
    */
    int combinationSum4(vector<int>& nums, int target) {
        int len = target; // å› ä¸ºé¢˜ç›®ç»™å®šçš„æ¡ä»¶è¯´æ˜ç»„åˆæœ€é•¿ä¸ºtarget
        vector<vector<ULL>> dp(len + 1,vector<ULL>(target + 1,0));
        dp[0][0] = 1;
        int res = 0;
        for(int i=1; i<=len; i++){
            for(int j=0; j<=target; j++){
                for(auto x : nums){
                    if(j-x >= 0)
                        dp[i][j] += dp[i-1][j-x];
                }
            }
            res += dp[i][target];
        }
        return res;
    }
};

class Solution {
public:
    /*  dp[i][j]: å‰iä¸ªç‰©å“ï¼Œç»„æˆjçš„æ€»ç»„åˆæ•°
        dp[i][j] = dp[i-1][j] + dp[i][j-num[j]]
        ç”±äºæ˜¯å®Œå…¨èƒŒåŒ…é—®é¢˜ï¼šæ‰€ä»¥å¤–å¾ªç¯ä¸ºèƒŒåŒ…è¿­ä»£ï¼Œå†…å¾ªç¯ä¸ºç‰©å“è¿­ä»£ï¼Œåªæœ‰è¿™æ ·æ‰èƒ½ä¿è¯ç‰©å“å¯ä»¥æŒ‰ä¸€å®šé¡ºåºæ”¾å…¥èƒŒåŒ…
æ‰€ä»¥ç¨‹åºé‡Œçš„iå’Œjä¸ä¸Šé¢çš„å®Œå…¨ç›¸å
    */
    int combinationSum4(vector<int>& nums, int target) {
        vector<int> dp(target+1, 0);
        dp[0] = 1;
        for(int i=1; i<=target; ++i){
            for(int j=0; j<nums.size(); ++j){
                if(i-nums[j] >= 0 && dp[i - nums[j]] < INT_MAX -dp[i] ) // åé¢è¿™ä¸ªæ¡ä»¶æ˜¯ä¸ºäº†é˜²æ­¢æ•°ç»„è¶Šç•Œï¼Œä¸ç”¨ç®¡
                    dp[i] += dp[i-nums[j]];
            }
        }
        return dp[target];
    }
};
```

#### [1186. åˆ é™¤ä¸€æ¬¡å¾—åˆ°å­æ•°ç»„æœ€å¤§å’Œ](https://leetcode-cn.com/problems/maximum-subarray-sum-with-one-deletion/)

```cpp
class Solution {
public:
    int maximumSum(vector<int>& arr) {
        /* çŠ¶æ€
            f[i]ï¼šä¸åˆ é™¤ä»»ä½•å…ƒç´ æ—¶çš„è¿ç»­å­åºåˆ—æœ€å¤§å€¼, f[i] = max(f[i-1]+arr[i], arr[i])
            g[i]ï¼šåˆ é™¤å…¶ä¸­ä¸€ä¸ªå…ƒç´ æ—¶çš„å­åºåˆ—æœ€å¤§å€¼
                1. åˆ é™¤i,è¯´æ˜[0,i-1]éƒ½æ²¡æœ‰åˆ é™¤              g[i] = f[i-1]
                2. åˆ é™¤çš„å‰é¢çš„ï¼Œè¯´æ˜æ­¤æ—¶è¯¥ä½ç½®å…ƒç´ åº”è¯¥æ·»åŠ ä¸Š   g[i] = g[i-1]+arr[i]
        */
        vector<int> f(arr.size(), 0);
        vector<int> g(arr.size(), 0);
        // å­æ•°ç»„ä¸èƒ½ä¸ºç©ºï¼Œæ‰€ä»¥åˆå§‹åŒ–ä¸ºç¬¬ä¸€ä¸ªæ•°
        f[0] = arr[0];
        // å¯¹äºg[1] = max(g[0]+arr[1], f[0]), å› æ­¤g[1]å¿…é¡»é€‰æ‹©f[0]æ‰è¡Œï¼Œæ‰€ä»¥g[0]å¿…é¡»è¶³å¤Ÿå°
        g[0] = -1e4;
        int ret=arr[0]; // è®°å½•æœ€å¤§å€¼
        for(int i=1; i<arr.size(); i++){
            f[i] = max(f[i-1]+arr[i], arr[i]);
            g[i] = max(f[i-1], g[i-1]+arr[i]);
            ret = max(ret, max(f[i], g[i])); // æœ€å¤§å€¼å¿…å®šæ˜¯åˆ æˆ–ä¸åˆ ä¸­çš„ä¸€ä¸ª
        }
        return ret;
    }
};
```

#### çŸ©é˜µè¿ä¹˜æœ€å°ä¹˜æ³•æ¬¡æ•°

å°çº¢ä¹¦é¢è¯•é¢˜

```cpp

/*
é—®é¢˜ï¼šæ±‚A0*...*An-1æ‰€éœ€è¦çš„æœ€å°ä¹˜æ³•æ¬¡æ•°
    m[i][0,1]ï¼šAiçš„è¡Œå’Œåˆ—æ•°
è§£ç­”ï¼š
    dp[i][j]ï¼šAiåˆ°Ajä¹‹é—´æ‰€éœ€è¦çš„æœ€å°ä¹˜æ³•æ¬¡æ•°
    dp[i][j] = min(dp[i][k] + dp[k+1][j] + m[i][0]*m[k+1][0]*m[j][1], kâˆˆ[i,j) )
    è¿™é‡Œiâˆˆ[0,n)ï¼Œjâˆˆ[i,n)ï¼Œkâˆˆ[i,j)
    æ­¤æ—¶ï¼Œå¦‚æœä½¿ç”¨ä¸Šé¢çš„è¾¹ç•Œæ¡ä»¶æ˜¯ä¸å¯¹çš„ï¼Œå› ä¸ºdp[k+1][j]æ˜¯æ²¡æœ‰è®¡ç®—è¿‡çš„ï¼Œå› æ­¤ä¸èƒ½è¿›è¡ŒçŠ¶æ€è½¬ç§»
    å› æ­¤ï¼Œå¢åŠ ä¸€ä¸ªéå†æ¡ä»¶ï¼Œlâˆˆ[2,n]ï¼šåŒºé—´é•¿åº¦ä»2åˆ°nè¿›è¡Œéå†ï¼Œç¡®ä¿çŠ¶æ€è½¬ç§»æ—¶æ‰€æœ‰å˜é‡éƒ½å·²ç»è®¡ç®—å¥½äº†
    æ­¤æ—¶ï¼Œlâˆˆ[2,n]ï¼Œ0 <= i <= j < nï¼Œå…¶ä¸­j=i+l-1ï¼Œkâˆˆ[i,j)
*/
int matrix_mul(vector<vector<int>>& matrix) {
    int n = matrix.size();
    vector<vector<int>> dp(n, vector<int>(n, INT_MAX/2));
    for(int i=0; i<n; i++) dp[i][i] = 0;
    for(int l=2; l<=n; l++){
        for(int i=0; i+l-1<n; i++){
            int j=i+l-1;
            for(int k=i; k<j; k++){
                dp[i][j] = min(dp[i][j], dp[i][k] + dp[k+1][j] + matrix[i][0]*matrix[k][1]*matrix[j][1]);
            }
        }
    }
    return dp[0][n-1];
}
```



## è´ªå¿ƒç®—æ³•ï¼šLeetCode55ã€435ã€621ã€452

#### [135. åˆ†å‘ç³–æœ](https://leetcode-cn.com/problems/candy/)

```cpp
class Solution {
public:
    /*  è´ªå¿ƒç®—æ³•
            ä»å·¦åˆ°å³ï¼šæ»¡è¶³å³ä¾§å­©å­é«˜äºå·¦ä¾§å­©å­
            ä»å³åˆ°å·¦ï¼šæ»¡è¶³å·¦ä¾§å­©å­é«˜äºå³ä¾§å­©å­
    */
    int candy(vector<int>& ratings) {
        vector<int> nums(ratings.size(), 1);
        // left --> right
        for(int i=1; i<ratings.size(); i++){
            if(ratings[i] > ratings[i-1]){
                nums[i] = max(nums[i], nums[i-1]+1);
            }
        }
        // right --> left
        for(int i=ratings.size()-2; i>=0; i--){
            if(ratings[i] > ratings[i+1]){
                nums[i] = max(nums[i], nums[i+1]+1);
            }
        }
        return accumulate(nums.begin(), nums.end(),0);
    }
};
```



## å­—å…¸æ ‘ï¼ˆå·²æ”¾å¼ƒï¼‰

**å­—å…¸æ•°èŠ‚ç‚¹ç»“æ„ï¼š**ï¼ˆè‡ªèº«ä»£è¡¨ä¸€ä¸ªå­—æ¯ï¼ŒåŒæ—¶æŒ‡å‘ä»–åä¸€ä¸ªå­—æ¯ï¼‰
å­—å¹•æ˜ å°„è¡¨ï¼š26ä¸ªæŒ‡é’ˆï¼Œåˆ†åˆ«æŒ‡å‘26ä¸ªå­—æ¯ï¼ˆé€šè¿‡æŒ‡é’ˆçš„ç´¢å¼•å°±å¯ä»¥ç¡®å®šä¸‹ä¸€ä¸ªå•è¯æ˜¯å“ªä¸ªï¼‰
boolâ€”â€”å¯ä»¥ä¸éœ€è¦ï¼šè®°å½•è¯¥ç»“ç‚¹æ˜¯å¦æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²çš„ç»“æŸ
æ„é€ å‡½æ•°ï¼šå°†nextæŒ‡å‘nullptrï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚

**å­—å…¸æ ‘ï¼š**
å°±æ˜¯ä»¥ä¸Šè¿°ç»“æ„ç”Ÿæˆçš„ç±»ï¼ŒåŒ…å«äº†**ç»“ç‚¹æ’å…¥**ç­‰æ–¹æ³•ã€‚
ç»“ç‚¹æ’å…¥ï¼šéå†æ’å…¥å­—ç¬¦ä¸²çš„æ¯ä¸€ä¸ªå­—ç¬¦ï¼Œç„¶åé€’å½’çš„å¾€ä¸‹åˆ›å»ºåç»­çš„ç»“ç‚¹ã€‚
å‰ç¼€æŸ¥æ‰¾â€”â€”å¯èƒ½ä¸éœ€è¦ï¼šéå†å¾…æŸ¥å­—ç¬¦ä¸²çš„æ¯ä¸€ä¸ªå­—ç¬¦ï¼Œé€’å½’çš„æœç´¢ï¼Œåˆ¤æ–­æ˜¯å¦å­˜åœ¨å³å¯ã€‚

**ä½¿ç”¨åœºæ™¯ï¼š**
éœ€è¦å¤§é‡åœ°åˆ¤æ–­æŸä¸ªå­—ç¬¦ä¸²**æ˜¯å¦æ˜¯ç»™å®šå•è¯åˆ—è¡¨ä¸­çš„å‰ç¼€/åç¼€**ã€‚
æŠŠå•è¯å€’ç€æ’å…¥ï¼Œå°±å¯ä»¥æœåç¼€äº†ã€‚

#### [208. å®ç° Trie (å‰ç¼€æ ‘)](https://leetcode-cn.com/problems/implement-trie-prefix-tree/)â€”â€”å‰ç¼€æ ‘æ¨¡æ¿

æœ€åŸºç¡€çš„å‰ç¼€æ ‘å®ç°æ–¹æ³•ï¼šè®°ä½è¿™ä¸ªå®ç°ï¼Œåç»­éƒ½åœ¨è¿™ä¸ªåŸºç¡€ä¸Šè¿›è¡Œä¿®æ”¹ã€‚
ï¼ˆè®°ä½è¿™ä¸ªæ¨¡æ¿ï¼ŒåŒ…æ‹¬insertå’Œsearchï¼‰

```cpp
struct TrieNode
{
    TrieNode *next[26]; //å­—æ¯æ˜ å°„è¡¨
    bool isEnd;         //è¯¥ç»“ç‚¹æ˜¯å¦æ˜¯ä¸€ä¸ªä¸²çš„ç»“æŸ

    // åˆå§‹åŒ–ç»“ç‚¹ä¿¡æ¯
    TrieNode()
    {
        isEnd = false;
        // å­èŠ‚ç‚¹åˆå§‹åŒ–ä¸ºç©ºæŒ‡é’ˆ
        for (int i = 0; i < 26; i++)
        {
            next[i] = nullptr;
        }
    }
};
class Trie
{
private:
    TrieNode *root = new TrieNode(); // è®°å½•å½“å‰ç»“ç‚¹
    //ï¼ˆå¿…é¡»ä½¿ç”¨new TrieNodeæ„å»ºï¼Œåªæœ‰è¿™æ ·æ‰èƒ½ä½¿ç”¨è‡ªå®šä¹‰çš„æ„é€ å‡½æ•°åˆå§‹åŒ–ï¼Œå¦åˆ™ä¼šä½¿ç”¨é»˜è®¤çš„æ‹·è´æ„é€ ï¼Œä»è€Œé€ æˆnextå˜é‡æ— æ³•æŒ‡å‘nullptrï¼Œäº§ç”Ÿé”™è¯¯ï¼‰
public:
    /** Initialize your data structure here. */
    Trie() {}

    /** æ’å…¥å•è¯ */
    void insert(string word)
    {
        TrieNode *node = root;
        // é€çº§å‘ä¸‹åˆ›å»ºé“¾è¡¨ï¼Œä¸€ä¸ªå­—æ¯ä»£è¡¨ä¸€ä¸ªç»“ç‚¹
        for (char c : word)
        {
            if (node->next[c - 'a'] == nullptr)
            {
                node->next[c - 'a'] = new TrieNode();
            }
            node = node->next[c - 'a'];
        }
        // æœ€åä¸€ä¸ªç»“ç‚¹ç½®ä¸ºtrueï¼Œè¡¨ç¤ºè¯¥ä¸²ç»“æŸ
        node->isEnd = true;
    }

    /** æŸ¥æ‰¾æ˜¯å¦å­˜åœ¨è¯¥å•è¯ */
    bool search(string word)
    {
        TrieNode *node = root;
        // å‘ä¸‹æŸ¥æ‰¾ï¼Œå¦‚æœæŸä¸ªå­—ç¬¦ä¸å­˜åœ¨å°±è¿”å›false
        for (char c : word)
        {
            node = node->next[c - 'a'];
            if (node == nullptr)
            {
                return false;
            }
        }
        // è¿”å›æœ€åä¸€ä¸ªå­—ç¬¦çš„çŠ¶æ€ï¼Œæ˜¯å¦æ˜¯è¯¥ä¸²ç»“å°¾
        return node->isEnd;
    }

    /** Returns if there is any word in the trie that starts with the given prefix. */
    bool startsWith(string prefix)
    {
        // åŒsearch
        TrieNode *node = root;
        for (char c : prefix)
        {
            node = node->next[c - 'a'];
            if (node == nullptr)
            {
                return false;
            }
        }
        return true;
    }
};

/**
 * Your Trie object will be instantiated and called as such:
 * Trie* obj = new Trie();
 * obj->insert(word);
 * bool param_2 = obj->search(word);
 * bool param_3 = obj->startsWith(prefix);
 */

ä½œè€…ï¼šshou-hu-w9
é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/implement-trie-prefix-tree/solution/208-shi-xian-trie-qian-zhui-shu-by-shou-i9xxe/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```

#### [820. å•è¯çš„å‹ç¼©ç¼–ç ](https://leetcode-cn.com/problems/short-encoding-of-words/)

å°†é—®é¢˜è½¬æ¢ä¸ºæ±‚åç¼€æ˜¯å¦ç›¸åŒï¼Œä»è€Œä½¿ç”¨å­—å…¸æ ‘

```cpp
/** 
 * å°†é—®é¢˜è½¬æ¢ä¸ºæŸ¥çœ‹æ˜¯å¦å­˜åœ¨åç¼€ç›¸åŒçš„å­—ç¬¦ä¸²ï¼Œä¸”åªå–å…¶ä¸­æœ€é•¿çš„å­—ç¬¦ä¸²è®¡ç®—æœ€ç»ˆçš„æœ€å°åŠ©è®°å­—ç¬¦ä¸² s çš„é•¿åº¦ 
 * å› æ­¤ï¼Œå¯ä»¥ä½¿ç”¨å­—å…¸æ ‘æ¥æŸ¥æ‰¾ç›¸åŒåç¼€çš„å­—ç¬¦ä¸²ï¼ˆæ’å…¥çš„å•è¯å˜ä¸ºé€†åºå³å¯ï¼‰
*/
struct TrieNode
{
    TrieNode *next[26];
    TrieNode()
    {
        for (int i = 0; i < 26; i++)
        {
            next[i] = nullptr;
        }
    }
};
class Trie
{
private:
    TrieNode *root = new TrieNode();

public:
    int res = 0; // æ ¹æ®è¯¥é¢˜æ‰€è®¾ç½®çš„å˜é‡ï¼Œç”¨äºè®°å½•è¿”å›çš„å€¼
    void insert(string word)
    {
        TrieNode *node = root;
        bool isNew = false;
        // å€’ç€æ’å…¥å•è¯
        for (int i = word.size() - 1; i >= 0; i--)
        {
            char cur_c = word[i];
            if (node->next[cur_c - 'a'] == nullptr)
            {
                // æ–°å»ºäº†ç»“ç‚¹ï¼Œè¯´æ˜æ˜¯æœ‰æ–°å•è¯å­˜åœ¨
                isNew = true;
                node->next[cur_c - 'a'] = new TrieNode();
            }
            node = node->next[cur_c - 'a'];
        }
        if (isNew)
        {
            res += word.size() + 1;
        }
    }
};
class Solution
{
public:
    int minimumLengthEncoding(vector<string> &words)
    {
        // å°†å­—ç¬¦ä¸²ä»å¤§åˆ°å°æ’åºï¼Œç¡®ä¿å…ˆå‹å…¥é•¿çš„å­—ç¬¦ä¸²ï¼Œå†å‹å…¥å°çš„å­—ç¬¦ä¸²ï¼ˆåªè®°å½•é•¿å­—ç¬¦ä¸²çš„é•¿åº¦å³å¯ï¼‰
        // sort(words.begin(), words.end(), [](string &x, string &y) -> bool
        //      { return x.size() > y.size(); });
        sort(words.begin(), words.end(), [](string &x, string &y) -> bool
             { return x.size() > y.size(); });
        Trie *trie = new Trie();
        for (auto word : words)
        {
            trie->insert(word);
        }
        return trie->res;
    }
};

ä½œè€…ï¼šshou-hu-w9
é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/short-encoding-of-words/solution/820-dan-ci-de-ya-suo-bian-ma-by-shou-hu-tyemb/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```

#### [648. å•è¯æ›¿æ¢](https://leetcode-cn.com/problems/replace-words/)

```cpp
struct TrieNode
{
    TrieNode *next[26];
    bool isEnd = false;
    TrieNode()
    {
        for (int i = 0; i < 26; i++)
        {
            next[i] = nullptr;
        }
    }
};
class Trie
{
private:
    TrieNode *root = new TrieNode();

public:
    void insert(string word)
    {
        TrieNode *node = root;
        for (int i = 0; i < word.size(); i++)
        {
            char cur_c = word[i];
            if (node->next[cur_c - 'a'] == nullptr)
            {
                node->next[cur_c - 'a'] = new TrieNode();
            }
            node = node->next[cur_c - 'a'];
        }
        // æœ€åä¸€ä¸ªç»“ç‚¹ç½®ä¸ºtrueï¼Œè¡¨ç¤ºè¯¥ä¸²ç»“æŸ
        node->isEnd = true;
    }
    /**
     * ä»å­—å…¸æ ‘ä¸­æŸ¥æ‰¾wordçš„æœ€çŸ­ç›¸åŒå‰ç¼€
    */
    string search(string word)
    {
        TrieNode *node = root;
        string res;          // å¾…è¿”å›çš„å‰ç¼€
        bool b_find = false; // æ˜¯å¦åœ¨å­—å…¸æ ‘ä¸­æ‰¾åˆ°å¯¹åº”çš„å­—ç¬¦ä¸²
        for (auto c : word)
        {
            if (node->next[c - 'a'] == nullptr)
            { // ä¸å­˜åœ¨å‰ç¼€æ ‘ï¼Œç›´æ¥è·³å‡º
                break;
            }
            else
            { // å­˜åœ¨å‰ç¼€æ ‘ï¼Œå°±è®°å½•å½“å‰ç»“ç‚¹ï¼Œå¹¶é€’å½’ä¸‹ä¸€ä¸ªå­—ç¬¦
                node = node->next[c - 'a'];
                res += c;
                if (node->isEnd)
                { // å¦‚æœå·²ç»åˆ°äº†å‰ç¼€ä¸€ä¸ªå­—ç¬¦ï¼Œå°±ç›´æ¥é€€å‡ºï¼Œä¸”æ ‡è®°ä¸ºå·²ç»æ‰¾åˆ°å¯¹äºçš„å‰ç¼€
                    b_find = true;
                    break;
                }
            }
        }
        if (b_find)
            return res;
        else
            return "";
    }
};
class Solution
{
public:
    string replaceWords(vector<string> &dictionary, string sentence)
    {
        // 1 æ„å»ºå­—å…¸æ ‘
        Trie trie;
        for (auto d : dictionary)
        {
            trie.insert(d);
        }
        string res;
        // 2 åˆ†å‰²å­—ç¬¦ä¸²
        vector<string> v_words = split(sentence, " ");
        // 3 æ›¿æ¢æ¯ä¸ªå­—ç¬¦
        for (auto word : v_words)
        {
            string replace_word = trie.search(word);
            if (replace_word.size() != 0)
                res += replace_word + " ";
            else
                res += word + " ";
        }
        res = res.substr(0, res.size() - 1); // å»æ‰æœ€åçš„ç©ºæ ¼
        return res;
    }

private:
    vector<string> split(string &str, const string &pattern)
    {
        vector<string> res;
        int pos;
        str += pattern;
        int sz = str.size();
        for (int i = 0; i < sz; i++)
        { // iæŒ‡å‘æŸ¥æ‰¾èµ·å§‹ä½ç½®
            pos = str.find(pattern, i);
            string s = str.substr(i, pos - i);
            res.push_back(s);
            i = pos + pattern.size() - 1; // æ›´æ–°iæŒ‡å‘ä¸‹ä¸€ä¸ªä½ç½®
        }
        return res;
    }
};

ä½œè€…ï¼šshou-hu-w9
é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/replace-words/solution/648-dan-ci-ti-huan-by-shou-hu-w9-4x4d/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```

## æ ‘

#### [236. äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ](https://leetcode-cn.com/problems/lowest-common-ancestor-of-a-binary-tree/)***

åç»­éå†

```cpp
/**
 * Definition for a binary tree node.
 * struct TreeNode {
 *     int val;
 *     TreeNode *left;
 *     TreeNode *right;
 *     TreeNode(int x) : val(x), left(NULL), right(NULL) {}
 * };
 */
 /*     æŸ¥çœ‹å¾…æŸ¥ä¸¤ç»“ç‚¹-æ˜¯å¦åœ¨å½“å‰ç»“ç‚¹ä¸¤ä¾§-ï¼Œå¦‚æœåœ¨å°±è¿”å›è¯¥ç»“ç‚¹ï¼Œä¸åœ¨å°±è¿”å›ç©º
        é‚£ä¹ˆå¦‚æœä¸¤èŠ‚ç‚¹åœ¨è¯¥ç»“ç‚¹ä¸¤ä¾§ï¼Œé‚£ä¹ˆè¯¥ç»“ç‚¹å°±æ˜¯å…¬å…±ç¥–å…ˆ
        å¦‚æœåªæœ‰ä¸€ä¾§æœ‰ï¼Œå¦ä¸€ä¾§æ²¡æœ‰ï¼Œé‚£ä¹ˆå°±å›æº¯æœ‰çš„ä¸€ä¾§è¿”å›ç»“ç‚¹
 */
class Solution {
public:
    TreeNode* lowestCommonAncestor(TreeNode* root, TreeNode* p, TreeNode* q) {
        return dfs(root, p, q);
    }
    TreeNode* dfs(TreeNode* root, TreeNode* p, TreeNode* q) {
        if(root == nullptr || root == p || root == q){
            return root;
        }
        // å‘ä¸¤ä¾§æŸ¥æ‰¾
        TreeNode* left = dfs(root->left, p, q);
        TreeNode* right = dfs(root->right, p, q);
        if(left == nullptr && right == nullptr) return nullptr;
        if(left != nullptr && right == nullptr) return left;
        if(left == nullptr && right != nullptr) return right;
        return root;
    }
};

ä½œè€…ï¼šshou-hu-w9
é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/lowest-common-ancestor-of-a-binary-tree/solution/236-er-cha-shu-de-zui-jin-gong-gong-zu-x-oco8/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```



#### [å‰‘æŒ‡ Offer 36. äºŒå‰æœç´¢æ ‘ä¸åŒå‘é“¾è¡¨](https://leetcode-cn.com/problems/er-cha-sou-suo-shu-yu-shuang-xiang-lian-biao-lcof/)***

ç™¾åº¦ä¸€é¢

äºŒå‰æœç´¢æ ‘çš„**ä¸­åºéå†**å°±æ˜¯ä»å°åˆ°å¤§æ’åºã€‚å› æ­¤å°±æ˜¯å¯¹äºŒå‰æœç´¢æ ‘è¿›è¡Œä¸­åºéå†ï¼ŒåŒæ—¶åˆ©ç”¨å½“å‰ç»“ç‚¹åˆ›å»ºé“¾è¡¨å³å¯ã€‚
æ³¨æ„å¤´ç»“ç‚¹çš„ç¡®å®šã€‚

```cpp
/*
// Definition for a Node.
class Node {
public:
    int val;
    Node* left;
    Node* right;

    Node() {}

    Node(int _val) {
        val = _val;
        left = NULL;
        right = NULL;
    }

    Node(int _val, Node* _left, Node* _right) {
        val = _val;
        left = _left;
        right = _right;
    }
};
*/
class Solution {
public:
    Node* treeToDoublyList(Node* root) {
        if(root == nullptr)  return nullptr;
        // æ„å»ºåŒå‘é“¾è¡¨ï¼ŒåŒæ—¶ç¡®å®šå¤´ç»“ç‚¹å’Œå°¾ç»“ç‚¹
        recur(root);
        // å¤´å°¾ç»“ç‚¹ç›¸è¿
        head->left = pre;
        pre->right = head;
        return head;
    }
private:
    Node* head = nullptr; // è®°å½•å¤´ç»“ç‚¹
    Node* pre = nullptr; // è®°å½•åŒå‘é“¾è¡¨ä¸­ä½äºcurå·¦ä¾§çš„ç‚¹ï¼Œä¹Ÿå°±æ˜¯ä¸Šä¸€æ¬¡è¿­ä»£ä¸­çš„curï¼Œå¦‚æœpre=nullptrï¼Œè¯´æ˜curå·¦ä¾§æ²¡æœ‰å€¼ï¼Œä¹Ÿå°±æ˜¯è¯´æ˜æ­¤æ—¶çš„curä¸ºå¤´ç»“ç‚¹ã€‚
    /** ä¸­åºéå†ï¼šæ„å»ºåŒå‘é“¾è¡¨
    *   è¾“å…¥ï¼šå½“å‰ç»“ç‚¹ï¼Œå°†å½“å‰ç»“ç‚¹ä¸ä¸Šä¸ªç»“ç‚¹è¿›è¡ŒåŒå‘é“¾æ¥
    */
    void recur(Node* cur){
        if(cur == nullptr) return;
        recur(cur->left);

        // pre=nullptrï¼Œè¯´æ˜curå·¦ä¾§æ²¡æœ‰å€¼ï¼Œä¹Ÿå°±æ˜¯è¯´æ˜æ­¤æ—¶çš„curä¸ºå¤´ç»“ç‚¹
        if(pre == nullptr)
            head = cur;
        // ä¸ç›¸ç­‰,å°±å°†preå’Œcurè¿›è¡ŒåŒå‘é“¾æ¥
        else
            pre->right = cur;
        cur->left = pre; // åŒå‘é“¾æ¥
        pre = cur; // æ›´æ–°pre

        recur(cur->right); // é€’å½’ç»“æŸåï¼ŒpreæŒ‡å‘æœ€åä¸€ä¸ªç»“ç‚¹
    }
};

ä½œè€…ï¼šshou-hu-w9
é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/er-cha-sou-suo-shu-yu-shuang-xiang-lian-biao-lcof/solution/jian-zhi-offer-36-er-cha-sou-suo-shu-yu-e08wj/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```

#### [114. äºŒå‰æ ‘å±•å¼€ä¸ºé“¾è¡¨](https://leetcode-cn.com/problems/flatten-binary-tree-to-linked-list/)

```cpp
/**
 * Definition for a binary tree node.
 * struct TreeNode {
 *     int val;
 *     TreeNode *left;
 *     TreeNode *right;
 *     TreeNode() : val(0), left(nullptr), right(nullptr) {}
 *     TreeNode(int x) : val(x), left(nullptr), right(nullptr) {}
 *     TreeNode(int x, TreeNode *left, TreeNode *right) : val(x), left(left), right(right) {}
 * };
 */
class Solution {
public:
    /*
    å¸¸è§„æ€è·¯ï¼šå…ˆåºéå†ï¼Œä½¿ç”¨preè®°å½•é“¾è¡¨å‰ä¸€ä¸ªç»“ç‚¹ï¼Œæ¯æ¬¡é€’å½’é“¾æ¥åˆ°å½“å‰ç»“ç‚¹
    å­˜åœ¨çš„é—®é¢˜ï¼špre->right = curï¼Œè¿™å°±å¯¼è‡´preåŸæ¥çš„å³ç»“ç‚¹è¢«è¦†ç›–äº†ï¼Œè€Œè¯¥å³ç»“ç‚¹è¿˜æ²¡è¢«éå†è¿‡ï¼Œæ‰€ä»¥ç»“æœå‡ºé”™
    è§£å†³æ–¹æ³•ï¼šå€’åºéå†ï¼Œå³å·¦ä¸­ï¼Œç¡®ä¿æ¯æ¬¡æ›´æ–°æ—¶ï¼Œå­èŠ‚ç‚¹å·²ç»éå†è¿‡ï¼Œè¦†ç›–ä¹Ÿæ— æ‰€è°“ã€‚
    */
    TreeNode* pre = nullptr;
    void flatten(TreeNode* root) {
        dfs(root);
    }
    void dfs(TreeNode* node){
        if(node == nullptr) return;
        dfs(node->right);
        dfs(node->left);
        node->right = pre;
        node->left = nullptr;
        pre = node;
    }
};

ä½œè€…ï¼šshou-hu-w9
é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/flatten-binary-tree-to-linked-list/solution/114-er-cha-shu-zhan-kai-wei-lian-biao-by-deuz/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```



#### [222. å®Œå…¨äºŒå‰æ ‘çš„èŠ‚ç‚¹ä¸ªæ•°](https://leetcode-cn.com/problems/count-complete-tree-nodes/)***

å®Œå…¨äºŒå‰æ ‘çš„æ€§è´¨+æ»¡äºŒå‰æ ‘çš„ç»“ç‚¹è®¡ç®—
æ—¶é—´å¤æ‚åº¦$O(logn*logn)$ï¼Œç©ºé—´å¤æ‚åº¦$O(1)$

```cpp
/**
 * Definition for a binary tree node.
 * struct TreeNode {
 *     int val;
 *     TreeNode *left;
 *     TreeNode *right;
 *     TreeNode() : val(0), left(nullptr), right(nullptr) {}
 *     TreeNode(int x) : val(x), left(nullptr), right(nullptr) {}
 *     TreeNode(int x, TreeNode *left, TreeNode *right) : val(x), left(left), right(right) {}
 * };
 */
class Solution {
public:
    /*  å®Œå…¨äºŒå‰æ ‘ï¼šå€’æ•°ç¬¬äºŒå±‚æ»¡ï¼Œå€’æ•°ç¬¬ä¸€å±‚ä¸æ»¡
        ä¸¤ç§æƒ…å†µï¼š
            å·¦å­æ ‘æ·±åº¦==å³å­æ ‘æ·±åº¦ï¼šå·¦å­æ ‘ä¸ºæ»¡äºŒå‰æ ‘
            å·¦å­æ ‘æ·±åº¦ > å³å­æ ‘æ·±åº¦ï¼šå³å­æ ‘ä¸ºæ»¡äºŒå‰æ ‘
        å®Œå…¨äºŒå‰æ ‘çš„ç»“ç‚¹æ•°=2^k-1
        æ³¨æ„ï¼šæ€»ç»“ç‚¹æ•°=å·¦å­æ ‘ç»“ç‚¹æ•°+å³å­æ ‘ç»“ç‚¹æ•°+1ï¼ˆ1æ˜¯å½“å‰çš„æ ¹èŠ‚ç‚¹ï¼‰
    */
    int countNodes(TreeNode* root) {
        if(root == nullptr) return 0;
        int left = depth(root->left);
        int right = depth(root->right);
        if(left == right){
            int left_nums = pow(2, left) - 1;
            int right_nums = countNodes(root->right);
            return left_nums + right_nums + 1;
        }
        else{
            int left_nums = countNodes(root->left);
            int right_nums = pow(2, right) - 1;
            return left_nums + right_nums + 1;
        }
    }
    int depth(TreeNode* root){
        if(root == nullptr) return 0;
        int left = depth(root->left);
        int right = depth(root->right);
        return max(left, right) + 1;
    }
};

ä½œè€…ï¼šshou-hu-w9
é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/count-complete-tree-nodes/solution/222-wan-quan-er-cha-shu-de-jie-dian-ge-s-5cto/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```

#### [124. äºŒå‰æ ‘ä¸­çš„æœ€å¤§è·¯å¾„å’Œ](https://leetcode-cn.com/problems/binary-tree-maximum-path-sum/)

Bigoä¸€é¢é¢˜

é¢˜è§£çœ‹è¿™ä¸ª[ã€Œæ‰‹ç”»å›¾è§£ã€åˆ«çº ç»“é€’å½’çš„ç»†èŠ‚ | 124.äºŒå‰æ ‘ä¸­çš„æœ€å¤§è·¯å¾„å’Œ](https://leetcode-cn.com/problems/binary-tree-maximum-path-sum/solution/shou-hui-tu-jie-hen-you-ya-de-yi-dao-dfsti-by-hyj8/)

```cpp
/**
 * Definition for a binary tree node.
 * struct TreeNode {
 *     int val;
 *     TreeNode *left;
 *     TreeNode *right;
 *     TreeNode() : val(0), left(nullptr), right(nullptr) {}
 *     TreeNode(int x) : val(x), left(nullptr), right(nullptr) {}
 *     TreeNode(int x, TreeNode *left, TreeNode *right) : val(x), left(left), right(right) {}
 * };
 */
class Solution {
public:
    /*  å¯¹äºå½“å‰æ ¹èŠ‚ç‚¹ï¼Œè¯¥å­æ ‘çš„æœ€å¤§è·¯å¾„å’Œä¸ºï¼Œå·¦ä¾§èŠ‚ç‚¹çš„æä¾›çš„æœ€å¤§è·¯å¾„+å³ä¾§èŠ‚ç‚¹æä¾›çš„æœ€å¤§è·¯å¾„+å½“å‰èŠ‚ç‚¹çš„å€¼
        æ³¨æ„ï¼šå½“å‰èŠ‚ç‚¹æä¾›çš„æœ€å¤§è·¯å¾„æ˜¯ä»¥å½“å‰èŠ‚ç‚¹ä¸ºæ ¹èŠ‚ç‚¹æ—¶æ‰€èƒ½æä¾›çš„æœ€å¤§è·¯å¾„ï¼ˆå³è·¯å¾„ä¸€ç«¯ä¸€å®šæ˜¯è¯¥èŠ‚ç‚¹ï¼‰
        å­é—®é¢˜ï¼š
            è·å¾—å½“å‰èŠ‚ç‚¹æä¾›çš„æœ€å¤§è·¯å¾„ = å·¦å³èŠ‚ç‚¹çš„æœ€å¤§è·¯å¾„ä¸­å¤§çš„é‚£ä¸ª+æœ¬èº«çš„èŠ‚ç‚¹
            ï¼ˆå¦‚æœå¯¹å¤–æä¾›çš„è·¯å¾„å°äº0ï¼Œå°±ç›´æ¥è¿”å›0ï¼Œä¸è®©å…¶åŠ å…¥è·¯å¾„ï¼‰
    */
    int res = INT_MIN;
    int maxPathSum(TreeNode* root) {
        dfs(root);
        return res;
    }
    int dfs(TreeNode* root){
        if(root == nullptr)  return 0;
        int left = dfs(root->left); // å·¦ä¾§èŠ‚ç‚¹æ‰€èƒ½æä¾›çš„æœ€å¤§è·¯å¾„
        int right = dfs(root->right);
        res = max(res, left + right + root->val); // è®¡ç®—å½“å‰å­æ ‘æ‰€èƒ½äº§ç”Ÿçš„æœ€å¤§è·¯å¾„å’Œ

        int ret = max(left, right) + root->val; // è®¡ç®—å½“å‰èŠ‚ç‚¹æ‰€èƒ½æä¾›çš„æœ€å¤§è·¯å¾„
        if(ret > 0) return ret;
        else return 0;
    }
};

ä½œè€…ï¼šshou-hu-w9
é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/binary-tree-maximum-path-sum/solution/124-er-cha-shu-zhong-de-zui-da-lu-jing-h-09yb/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```

#### [98. éªŒè¯äºŒå‰æœç´¢æ ‘](https://leetcode-cn.com/problems/validate-binary-search-tree/)

 BSTçš„**ä¸­åºéå†æ˜¯å‡åºæ’åˆ—**çš„ï¼Œæ‰€ä»¥å¦‚æœå½“å‰ç»“ç‚¹å°äºå‰ä¸€ä¸ªç»“ç‚¹å°±è¯´æ˜ä¸æ˜¯BST

```cpp
/**
 * Definition for a binary tree node.
 * struct TreeNode {
 *     int val;
 *     TreeNode *left;
 *     TreeNode *right;
 *     TreeNode() : val(0), left(nullptr), right(nullptr) {}
 *     TreeNode(int x) : val(x), left(nullptr), right(nullptr) {}
 *     TreeNode(int x, TreeNode *left, TreeNode *right) : val(x), left(left), right(right) {}
 * };
 */
class Solution {
public:
    /*  BSTçš„ä¸­åºéå†æ˜¯å‡åºæ’åˆ—çš„ï¼Œæ‰€ä»¥å¦‚æœå½“å‰ç»“ç‚¹å°äºå‰ä¸€ä¸ªç»“ç‚¹å°±è¯´æ˜ä¸æ˜¯BST
    */
    long long  pre = LLONG_MIN;
    bool isValidBST(TreeNode* root) {
        if(root == nullptr) return true;
        if(!isValidBST(root->left)) return false;

        if(root->val <= pre) return false;
        pre = root->val;

        if(!isValidBST(root->right)) return false;
        return true;
    }
};

ä½œè€…ï¼šshou-hu-w9
é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/validate-binary-search-tree/solution/98-yan-zheng-er-cha-sou-suo-shu-by-shou-19opl/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```

#### [å‰‘æŒ‡ Offer 07. é‡å»ºäºŒå‰æ ‘](https://leetcode-cn.com/problems/zhong-jian-er-cha-shu-lcof/)

```cpp
/**
 * Definition for a binary tree node.
 * struct TreeNode {
 *     int val;
 *     TreeNode *left;
 *     TreeNode *right;
 *     TreeNode(int x) : val(x), left(NULL), right(NULL) {}
 * };
 */
class Solution {
public:
    unordered_map<int, int> dic; // å»ºç«‹å€¼å’Œindexçš„å¯¹åº”å…³ç³»{value, index} æ–¹ä¾¿æŸ¥æ‰¾valueåœ¨ä¸­åºéå†çš„index
    vector<int> preorder; // è®°å½•å‰åºï¼Œæ–¹ä¾¿å­å‡½æ•°ç›´æ¥ä½¿ç”¨
    TreeNode* buildTree(vector<int>& preorder, vector<int>& inorder) {
        this->preorder = preorder;
        // å»ºç«‹dic {value index}
        for(int i=0; i<inorder.size(); ++i){
            dic[inorder[i]] = i;
        }
        // ç”±å‰åºæŸ¥rootï¼Œç”±root.val+ä¸­åºæŸ¥å·¦å³å­æ ‘çš„æ•°é‡ï¼Œç”±å‰åºæŸ¥å·¦å³å­æ ‘çš„root
        return recur(0, preorder.size()-1, 0, inorder.size()-1);
    }
    /**
    * è¾“å…¥ï¼šæŸä¸€ä¸ªå­æ ‘çš„å‰åºå’Œåç»­èŒƒå›´
    * è¾“å‡ºï¼šè¯¥å­æ ‘
    * é‡ç‚¹åœ¨preorderå’Œinorderå·¦å³èŒƒå›´çš„å˜åŒ–ï¼Œè‡ªå·±ä¸¾ä¸ªä¾‹å­æ€è€ƒå°±è¡Œäº†
    */
    TreeNode* recur(int pre_left, int pre_right, int in_left, int in_right){
        if(pre_left > pre_right) return nullptr;
        TreeNode* root = new TreeNode(preorder[pre_left]); // åˆ›å»ºæ ¹ç»“ç‚¹
        int in_index = dic[preorder[pre_left]]; // æ‰¾åˆ°rootåœ¨inorderä¸­çš„ä½ç½®
        int size_left_subtree = in_index - in_left;
        // é€’å½’æœç´¢å·¦å­æ ‘
        // å‰åºå·¦ä¾§èŒƒå›´+1 å‰åºå³ä¾§èŒƒå›´å˜åŒ– åç»­å·¦ä¾§èŒƒå›´ä¸å˜ ååºå³ä¾§èŒƒå›´-1
        root->left = recur(pre_left + 1, pre_left + size_left_subtree, in_left, in_index - 1);
        // é€’å½’æœç´¢å³å­æ ‘
        root->right = recur(pre_left + size_left_subtree + 1, pre_right, in_index + 1, in_right);
        return root;
    }
};

ä½œè€…ï¼šshou-hu-w9
é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/zhong-jian-er-cha-shu-lcof/solution/jian-zhi-offer-07-zhong-jian-er-cha-shu-p9g23/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```





## é‡è¦é¢˜å‹

#### [224. åŸºæœ¬è®¡ç®—å™¨](https://leetcode-cn.com/problems/basic-calculator/)

**åŒæ ˆï¼š**
æ•°æ®æ¡Ÿï¼šè®°å½•è¿ç®—å€¼
è¿ç®—ç¬¦æ¡Ÿï¼šè®°å½•æ‰€æœ‰çš„è¿ç®—ç¬¦

è¯¥æ–¹æ³•å¯ä»¥è§£å†³æ‰€æœ‰çš„è®¡ç®—å™¨é—®é¢˜ã€‚ï¼ˆä¸‹é¢ç¨‹åºä¸€ä¸ªéƒ½ä¸èƒ½æ”¹ï¼Œæ­»è®°å°±è¡Œäº†ï¼‰

```cpp
class Solution {
public:
    /*  åŒæ ˆï¼š
            numsï¼šè®°å½•è¿ç®—å€¼åŠè¿ç®—ç»“æœï¼ˆå°†ä¸¤ä¸ªè¿ç®—å€¼å¼¹å‡ºï¼Œå¹¶å‹å…¥è¿ç®—ç»“æœï¼‰
            opsï¼šè®°å½•æ‰€æœ‰çš„è¿ç®—ç¬¦ï¼ˆ+ - * / ()ï¼‰â€”â€”ã€æ ˆå†…è¿ç®—ç¬¦ã€‘
        éå†è¿‡ç¨‹ï¼š
            // æ ˆå‹å…¥
            1. é‡åˆ°(ï¼Œç›´æ¥å‹å…¥ops
            2. é‡åˆ°æ•°å­—ï¼Œå¾ªç¯è¯»å–æ•°å­—ï¼ˆç›´åˆ°è¯»åˆ°éæ•°å­— æˆ– æœ€åä¸€ä¸ªå­—ç¬¦ä¸ºæ­¢ï¼‰ï¼Œå¹¶å‹å…¥nums
            // è®¡ç®—
            3. é‡åˆ°è¿ç®—ç¬¦ï¼Œå°†æ ˆå†…è¿ç®—çº§åˆ«æ¯”å®ƒé«˜çš„éƒ½è¿ç®—ï¼Œå¦åˆ™å‹å…¥opsã€‚ï¼ˆé‡åˆ°(æˆ–è€…opsä¸ºç©ºï¼‰
                å¦‚æœæ ˆå†…è¿ç®—ä¼˜å…ˆçº§æ¯”è¾ƒä½ï¼Œé‚£ä¹ˆå‹å…¥ï¼Œæ€»ä¼šåœ¨æŸä¸ªæ—¶å€™ï¼Œè¿ç®—è¯¥ä¼˜å…ˆçº§çš„è¿ç®—ç¬¦çš„
            4. é‡åˆ°)ï¼Œå¯¹opså’Œnumsè¿›è¡Œè®¡ç®—ï¼Œç›´åˆ°é‡åˆ°(
        æ³¨æ„ï¼š
            è€ƒè™‘åˆ°å¼€å§‹çš„å­—ç¬¦å¯èƒ½æ˜¯+-å¼€å¤´ï¼Œå› æ­¤å¿…é¡»å°†(+æ¢ä¸º(0+ï¼Œ(-æ¢ä¸º(0-
    */

    // è®¾å®šè¿ç®—ç¬¦ä¼˜å…ˆçº§
    unordered_map<char, int> oper_pri = {
        {'+', 1},
        {'-', 1},
        {'*', 2},
        {'/', 2},
        {'%', 2},
        {'^', 3},
    };
    int calculate(string s) {
        stack<long long> nums;
        stack<char> ops;
        int n = s.size();
        nums.push(0);  // -----é¿å…å¼€å¤´æ˜¯+-ï¼ŒåŸºæœ¬å¼€å¤´ä¸æ˜¯+-ï¼Œä¹Ÿä¸ä¼šå–åˆ°0è¿™ä¸ªæ•°å­—
        for(int i=0; i<n; ++i){
            if(s[i] == ' ') continue;
            else if(s[i] == '(') {
                ops.push(s[i]);
                if(s[i+1] == '+' || s[i+1] == '-') // -----é¿å…å¼€å¤´æ˜¯+-
                    nums.push(0);
            }
            else if(isdigit(s[i])){
                // æŒ¨ä¸ªè¯»å–æ•´ä¸ªæ•°å­—
                int num = int(s[i] - '0');
                while(i+1 < n && isdigit(s[i+1])){
                    ++i;
                    num = num * 10 + int(s[i] - '0');
                }
                nums.push(num);
            }
            else if(s[i] == ')'){
                // è®¡ç®—æ‹¬å·å†…çš„æ‰€æœ‰å…ƒç´ ï¼ˆå› ä¸ºæ­¤æ—¶opsä¸­åªæœ‰+-æ³•ï¼Œä¸ä¼šæœ‰ä¼˜å…ˆçº§é—®é¢˜äº†ï¼Œç›´æ¥è¿ç®—å³å¯ï¼‰
                while(ops.top() != '(')
                    cal(nums, ops);
                ops.pop();
            }
            else{
                // å°†æ ˆå†…è¿ç®—ç¬¦å…¨éƒ¨è¿›è¡Œè®¡ç®—ï¼ˆåªè®¡ç®—æ¡Ÿå†…ä¼˜å…ˆçº§é«˜çš„opsï¼‰å¿…é¡»æ˜¯>=ï¼Œä¸èƒ½æ˜¯>ï¼Œç¡®ä¿åŒçº§è¿ç®—ä»å·¦å¾€å³
                while(!ops.empty() && ops.top()!='(' && oper_pri[ops.top()] >= oper_pri[s[i]])
                    cal(nums, ops);
                // å‹å…¥è¿ç®—ç¬¦
                ops.push(s[i]);
            }
        }
        // ä»¥ä¸Šåªæ˜¯å¯¹æ‹¬å·å†…çš„å¼å­è¿›è¡Œäº†è¿ç®—ï¼Œå¹¶æœªå¯¹ä¸¤å¤´çš„æ•°æ®è¿›è¡Œè¿ç®—ï¼š1+2+3+4ï¼Œæœ€ååªä¼šå¾—åˆ°6+4
        // å¯¹å‰©ä½™çš„å¼å­è¿›è¡Œè¿ç®—
        while(!ops.empty()){
            cal(nums, ops);
        }
        return nums.top();
    }
    // æ ¹æ®æ•°å­—æ ˆå’Œè¿ç®—ç¬¦æ ˆï¼Œè¿›è¡Œä¸€æ¬¡æ ˆé¡¶çš„è¿ç®—ï¼ŒæŠŠè®¡ç®—ç»“æœå‹å…¥numsä¸­
    void cal(stack<long long>& nums, stack<char>& ops){
        // ä¾æ¬¡å¼¹å‡ºå‰è¿ç®—ç¬¦ä¸¤ä¾§çš„æ•°å­—/è¿ç®—ç¬¦
        long long b = nums.top(); nums.pop(); 
        long long a = nums.top(); nums.pop();
        char oper = ops.top(); ops.pop();
        // è®¡ç®—
        long long res = 0;
        switch(oper){
            case '+': res = a + b; break;
            case '-': res = a - b; break;
            case '*': res = a * b; break;
            case '/': res = a / b; break;
            case '%': res = a % b; break;
            case '^': res = pow(a, b); break;
        }
        // å‹å…¥ç»“æœ
        nums.push(res);
    }
};

ä½œè€…ï¼šshou-hu-w9
é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/basic-calculator/solution/224-ji-ben-ji-suan-qi-by-shou-hu-w9-hns1/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```

#### [5. æœ€é•¿å›æ–‡å­ä¸²](https://leetcode-cn.com/problems/longest-palindromic-substring/)

å“²åº“ä¸€é¢

```cpp
class Solution {
public:
    /**
     * æœ€é•¿å›æ–‡å­ä¸²ï¼Œä½¿ç”¨åŒæŒ‡é’ˆæ€è·¯
     * ä¸­å¿ƒæ‰©æ•£æ³•ï¼šä»¥ä¸€ä¸ªä¸­å¿ƒå¼€å§‹å‘ä¸¤è¾¹æ‰©æ•£ï¼Œåªè¦ä¸¤ä¾§ç›¸ç­‰å°±ç»§ç»­æ‰©æ•£
     * ï¼ˆéœ€è¦æ³¨æ„éœ€è¦åˆ†ä¸ºä¸¤ç§æƒ…å†µï¼Œä¸€ç§æ˜¯å¥‡æ•°æƒ…å†µä»å•ä¸ªå­—ç¬¦å¼€å§‹ï¼Œä¸€ç§æ˜¯å¶æ•°æƒ…å†µä»ä¸¤ä¸ªå­—ç¬¦å¼€å§‹
    */
    string longestPalindrome(string s)
    {
        string res;
        for (int i = 0; i < s.size(); i++) {
            string s1 = Palindrome(s, i, i);
            string s2 = Palindrome(s, i, i + 1);
            res = res.size() > s1.size() ? res : s1;
            res = res.size() > s2.size() ? res : s2;
        }
        return res;
    }
    // è·å¾—ä¸€ä¸ªå›æ–‡å­ä¸²
    string Palindrome(string& s, int l, int r)
    {
        while (l >= 0 && r < s.size() && s[l] == s[r]) {
            l--;
            r++;
        }
        return s.substr(l + 1, (r - 1) - (l + 1) + 1);
    }
};
```

#### [15. ä¸‰æ•°ä¹‹å’Œ](https://leetcode-cn.com/problems/3sum/)

åŒæŒ‡é’ˆ+æ’åº$O(n^2)$
**çœ‹åˆ°æ•°ç»„+å…ƒç´ å’Œï¼Œé¦–è¦æƒ³åˆ°åŒæŒ‡é’ˆï¼Œç„¶ååŒæŒ‡é’ˆçš„å‰ææ˜¯æ’åºã€‚æœ€åæ ¹æ®å®é™…éœ€æ±‚ï¼Œé€‰æ‹©åˆé€‚çš„æŒ‡é’ˆç§»åŠ¨è¿‡ç¨‹**

```cpp
class Solution {
public:
    /*  æ’åº+åŒæŒ‡é’ˆ
        ç±»ä¼¼ã€Šæ±‚å­åºåˆ—å’Œä¸º0 çš„é¢˜ã€‹ä¸è¿‡è¿™é‡Œä¸æ˜¯æ±‚å­åºåˆ—çš„å’Œï¼Œè€Œæ˜¯æŒ‡å®šäº†ä¸‰ä¸ªå…ƒç´ ï¼Œå·¦ã€å†…éƒ¨ã€å³ä¸‰ä¸ªå€¼
    å¯ä»¥æ€è€ƒï¼Œä½¿ç”¨åŒæŒ‡é’ˆçš„æ–¹æ³•â€”â€”>å…ˆæ•°ç»„æ’åº
        1. æ•°ç»„æ’åº
        2. æŒ‡å®šæœ€å·¦ä¾§ç´¢å¼•lï¼Œæœ€å³ä¾§ç´¢å¼•rï¼Œä¸­é—´ç´¢å¼•k=l+1
            ä»å·¦å‘å³é’ˆå¯¹æ¯ä¸€ä¸ªlæ‰§è¡Œ
            1. å’Œ>0ï¼Œè¯´æ˜nums[r]å¤ªå¤§ï¼Œrå·¦ç§» r--
            2. å’Œ<0ï¼Œè¯´æ˜nums[k]å¤ªå°ï¼Œkå³ç§»ï¼Œk++
            3. å’Œ==0ï¼Œæ·»åŠ ï¼Œä¸ºäº†é˜²æ­¢å‡ºç°é‡å¤è§£ï¼Œéœ€è¦åŒæ—¶ç§»åŠ¨rï¼Œkï¼Œr--,k++
            ï¼ˆæ‰€æœ‰çš„--ï¼Œ++éƒ½æ˜¯æŒ‡è·³è¿‡é‡å¤å…ƒç´ çš„ï¼Œé¿å…å‡ºç°é‡å¤çš„ä¸‰å…ƒç»„ï¼‰
    */
    vector<vector<int>> threeSum(vector<int>& nums) {
        vector<vector<int>> res;
        sort(nums.begin(), nums.end(), less<int>());
        int n = nums.size();
        int l=0, r=n-1, k=l+1;
        // å¤–ä¾§éå†l
        for(; l<n-2; l++){
            if(nums[l] > 0) break; // æœ€å·¦ä¾§>0ä¸€å®šä¸å¯èƒ½å­˜åœ¨
            if(l > 0 && nums[l] == nums[l-1]) continue; // æœ€å·¦ä¾§æ•°å­—é‡å¤ï¼Œè·³è¿‡æŸ¥æ‰¾
            r = n - 1;
            k = l + 1;
            // å†…ä¾§éå†kå’Œr
            while(k < r){
                int sum = nums[l] + nums[k] + nums[r];
                if(sum > 0){
                    while(k < r && nums[r] == nums[--r]); // --rç¡®ä¿å¯ä»¥ç¬¬ä¸€æ¬¡å°±-1
                }
                else if(sum < 0){
                    while(k < r && nums[k] == nums[++k]);
                }
                else{
                    res.push_back(vector<int>{nums[l], nums[k], nums[r]});
                    while(k < r && nums[r] == nums[--r]); // é¿å…é‡å¤
                    while(k < r && nums[k] == nums[++k]);
                }
            }
        }
        return res;
    }
};

ä½œè€…ï¼šshou-hu-w9
é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/3sum/solution/15-san-shu-zhi-he-by-shou-hu-w9-hkpp/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```

#### [172. é˜¶ä¹˜åçš„é›¶](https://leetcode-cn.com/problems/factorial-trailing-zeroes/)

æ‰¾è§„å¾‹ï¼šå°†ç»“å°¾0çš„ä¸ªæ•°è½¬ä¸ºâ€”â€”ã€‹ä¹˜æ•°ä¸­æœ‰å‡ ä¸ª10â€”â€”ã€‹ä¹˜æ•°ä¸­æœ‰å‡ ä¸ªäº”â€”â€”ã€‹

```CPP
class Solution {
public:
    /** nlog_5^n
        å«æœ‰ 2 çš„å› å­æ¯ä¸¤ä¸ªå‡ºç°ä¸€æ¬¡ï¼Œå«æœ‰ 5 çš„å› å­æ¯ 5 ä¸ªå‡ºç°ä¸€æ¬¡ï¼Œæ‰€æœ‰ 2 å‡ºç°çš„ä¸ªæ•°è¿œè¿œå¤šäº 5ï¼Œæ¢è¨€ä¹‹æ‰¾åˆ°ä¸€ä¸ª 5ï¼Œä¸€å®šèƒ½æ‰¾åˆ°ä¸€ä¸ª 2 ä¸ä¹‹é…å¯¹ã€‚æ‰€ä»¥æˆ‘ä»¬åªéœ€è¦æ‰¾æœ‰å¤šå°‘ä¸ª 5ã€‚
        ç›´æ¥çš„ï¼Œæˆ‘ä»¬åªéœ€è¦åˆ¤æ–­æ¯ä¸ªç´¯ä¹˜çš„æ•°æœ‰å¤šå°‘ä¸ª 5 çš„å› å­å³å¯ã€‚
    */
    int trailingZeroes(int n) {
        int count = 0;
        for (int i = 1; i <= n; i++) {
            int N = i;
            while (N > 0) {
                if (N % 5 == 0) {
                    count++;
                    N /= 5;
                } else {
                    break;
                }
            }
        }
        return count;
    }
    /** è§£æ³•äºŒ log_5^n
        æ¯éš” 5 ä¸ªæ•°ï¼Œå‡ºç°ä¸€ä¸ª 5ï¼Œæ¯éš” 25 ä¸ªæ•°ï¼Œå‡ºç° 2 ä¸ª 5ï¼Œæ¯éš” 125 ä¸ªæ•°ï¼Œå‡ºç° 3 ä¸ª 5... ä»¥æ­¤ç±»æ¨ã€‚    
        æœ€ç»ˆ 5 çš„ä¸ªæ•°å°±æ˜¯ n / 5 + n / 25 + n / 125 ..
    */
    int trailingZeroes(int n) {
        int count = 0;
        while (n > 0) {
            count += n / 5;
            n = n / 5;
        }
        return count;
    }
};
```

#### [é¢è¯•é¢˜ 02.05. é“¾è¡¨æ±‚å’Œ](https://leetcode-cn.com/problems/sum-lists-lcci/)

åå‘å­˜æ”¾ï¼š
ä»ä¸¤ä¸ªé“¾è¡¨å¤´å¼€å§‹ç›¸åŠ ï¼Œå¤„ç†è¿›ä½ï¼ˆå•ä½ä¹‹å’Œå¤§äº10çš„é—®é¢˜ï¼‰ã€‚åˆ›å»ºæ–°çš„é“¾è¡¨èŠ‚ç‚¹ã€‚ç„¶åè¿æ¥èŠ‚ç‚¹

æ­£å‘å­˜æ”¾ï¼š
**åˆ©ç”¨æ ˆå…ˆè¿›åå‡º**ï¼Œè®¡ç®—æ¯ä¸€ä½çš„å’Œï¼Œç´¯åŠ è¿‡ç¨‹å¤„ç†ä¸åå‘ä¸€è‡´ã€‚æ¯ä¸€æ­¥å¤„ç†è¿æ¥èŠ‚ç‚¹æ‘†æ”¾ä½ç½®ä¸åŒã€‚

```cpp
/**
 * Definition for singly-linked list.
 * struct ListNode {
 *     int val;
 *     ListNode *next;
 *     ListNode(int x) : val(x), next(NULL) {}
 * };
 */
class Solution {
public:
    //åå‘å­˜æ”¾ï¼ˆæœ¬é¢˜ï¼‰
    ListNode* addTwoNumbers(ListNode* l1, ListNode* l2) {
        ListNode *head = new ListNode(-1); // è¾…åŠ©ç»“ç‚¹
        ListNode *cur = head;
        int carry = 0, sum = 0;
        while (l1 || l2 || carry) { // è®¡ç®—ç»“æŸä¸”æ— è¿›ä½æ—¶é€€å‡º
            sum = 0;
            if (l1 != NULL) {
                sum += l1->val;
                l1 = l1->next;
            }

            if (l2 != NULL) {
                sum += l2->val;
                l2 = l2->next;
            }

            sum += carry;
            ListNode *temp = new ListNode(sum % 10);
            carry = sum / 10;
            cur->next = temp;
            cur = cur->next;
        }
        return head->next;
    }

    //æ­£å‘å­˜æ”¾
    ListNode* addInList(ListNode* head1, ListNode* head2) {
        // åˆ©ç”¨æ ˆå­˜å‚¨é“¾è¡¨æ•°æ®ï¼Œä»è€Œä»ä¸ªä½åˆ°é«˜ä½è¿›è¡Œè®¡ç®—ã€‚
        stack<int> st1, st2;
        while (head1 || head2) {
            if (head1) {
                st1.push(head1->val);
                head1 = head1->next;
            }
            if (head2) {
                st2.push(head2->val);
                head2 = head2->next;
            }
        }
        // ä»¥ä¸‹åŒä¸Šé¢çš„åå‘å­˜æ”¾
        ListNode *head = new ListNode(-1);
        int carry = 0, sum = 0;
        while (!st1.empty() || !st2.empty() || carry != 0) {
            sum = 0;
            if (!st1.empty()) {
                sum += st1.top();
                st1.pop();
            }
            if (!st2.empty()) {
                sum += st2.top();
                st2.pop();
            }
            sum += carry;
            ListNode *cur = new ListNode(sum % 10);
            carry = sum / 10;
            cur->next = head->next;
            head->next = cur;
        }
        return head->next;
    }
};

ä½œè€…ï¼šshou-hu-w9
é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/sum-lists-lcci/solution/mian-shi-ti-0205-lian-biao-qiu-he-by-sho-j4r5/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```

#### [43. å­—ç¬¦ä¸²ç›¸ä¹˜](https://leetcode-cn.com/problems/multiply-strings/)

```cpp
class Solution {
public:
    /** æ‰¾è§„å¾‹ï¼š
            ä¹˜æ•° num1 ä½æ•°ä¸º Mï¼Œè¢«ä¹˜æ•° num2 ä½æ•°ä¸º Nï¼Œ num1 x num2 ç»“æœ res æœ€å¤§æ€»ä½æ•°ä¸º M+N
            num1[i] x num2[j] çš„ç»“æœä¸º tmp(ä½æ•°ä¸ºä¸¤ä½ï¼Œ"0x","xy"çš„å½¢å¼)ï¼Œå…¶ç¬¬ä¸€ä½ä½äº res[i+j]ï¼Œç¬¬äºŒä½ä½äº res[i+j+1]ã€‚
    */
    string multiply(string num1, string num2) {
        int m = num1.size(), n = num2.size();
        vector<int> res(m+n, 0); // ç»“æœæœ€å¤šä¸ºm+nä½ç½®
        // ä»ä¸ªä½å¼€å§‹é€ä½ç›¸ä¹˜
        for(int i=m-1; i>=0; --i){
            int n1 = num1[i] - '0';
            for(int j=n-1; j>=0; --j){
                int n2 = num2[j] - '0';
                int mul = n1 * n2; // ä¹˜ç§¯
                int p1 = i + j, p2 = i + j + 1; // ä¹˜ç§¯åœ¨resä¸Šå¯¹åº”çš„ä½ç½®ï¼ˆè¿™ä¸ªå¾ˆé‡è¦ï¼‰
                int sum = res[p2] + mul; // æ›´æ–°å¯¹åº”ä½ç½®
                res[p2] = sum % 10;
                res[p1] += sum / 10; // è¿›ä½ï¼Œå¿…é¡»æ˜¯+=ï¼Œä¸èƒ½æ˜¯+
            }
        }
        // å°†resè½¬åŒ–ä¸ºå­—ç¬¦ä¸²
        bool flag = false;  // falseï¼šè¿˜æ²¡æœ‰é‡åˆ°æ•°å­—çš„ç¬¬ä¸€ä¸ªæ•°
        string str;
        for(int i=0; i<res.size(); ++i){
            if(res[i] != 0 || flag) {
                flag = true;
                str += res[i] + '0';
            }
        }
        return str.size() == 0 ? "0" : str;
    }
};

ä½œè€…ï¼šshou-hu-w9
é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/multiply-strings/solution/43-zi-fu-chuan-xiang-cheng-by-shou-hu-w9-ck4o/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```

#### æ ˆå®ç°é˜Ÿåˆ—ã€é˜Ÿåˆ—å®ç°æ ˆ

æ ˆå®ç°é˜Ÿåˆ—ï¼šä¿®æ”¹popå³å¯ã€‚å¼¹å‡ºæ ˆä¸ºç©ºå°±å°†å‹å…¥æ ˆå…¨éƒ¨å‹å…¥å¼¹å‡ºæ ˆã€‚

é˜Ÿåˆ—å®ç°æ ˆï¼šä¿®æ”¹pushå³å¯ã€‚å‹å…¥æ ˆå§‹ç»ˆä¸ºç©ºï¼Œ<u>å…ˆå°†æ•°æ®å‹å…¥ç©ºæ ˆï¼Œç„¶åå°†å¼¹å‡ºæ ˆå‹å…¥å‹å…¥æ ˆï¼Œæœ€åäº¤æ¢å¼¹å‡ºå’Œå‹å…¥æ ˆ</u>ï¼Œç¡®ä¿å¼¹å‡ºæ ˆçš„å¤´éƒ¨å§‹ç»ˆæ˜¯æœ€æ–°å‹å…¥çš„æ•°æ®ã€‚

[ã€é˜Ÿåˆ—ã€‘ç”¨é˜Ÿåˆ—å®ç°æ ˆ](https://leetcode-cn.com/problems/implement-stack-using-queues/solution/wu-tu-guan-fang-tui-jian-ti-jie-yong-dui-63d4/)

#### [148. æ’åºé“¾è¡¨](https://leetcode-cn.com/problems/sort-list/)***

åªèƒ½ä½¿ç”¨å½’å¹¶æ’åºâ€”â€”å› ä¸ºé“¾è¡¨å¯ä»¥ä½¿ç”¨å¿«æ…¢æŒ‡é’ˆæ‰¾åˆ°é“¾è¡¨ä¸­é—´çš„ä½ç½®ï¼Œæ‰€ä»¥ç”¨å½’å¹¶ã€‚è€Œå¿«æ’éœ€è¦æ¥å›äº¤æ¢ä½ç½®ï¼Œé“¾è¡¨æ˜¯æ— æ³•å®ç°çš„ã€‚

```cpp
// nlg(n) å½’å¹¶ï¼Œå¿«æ’
class Solution {
public:
	// è¿”å›æ–°é“¾è¡¨çš„å¤´ç»“ç‚¹
	ListNode* sortList(ListNode* head) {
		// 1. åˆ†
		// åœ¨ä¸­é—´ä½ç½®æ–­å¼€è¿æ¥
		if (head == nullptr || head->next == nullptr) { // åˆ†åˆ°æœ€åä¸€ä¸ªä½ç½®ï¼ˆåªæœ‰ä¸€ä¸ªç»“ç‚¹ï¼‰
			return head;
		}
		// å¯»æ‰¾ä¸­é—´ä½ç½®
		ListNode* slow = head, *fast = head->next; // åªæœ‰fastä»nextå¼€å§‹ï¼Œæ‰èƒ½ä¿è¯å¶æ•°æ—¶ï¼ŒslowæŒ‡å‘å‰ä¸€ä¸ªç»“ç‚¹ï¼Œè€Œä¸æ˜¯åä¸€ä¸ªç»“ç‚¹
		while (fast != nullptr && fast->next != nullptr) {
			fast = fast->next->next;
			slow = slow->next;
		} // slowæŒ‡å‘ä¸­é—´æˆ–åå·¦çš„ä¸€ä¸ªç»“ç‚¹
		// æ–­å¼€ç»“ç‚¹ï¼Œåˆ†æˆä¸¤ä¸ªé“¾è¡¨
		ListNode* mid = slow->next;
		slow->next = nullptr;
		ListNode* left = sortList(head);
		ListNode* right = sortList(mid);
		// 2. åˆ
		// æ— éœ€æ•°ç»„é‚£æ ·åˆ›å»ºä¸€ä¸ªè¾…åŠ©æ•°ç»„ï¼Œè¿™é‡Œåªåˆ›å»ºä¸€ä¸ªè¾…åŠ©ç»“ç‚¹ï¼Œå¹¶æŠŠç»“æœæ·»åŠ åˆ°è¯¥ç»“ç‚¹å³å¯
		ListNode* new_head = new ListNode(0);
		ListNode* ret = new_head; // ret->nextå°±æ˜¯åº”è¯¥è¿”å›çš„å¤´ç»“ç‚¹

		while (left != nullptr && right != nullptr) {
			if (left->val < right->val) {
				new_head->next = left;
				left = left->next;
			}
			else {
				new_head->next = right;
				right = right->next;
			}
			new_head = new_head->next;
		}
		// å°†å‰©ä½™çš„ç»“èŠ‚åŠ å…¥
        if(left != nullptr)
            new_head->next = left;
        else if(right != nullptr)
            new_head->next = right;
		return ret->next; // ç¬¬ä¸€ä¸ªæ˜¯è¾…åŠ©ç»“ç‚¹ï¼Œä¸‹ä¸€ä¸ªæ‰æ˜¯å¤´ç»“ç‚¹
	}
};

ä½œè€…ï¼šshou-hu-w9
é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/sort-list/solution/148-pai-xu-lian-biao-by-shou-hu-w9-zxnp/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```



### æ‹¬å·åŒ¹é…

#### [22. æ‹¬å·ç”Ÿæˆ](https://leetcode-cn.com/problems/generate-parentheses/)

```cpp
class Solution {
public:
    /*  DFS
        é€’å½’è§„åˆ™ï¼š
            1. ï¼ˆä»»ä½•æ—¶å€™éƒ½å¯ä»¥æ·»åŠ 
            2. ï¼‰åªæœ‰åœ¨ï¼ˆå·²ç»æ·»åŠ çš„æ•°é‡å¤§äºï¼‰æ—¶æ‰å¯ä»¥æ·»åŠ  ***ï¼ˆè¿™ä¸ªè§„å¾‹å¿…é¡»å‘ç°ï¼‰
    */
    vector<string> generateParenthesis(int n) {
        dfs(string{""}, n, n);
        return res;
    }
private:
    vector<string> res;
    void dfs(string str, int left, int right){
        if(left == 0 && right == 0){ // éå†å®Œæ¯•
            res.push_back(str);
        }
        if(left > 0){ // æ·»åŠ ï¼ˆ
            dfs(str + '(', left -1, right);
        }
        if(left < right){   // æ·»åŠ )â€”â€”ç°æœ‰(æ•°é‡å¤§äº)
            dfs(str+')', left, right -1);
        }
        return;
    }
};

ä½œè€…ï¼šshou-hu-w9
é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/generate-parentheses/solution/22-gua-hao-sheng-cheng-by-shou-hu-w9-cvs1/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```

#### [20. æœ‰æ•ˆçš„æ‹¬å·](https://leetcode-cn.com/problems/valid-parentheses/)

åˆ©ç”¨æ ˆå…ˆå…¥åå‡ºçš„ç‰¹æ€§å®ç°æ‹¬å·åŒ¹é…â€”â€”â€”â€”æ‹¬å·åŒ¹é…å¯ç†è§£ä¸ºå…ˆå…¥åå‡º

```cpp
class Solution {
public:
	/*	åˆ©äºæ ˆåˆ¤æ–­æ‹¬å·æ˜¯å¦æœ‰æ•ˆ
	*/
	bool isValid(string s) {
		stack<char> st;
		for (char x : s) {
			// å·¦æ‹¬å·å‹å…¥
			if (x == '(' || x == '[' || x == '{') {
				st.push(x);
			}
			// å³æ‹¬å·å¯¹æ¯”å¼¹å‡º
			else {
				if(!st.empty() && st.top() == leftOf(x)) // å³æ‹¬å·åŒ¹é…åˆ™å¼¹å‡º
					st.pop();
				else
					return false;
			}
		}
		// å¦‚æœæ ˆç©ºäº†ï¼Œè¯´æ˜åŒ¹é…æˆåŠŸ
		return st.empty();
	}
private:
	// æ ¹æ®å³æ‹¬å·æŸ¥æ‰¾å·¦æ‹¬å·
	char leftOf(char c) {
		if (c == ')') return '(';
		else if (c == ']') return '[';
		else return '{';
	}
};

ä½œè€…ï¼šshou-hu-w9
é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/valid-parentheses/solution/20-you-xiao-de-gua-hao-by-shou-hu-w9-kkft/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```

#### [921. ä½¿æ‹¬å·æœ‰æ•ˆçš„æœ€å°‘æ·»åŠ ](https://leetcode-cn.com/problems/minimum-add-to-make-parentheses-valid/)

```cpp
class Solution {
public:
    /** ç±»ä¼¼æ‹¬å·åŒ¹é…ï¼ŒåŒæ ·éœ€è¦åˆ¤æ–­å·¦å³æ‹¬å·ä»€ä¹ˆæƒ…å†µä¸‹æ‹¬å·åˆæ³•
        é‡åˆ°ï¼ˆï¼ŒæœŸæœ›ï¼‰+1
        é‡åˆ°ï¼‰ï¼ŒæœŸæœ›ï¼‰-1ï¼›å¦‚æœæ²¡æœ‰ï¼ˆä¸å…¶åŒ¹é…ï¼Œé‚£ä¹ˆæœŸæœ›ï¼ˆ+1
    */
    int minAddToMakeValid(string s) {
        int left_need = 0, right_need = 0; // å·¦å³æ‹¬å·çš„éœ€æ±‚é‡
        for(char c : s){
            if(c == '('){
                right_need += 1;
            }
            else if(c == ')'){
                right_need -= 1;
                if(right_need < 0){ // æ­¤æ—¶æ²¡æœ‰ï¼ˆä¸ï¼‰åŒ¹é…ï¼Œé‚£ä¹ˆå°±éœ€è¦å¢åŠ å¯¹ï¼ˆçš„éœ€æ±‚
                    right_need = 0;
                    left_need += 1;
                }
            }
        }
        return left_need + right_need;
    }
};

ä½œè€…ï¼šshou-hu-w9
é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/minimum-add-to-make-parentheses-valid/solution/921-shi-gua-hao-you-xiao-de-zui-shao-tia-rdvs/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```

#### [32. æœ€é•¿æœ‰æ•ˆæ‹¬å·](https://leetcode-cn.com/problems/longest-valid-parentheses/)***

**æ‹¬å·åŒ¹é…åªå‹å…¥ï¼ˆå³å¯ï¼Œç„¶åå¯¹é‡åˆ°çš„ï¼‰è¿›è¡Œå¤„ç†**

```cpp
class Solution {
public:
    /*  æ‹¬å·åŒ¹é…ï¼šä½¿ç”¨æ ˆ
        æ‹¬å·ï¼šåªå‹å…¥ï¼ˆå³å¯ï¼Œé‡åˆ°ï¼‰åˆ¤æ–­æ ˆå†…æ˜¯å¦ä¸ºç©ºå³å¯åˆ¤å®šæ˜¯å¦åŒ¹é…
        æ‰¾å‡ºè¿ç»­åˆæ³•æ‹¬å·çš„é•¿åº¦ï¼šç›´æ¥ç”¨ï¼‰å‡å»ä¸å…¶åŒ¹é…çš„ï¼ˆçš„ä½ç½®å³å¯ã€‚å› æ­¤ç›´æ¥å‹å…¥ï¼ˆçš„ç´¢å¼•
        
        è®¾ç½®startè®°å½•åˆæ³•å­ä¸²çš„å·¦ä¾§ç«¯ç‚¹ç´¢å¼•ä½ç½®
        å½“s[i]='('æ—¶ï¼Œç›´æ¥å°†ç´¢å¼•å‹å…¥æ ˆ
        s[i]=')'æ—¶çš„æƒ…å†µåˆ†æï¼š
        1. æ ˆä¸ºç©º
            è¯´æ˜åŒ¹é…å¤±è´¥ï¼Œåˆæ³•å­ä¸²çš„å·¦ä¾§ç«¯ç‚¹æ›´æ–°ä¸ºi+1: start = i+1
        2. æ ˆä¸ä¸ºç©º
            è¯´æ˜åŒ¹é…æˆåŠŸï¼Œå¼¹å‡ºæ ˆé¡¶
            2.1 å¦‚æœæ­¤æ—¶æ ˆä¸ºç©º  
                ç›´æ¥è®¡ç®—æ€»é•¿åº¦ï¼ši-start+1
            2.2 æ ˆä¸ä¸ºç©º
                ç›´æ¥è®¡ç®—å¯¹åº”çš„é•¿åº¦ï¼ši-st.top+1-1ï¼ˆå› ä¸ºå·¦ç«¯ç‚¹å·²ç»è¢«å¼¹å‡ºï¼Œæ‰€ä»¥ä»–çš„ç´¢å¼•åº”è¯¥æ˜¯æ ˆé¡¶å…ƒç´ +1ï¼‰
        ï¼‰åŒ¹é…æˆåŠŸ(æ­¤æ—¶æ ˆä¸ä¸ºç©º)ï¼š
    */
    int longestValidParentheses(string s) {
        int res = 0;
        int start = 0; // è®°å½•åˆæ³•å­ä¸²çš„å·¦ä¾§ç«¯ç‚¹ç´¢å¼•ä½ç½®
        stack<int> st;
        for(int i=0; i<s.size(); i++){
            if(s[i] == '(')
                st.push(i);
            else{
                if(st.empty())
                    start = i+1;
                else{
                    st.pop();
                    if(st.empty())
                        res = max(res, i - start + 1); // )()()é’ˆå¯¹è¿™ç§æƒ…å†µçš„å¤„ç†
                    else 
                        res = max(res, i - st.top() + 1 - 1); // æ™®é€šçš„æƒ…å†µ
                }
            }
        }
        return res;
    }
};

ä½œè€…ï¼šshou-hu-w9
é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/longest-valid-parentheses/solution/32-zui-chang-you-xiao-gua-hao-by-shou-hu-01tw/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```



## é¢è¯•é¢˜

#### äºŒåˆ†æ³•å˜å½¢é¢˜

ç»™å®šä¸€ä¸ªå·²ç»æ’å¥½åºçš„å­—ç¬¦ä¸²æ•°ç»„,ç©ºå­—ç¬¦ä¸²æ•£å¸ƒåœ¨è¯¥æ•°ç»„ä¸­,ç¼–å†™ä¸€ä¸ªå‡½æ•°å¯»æ‰¾ä¸€ä¸ª ç»™å®šå­—ç¬¦ä¸²çš„ä½ç½®ã€‚

```cpp
#include <iostream>
#include <vector>
#include <string>
using namespace std;
int search(vector<string> s, string x)
{
    int low = 0, high = s.size();
    while (low <= high) {
        int mid = (high - low) / 2 + low;
        // ä¸­é—´ä¸ºç©ºçš„å¤„ç†æ–¹æ¡ˆ
        if (s[mid] == "") {
            int tmp = mid;
            while (tmp >= low && s[tmp] == "") //æ³¨æ„è‹¥s[mid]==""ï¼Œæ³¨æ„å³ç§»
            {
                --tmp;
            }
            if (tmp < low) // å·¦ä¾§å…¨éƒ¨ä¸ºç©º
                low = mid + 1;
            else if (s[tmp] == x) { // lowä¸ä¸ºç©º
                return tmp;
            } else if (s[tmp] > x) {
                high = mid - 1;
            } else if (s[tmp] < x) {
                low = mid + 1;
            }
        }
        // éç©ºå°±æ­£å¸¸äºŒåˆ†
        else { 
            if (s[mid] == x)
                return mid;
            else if (s[mid] < x)
                low = mid + 1;
            else
                high = mid - 1;
        }
    }
    return -1;
}

int main()
{
    vector<string> s{
        "at", "", "", "", "ball", "", "", "car", "", "", "dad", "", ""
    };
    cout << search(s, "at") << endl;

    return 0;
}
```

#### [14. æœ€é•¿å…¬å…±å‰ç¼€](https://leetcode-cn.com/problems/longest-common-prefix/)

```cpp
class Solution {
public:
    string longestCommonPrefix(vector<string>& strs) {
        if(strs.size() == 0) return "";
        string res = strs[0]; // ä»¥ç¬¬ä¸€ä¸ªstråˆå§‹åŒ–å…¬å…±å‰ç¼€
        for(int i=0; i<strs.size(); ++i){
            int j = 0;
            for(; j < res.size() && j < strs[i].size(); ++j){
                if(res[j] != strs[i][j]) break; // ä»å¤´å¼€å§‹é€ä¸ªæ¯”è¾ƒå­—ç¬¦ï¼Œä¸åŒå°±é€€å‡º
            }
            res = res.substr(0, j); // æˆªå–æ–°çš„å…¬å…±å‰ç¼€
            if(res == "") break;
        }
        return res;
    }
};

ä½œè€…ï¼šshou-hu-w9
é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/longest-common-prefix/solution/14-zui-chang-gong-gong-qian-zhui-by-shou-z47q/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```



#### [46. å…¨æ’åˆ—](https://leetcode-cn.com/problems/permutations/)

æ’åˆ—ç»„åˆé—®é¢˜ï¼šæš´åŠ›é€’å½’+å›æº¯**ï¼ˆæ’åˆ—ç»„åˆä¸€å¾‹ä½¿ç”¨é€’å½’ï¼‰**
**å¯¹äºä¸é‡å¤çš„æœç´¢ï¼šä½¿ç”¨usedè®°å½•æœç´¢è¿‡çš„ç‚¹ï¼Œåç»­æœç´¢è·³è¿‡ï¼Œä»¥ç©ºé—´æ¢æ—¶é—´**
å¯¹äºé‡å¤çš„æœç´¢ï¼š å¦‚æœæœ‰é¡ºåºï¼Œå°±ç›´æ¥æš´åŠ›é€’å½’ï¼›
æ— é¡ºåºè¦æ±‚ï¼Œå³åŒ…å«å…ƒç´ ç›¸åŒè§†ä¸ºä¸€è‡´ï¼Œæ­¤æ—¶è¿›è¡Œæœ‰é¡ºåºçš„æœç´¢ï¼šæ¯æ¬¡éå†è·³è¿‡å‰é¢å·²ç»éå†è¿‡çš„ç»“ç‚¹ï¼ˆå‚è€ƒ39. ç»„åˆæ€»å’Œï¼‰

```cpp
class Solution {
public:
    /*  æš´åŠ›é€’å½’+è®°å½•éå†è¿‡çš„ç»“ç‚¹
        æ’åˆ—ç»„åˆä¸€å¾‹ä½¿ç”¨é€’å½’ï¼›ç”±äºä¸å¯é‡å¤é€‰å–ï¼Œå› æ­¤ä½¿ç”¨ä¸€ä¸ªæ•°ç»„ï¼Œè®°å½•éå†è¿‡çš„ç»“ç‚¹
    */
    vector<vector<int>> permute(vector<int>& nums) {
        vector<int> path;
        vector<vector<int>> res;
        vector<bool> used(nums.size(), false);
        dfs(nums, used, path, res);
        return res;
    }
    void dfs(vector<int>& nums, vector<bool>& used, vector<int>& path, vector<vector<int>>& res){
        if(path.size() == nums.size()){ // éå†å®Œæ¯•ä¿å­˜é€€å‡º
            res.push_back(path);
            return;
        }
        for(int i=0; i<nums.size(); ++i){
            if(!used[i]){   // æ²¡æœ‰ä½¿ç”¨è¿‡è¯¥ç»“ç‚¹ï¼Œå°±ä»è¯¥ç»“ç‚¹é€’å½’
                used[i] = true;
                path.push_back(nums[i]);
                dfs(nums, used, path, res);
                path.pop_back();    // å›æº¯
                used[i] = false;
            }
        }
        return;
    }
};

ä½œè€…ï¼šshou-hu-w9
é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/permutations/solution/46-quan-pai-lie-by-shou-hu-w9-t4rx/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```

#### [æ‰€æœ‰ç»„åˆæ•°](https://leetcode-cn.com/problems/power-set-lcci/)***

```cpp
class Solution {
public:
    vector<vector<int>> subsets(vector<int>& nums) {
        vector<int> path;
        vector<vector<int>> res(1,vector<int>()); // å•ç‹¬æ·»åŠ []
        dfs(nums, path, res, 0);
        return res;
    }
    // å¯¹äºç»„åˆé—®é¢˜ï¼Œä¸€å¾‹éƒ½è¦ä½¿ç”¨startæ¥è¿‡æ»¤å‰é¢çš„å…ƒç´ ï¼Œå¹¶è®°å½•èµ°è¿‡çš„æ‰€æœ‰è·¯å¾„
    void dfs(vector<int>& nums, vector<int>& path, vector<vector<int>>& res, int start){
        for(int i=start; i<nums.size(); ++i){
            path.push_back(nums[i]);
            res.push_back(path); // å”¯ä¸€çš„ä¸åŒï¼šå°†pathä¿å­˜è¯­å¥æ”¾åœ¨è¿™é‡Œï¼Œç¡®ä¿ç»è¿‡çš„æ¯ä¸ªè·¯å¾„éƒ½å¯ä»¥è¢«ä¿å­˜
            dfs(nums, path, res, i+1); // i+1ï¼šå‰é¢çš„æ•°æ®éƒ½ä¸å†è€ƒè™‘
            path.pop_back();    // å›æº¯
        }
        return;
    }
};
```

#### å°ä¸œåˆ†è‹¹æœ

æœå›­é‡Œæœ‰ä¸€å †è‹¹æœï¼Œä¸€å…±nå¤´(nå¤§äº1å°äº9)ç†Šæ¥åˆ†ï¼Œç¬¬ä¸€å¤´ä¸ºå°ä¸œï¼Œå®ƒæŠŠè‹¹æœå‡åˆ†nä»½åï¼Œå¤šå‡ºäº†ä¸€ä¸ªï¼Œå®ƒæ‰”æ‰äº†è¿™ä¸€ä¸ªï¼Œæ‹¿èµ°äº†è‡ªå·±çš„ä¸€ä»½è‹¹æœï¼Œæ¥ç€ç¬¬äºŒå¤´ç†Šé‡å¤è¿™ä¸€è¿‡ç¨‹ï¼Œå³å…ˆå‡åˆ†nä»½ï¼Œæ‰”æ‰ä¸€ä¸ªç„¶åæ‹¿èµ°ä¸€ä»½ï¼Œä»¥æ­¤ç±»æ¨ç›´åˆ°æœ€åä¸€å¤´ç†Šéƒ½æ˜¯è¿™æ ·(æœ€åä¸€å¤´ç†Šæ‰”æ‰åå¯ä»¥æ‹¿èµ°0ä¸ªï¼Œä¹Ÿç®—æ˜¯nä»½å‡åˆ†)ã€‚é—®æœ€åˆè¿™å †è‹¹æœæœ€å°‘æœ‰å¤šå°‘ä¸ªã€‚
ç»™å®šä¸€ä¸ªæ•´æ•°n,è¡¨ç¤ºç†Šçš„ä¸ªæ•°ï¼Œè¿”å›æœ€åˆçš„è‹¹æœæ•°ã€‚ä¿è¯æœ‰è§£ã€‚
æµ‹è¯•æ ·ä¾‹ï¼š

> 2
> è¿”å›ï¼š3

```cpp
int getInitial(int n) {
    int apples = n + 1; // éå†æ¯ä¸€ä¸ªè‹¹æœ
    while(1){
        int bears = n,temp = apples; // æ¨¡æ‹Ÿå½“å‰è‹¹æœæ•°é‡ä¸‹ï¼Œèƒ½å¦å®ç°nä¸ªç†Šçš„åˆ†é…
        while(bears > 0){
            if(temp % n == 1){
                --bears;
                temp = temp - (temp - 1)/n - 1;
            }
            else break; // ä¸èƒ½å‰©ä½™1ä¸ªå°±ç›´æ¥è§†å½“å‰æƒ…å†µä¸åˆç†
        }
        if(bears == 0) break; // å¦‚æœæœ€åå‰©ä½™ç†Šæ²¡äº†ï¼Œå°±è¯´æ˜å½“å‰è‹¹æœæ•°ç›®åˆé€‚
        ++apples;
    }
    return apples;
}
```

#### [å‰‘æŒ‡ Offer II 078. åˆå¹¶æ’åºé“¾è¡¨](https://leetcode-cn.com/problems/vvXgSW/)***

BigoäºŒé¢

```cpp
/**
 * Definition for singly-linked list.
 * struct ListNode {
 *     int val;
 *     ListNode *next;
 *     ListNode() : val(0), next(nullptr) {}
 *     ListNode(int x) : val(x), next(nullptr) {}
 *     ListNode(int x, ListNode *next) : val(x), next(next) {}
 * };
 */
class Solution {
public:
    /*  ä½¿ç”¨Kä¸ªæŒ‡é’ˆæŒ‡å‘æ¯ä¸ªé“¾è¡¨ã€‚æ¯æ¬¡å–å‡ºKä¸ªæ•°ä¸­æœ€å°çš„ç»“ç‚¹ï¼Œæ¥å…¥é“¾è¡¨ï¼Œç„¶åå°†è¯¥ç»“ç‚¹ä¸‹ä¸€ä¸ªèŠ‚ç‚¹åŠ å…¥è¿™Kä¸ªæ•°ä¸­ã€‚
        ç”±äºæ¯æ¬¡éƒ½éœ€è¦æ‰¾åˆ°æœ€å°çš„é‚£ä¸ªæ•°ï¼Œæ‰€ä»¥ä½¿ç”¨å°é¡¶å †æ¥å®ç°ï¼Œæé«˜æŸ¥æ‰¾æœ€å°å€¼çš„é€Ÿåº¦ã€‚
        æ—¶é—´å¤æ‚åº¦ï¼šnlogk kä¸ªé“¾è¡¨ï¼Œä¸€å…±nä¸ªç»“ç‚¹
    */
    struct cmp{
        bool operator()(ListNode* x, ListNode* y){
            return x->val > y->val;
        }
    };
    ListNode* mergeKLists(vector<ListNode*>& lists) {
        ListNode* dummy = new ListNode(0);
        ListNode* cur = dummy;
        // æ³¨æ„è¿™é‡Œå°é¡¶å †æ˜¯å‰è€…å¤§äºåè€…ï¼ˆå’Œsortä¸­çš„æ­£å¥½ç›¸åï¼‰
        // auto cmp = [](ListNode* x, ListNode* y)->bool {return x->val > y->val;}; è¿™ç§å†™æ³•â€”â€”è¿™ä¸¤å¥ä¸€ç‚¹éƒ½ä¸èƒ½å˜
        // priority_queue<ListNode*, vector<ListNode*>, decltype(cmp)> heap(cmp);
        priority_queue<ListNode*, vector<ListNode*>, cmp> heap; // å»ºè®®ä½¿ç”¨ä»¿å‡½æ•°è¿™ç§æ–¹æ³•ï¼Œæ˜“ç†è§£
        for(auto x : lists){
            if(x != nullptr) // å‹å…¥å„ä¸ªå¤´ç»“ç‚¹
                heap.push(x);
        }
        while(!heap.empty()){
            ListNode* min_node = heap.top(); // å¼¹å‡ºæœ€å°ç»“ç‚¹
            heap.pop();
            cur->next = min_node; // é“¾æ¥æœ€å°ç»“ç‚¹
            cur = cur->next;
            if(min_node->next != nullptr){ // å‹å…¥æœ€å°ç»“ç‚¹åé¢çš„ç»“ç‚¹
                heap.push(min_node->next);
            }
        }
        ListNode* res = dummy->next;
        delete dummy; dummy = nullptr; // é‡Šæ”¾è¾…åŠ©ç»“ç‚¹ï¼ˆä¸€èˆ¬éƒ½ä¸éœ€è¦å†™ï¼‰
        return res;
    }
};

ä½œè€…ï¼šshou-hu-w9
é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/vvXgSW/solution/jian-zhi-offer-ii-078-he-bing-pai-xu-lia-h5aa/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```

