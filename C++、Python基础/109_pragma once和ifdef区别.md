## #pragma与#ifndef #endif

- 相同点：

1. 都是防止头文件重复包含

- 不同点：

1. 原理不同：**#pragma once如果发现头文件被包含就不会打开头文件，而后者每次都要打开头文件去判断头文件宏，所以前者更快**；
2. #pragma once在两个头文件名不同，而内容相同时，会把两个头文件都包含进来，出现重定义的错误。而后者打开头文件后发现宏名一样，就不会重复包含，也就避免率这个问题。因此**后者更稳定**。

### 参考文献

[#pragma与#ifndef #endif](https://www.cnblogs.com/chen-cs/p/13199731.html)

## #ifdef的本质

用作条件编译命令：

```cpp
#ifdef 标识符
	//程序段1
#else
	//程序段2
#endif

它的作用是：当标识符已经被定义过(一般是用#define命令定义)，则对程序段1进行编译，否则编译程序段2。
其中#else部分也可以没有，即：
#ifdef
	//程序段1
#endif
```

标识符只能用`#define`定义才行：`#define 标识符`，如果定义过`#ifdef`就会判断为真，执行对应的程序段。真因为这个特征，所以才被用在头文件中，用于防止二次编译，解释如下：

```cpp
//abc.h

#ifndef _ABC_H
#define _ABC_H

#include ...

extern ...;
等其他程序段    

#endif
```

如果该头文件没有被包含过，标识符`_ABC_H`就没有被定义过，进入下面的程序段（程序段里就定义了标识符，那么下次包含该文件时，发现标识符已经被定义，就不会进入下面的程序段了）

**注意：`#ifdef`只是用来判断有没有被`#define`定义过，定义的值可有可无，毫无影响。**
**如果想要根据标识符的值作为条件，那么就使用`#if`即可**

### 参考链接

[c++中 #if #ifdef #ifndef #elif #else #endif的用法 ](https://www.cnblogs.com/klb561/p/13844701.html)