[面试概率题搜罗](https://www.nowcoder.com/discuss/400248?type=all&order=time&pos=&page=1&ncTraceId=&channel=-1&source_id=search_all_nctrack)——包含了所有的概率题，很有用

### 数学期望

一个硬币为正的概率为（P），那么其置为正的数学期望是多少。

np

### 木棍截成三角形

一个木棍随机截成三块，问组成一个三角形的概率为多少。

1/4

我们把一根木棍看成单位1，现在要在[0, 1]区间上选两个点，使得这两点划分的三条线段可以构成三角形。

<u>现在我们先随意放一个点，可以在[0, 1]区间上的任何点，假设位置为x（不妨设x < 1/2，在右半边是对称的情况），那么如图3所示，为了使得能够构成三角形，另外一个点可以选取的区间为图中红色虚线之间$(1/2, 1/2+x)$。</u>

只考虑x在左半边的时候，可以构成三角形的概率为：
$$
\int_0^{1/2}xdx=\frac{1}{2}|_0^{1/2}=\frac{1}{8}
$$
右半边是一样的1/8，因此总概率为1/4。

![img](https://img-blog.csdn.net/20141022125436203?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvZmFub2x1bw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)

### 砝码称重

一个重2021的砝码，请问至少分成多少块可以使其称量1-2021个数。

假如有K个砝码，他可以最大称量的范围是
$$
\frac{3^k-1}{2}>2021
$$

### 车辆半小时经过的概率

一个路口，一个小时车辆结果的概率为96%，半个小时的经过概率为多少？
$$
1-\sqrt{0.04}=0.8
$$
### 10个老鼠快速试出毒药

10个老鼠，1000个试管其中一个为毒药，如何最快的找出毒药？

### 九宫格1~9排列

一个九宫格，给你1~9个数字，如何使所有行、列、对角线和都一样？

1. 1~9之和为45

2. 每行和都一样，那么每行和都是$45/3=15$

3. 直观上看，中心位置最重要（共有四条线经过），应该选择一个不大不小的数，所以中心为5

4. 中心为5，那么中间十字和对交线可选的组合为：（1,9）（2,8）（3,7）（4,6）

5. 假设中间为（1,9），那么上方就是（6,8），自然而然对角线就是（4,2），剩下的就填入（3,7），如下图所示
   <u>这里只能硬凑出来中间一条线为（1,9）</u>

   ![1至9九个数字填入九宫格怎么填](https://exp-picture.cdn.bcebos.com/40d2d0e8b004541b21bc0c93869a310e1699a609.jpg?x-bce-process=image%2Fresize%2Cm_lfit%2Cw_500%2Climit_1%2Fformat%2Cf_jpg%2Fquality%2Cq_80)

### 定积分计算

对xcosx进行定积分计算
$$
\begin{aligned}
\int xcosxdx&=\int xdsinx\\
&=xsinx-\int sinxdx \ 分布积分法 \\
&=xsinx+cosx \\\\
&分布积分法 \\
∫f(x)g'(x)dx&=\int f(x)dg(x)\\&=f(x)g(x)- ∫f'(x)g(x)dx
\end{aligned}
$$

### 在一圆周上任意取三个点构成锐角三角形的概率是多少？

![img](https://imgconvert.csdnimg.cn/aHR0cHM6Ly9pa25vdy1waWMuY2RuLmJjZWJvcy5jb20vNmMyMjRmNGEyMGE0NDYyMzA2MGRiNmRlOWUyMjcyMGUwZGYzZDc0Mg?x-oss-process=image/format,png)

任意一点A确定，B也确定之后，要形成锐角三角形，<u>点C必须在DE之间，否则将成为直角或钝角三角形ABC</u>。

设AB对应夹角为θ，<u>θ在（0，π）上才有可能形成锐角三角形</u>，所以θ的概率密度是$\frac{1}{\pi}$，

此时组成锐角三角形需要<u>C点在AB对应的DE段间的概率是$\frac{θ}{2π}$</u>

所以组成锐角三角形的概率为$\frac{θ}{2π}\frac{1}{\pi}$，所以对θ积分就是最终的概率
$$
=\int_0^\pi \frac{\theta}{2\pi^2}d\theta=\frac{1}{4\pi^2}\theta^2|_0^\pi=\frac{1}{4}
$$

**另一种解释**

对于这三个点,容易知道,当A、B、C三点都在同一个半圆内时,三角形ABC必然是直角或钝角三角形,只有当三点不在同一个半圆内,才可以组成锐角三角形x0d则题目转化为“在圆周上任取三个不同的点,求它们不处在同一半圆内的概率”其概率值为 1/2*1/2=1/4

### **在一圆周上任意取三个点构成直角三角形的概率是多少**？

0，暂时不知道咋做

### 100亿数据找出最大的1000个数字（top K问题）

局部淘汰法。用一个容器<u>保存前10000个数</u>，然后将剩余的所有数字一一与容<u>器内的最小数字相比，如果所有后续的元素都比容器内的10000个数还小，那么容器内这个10000个数就是最大10000个数。如果某一后续元素比容器内最小数字大，则删掉容器内最小元素，并将该元素插入容器，最后遍历完这1亿个数</u>，得到的结果容器中保存的数即为最终结果了。此时的时间复杂度为O（n+m^2），其中m为容器的大小。

这个容器可以**用（小顶堆）最小堆来实现**。我们知道完全二叉树有几个非常重要的特性，就是假如该二叉树中总共有N个节点，那么该二叉树的深度就是log2N，对于小顶堆来说移动根元素到 底部或者移动底部元素到根部只需要log2N，相比N来说时间复杂度优化太多了（1亿的logN值是26-27的一个浮点数）。基本的思路就是先从文件中取出1000个元素构建一个小顶堆数组k，然后依次对剩下的100亿-1000个数字进行遍历m，如果m大于小顶堆的根元素，即k[0]，那么用m取代k[0]，对新的数组进行重新构建组成一个新的小顶堆。这个算法的时间复杂度是O((100亿-1000)log(1000))，即O((N-M)logM)，空间复杂度是M

这个算法优点是性能尚可，空间复杂度低，IO读取比较频繁，对系统压力大。

### 每天连续掷硬币，直到连续出现两次正面就停止，第二天继续，连续一年时间，掷出正面的期望值是多少？

假设连续抛出两次正面的次数$E_2$。

假设抛出正面平均需要 ![[公式]](https://www.zhihu.com/equation?tex=E_1) 次, ![[公式]](https://www.zhihu.com/equation?tex=E_1+%3D+1%2Fp+%3D+2)

再抛一次, 要么结束, 再抛 ![[公式]](https://www.zhihu.com/equation?tex=0) 次

要么是反面, 那玩完再抛 $E_2$次回到这个状态, 然后开始一种循环

合起来就是 ![[公式]](https://www.zhihu.com/equation?tex=E_2+%3D+E_1%2B1+%2B+%5Cfrac12%5Ccdot0+%2B%5Cfrac12%5Ccdot+E_2)

（+1是因为再抛一次）

解得: ![[公式]](https://www.zhihu.com/equation?tex=E_%7B2%7D%3D+2+E_%7B1%7D+%2B+2+%3D+6)

同理有 ![[公式]](https://www.zhihu.com/equation?tex=E_%7Bn%7D%3D+2+E_%7Bn-1%7D+%2B+2+%5CRightarrow+E_n+%3D+2%5E%7Bn%2B1%7D-2)

每天期望是 6 次那一年就是 2190 次(假设是正常年)

### 甲乙约定在某地,忘了约时间,只知道七点到八点见面,他们都打算于七点到七点四十五随机时刻到达某地,然后等十五分钟,如果两人没见面就走人,问他们见面的概率是多少?

**一律使用几何法**

几何方法算，X轴代表甲的出发时间，Y轴代表乙的出发时间，满足$∣X−Y∣<=15$的范围为所求,答案为4/9。

### 10000以内4的个数

一共4位，每一位有10种情况，所以一共有$10^4$中情况，不包含4的情况有$9^4$种情况，所以至少包含一个4的情况有$10^4-9^4=3439$种情况。

### 抛硬币的游戏，谁先抛到正面就获胜。那么先抛的人获胜概率为？

```cpp
A先，B后

P(A) = 1/2 +      //A直接取胜 
	   1/2 * 1/2 * 1/2 +      // A1失败B1失败A2取胜
	   1/2 * 1/2 * 1/2 * 1/2 *1/2  +    //A1失败B1失败A2失败B2失败A3取胜
	   ...

p = 1/2 + (1/2)^3 + (1/2)^5 + (1/2)^7 + ...
```

$$
等比数列求和
p = \frac{1/2 * [1 - (1/4)^n]}{1 - 1/4} = 2/3
$$

同理，另一个人赢的概率为1/3

等比数列求和公式：![img](https://bkimg.cdn.bcebos.com/formula/de92cc5e4793ae038e4297e83971154a.svg)

